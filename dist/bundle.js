/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={211:(e,t,n)=>{var i;!function(){var r=window.CustomEvent;function s(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function o(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function c(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function u(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var s="DOMNodeRemoved";n|=r.type.substr(0,s.length)===s,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),u.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var r=0;r<i.length;++r){var s=i[r],a=null;try{a=document.querySelectorAll(s.selectorText)}catch(e){}if(a&&o(a,e)){var c=s.style.getPropertyValue("top"),u=s.style.getPropertyValue("bottom");if(c&&"auto"!==c||u&&"auto"!==u)return!0}}}return!1},needsCentering:function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new u(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=s(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t||(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),0))},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var f=d.get;d.get=function(){return c(this)?"dialog":f.call(this)};var p=d.set;d.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):p.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",(function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&c(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}s(t)&&(l.formSubmitter=t)}}}),!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!c(this))return m.call(this);var e=s(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(c(t)){e.preventDefault();var n=s(t);if(n){var i=l.formSubmitter;i&&i.form===t?n.close(l.useValue||i.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n.amdD?void 0===(i=function(){return l}.call(t,n,t,e))||(e.exports=i):"object"==typeof e.exports?e.exports=l:window.dialogPolyfill=l}()},997:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},544:()=>{var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(e=function(){"use strict";var e=[],t=[],n="mdlComponentConfigInternal_";function i(t,n){for(var i=0;i<e.length;i++)if(e[i].className===t)return void 0!==n&&(e[i]=n),e[i];return!1}function r(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,t){return-1!==r(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var i=document.createEvent("Events");return i.initEvent(e,t,n),i}function o(t,n){if(void 0===t&&void 0===n)for(var r=0;r<e.length;r++)o(e[r].className,e[r].cssClass);else{var s=t;if(void 0===n){var a=i(s);a&&(n=a.cssClass)}for(var u=document.querySelectorAll("."+n),l=0;l<u.length;l++)c(u[l],s)}}function c(o,c){if(!("object"==typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var u=a("mdl-componentupgrading",!0,!0);if(o.dispatchEvent(u),!u.defaultPrevented){var l=r(o),h=[];if(c)s(o,c)||h.push(i(c));else{var d=o.classList;e.forEach((function(e){d.contains(e.cssClass)&&-1===h.indexOf(e)&&!s(o,e.className)&&h.push(e)}))}for(var f,p=0,m=h.length;p<m;p++){if(!(f=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(f.className),o.setAttribute("data-upgraded",l.join(","));var g=new f.classConstructor(o);g[n]=f,t.push(g);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](o);f.widget&&(o[f.className]=g);var b=a("mdl-componentupgraded",!0,!1);o.dispatchEvent(b)}}}function u(e){if(e){var i=t.indexOf(e);t.splice(i,1);var r=e.element_.getAttribute("data-upgraded").split(","),s=r.indexOf(e[n].classAsString);r.splice(s,1),e.element_.setAttribute("data-upgraded",r.join(","));var o=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(o)}}return{upgradeDom:o,upgradeElement:c,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,i=0,r=t.length;i<r;i++)(n=t[i])instanceof HTMLElement&&(c(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)o(e[t].className)},registerUpgradedCallback:function(e,t){var n=i(e);n&&n.callbacks.push(t)},register:function(t){var r=!0;void 0===t.widget&&void 0===t.widget||(r=t.widget||t.widget);var s={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:r,callbacks:[]};if(e.forEach((function(e){if(e.cssClass===s.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===s.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");i(t.classAsString,s)||e.push(s)},downgradeElements:function(e){var n=function(e){t.filter((function(t){return t.element_===e})).forEach(u)};if(e instanceof Array||e instanceof NodeList)for(var i=0;i<e.length;i++)n(e[i]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}))},210:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},634:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,i,r],a=0;a<s.length;a++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[a].appendChild(o)}t.appendChild(n),t.appendChild(i),t.appendChild(r),this.element_.appendChild(t)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},573:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>d,SDK_VERSION:()=>Q,_DEFAULT_ENTRY_NAME:()=>V,_addComponent:()=>K,_addOrOverwriteComponent:()=>G,_apps:()=>q,_clearComponents:()=>Y,_components:()=>H,_getProvider:()=>W,_registerComponent:()=>z,_removeServiceInstance:()=>$,deleteApp:()=>ne,getApp:()=>ee,getApps:()=>te,initializeApp:()=>Z,onLog:()=>re,registerVersion:()=>ie,setLogLevel:()=>se});const t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){const r=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,c=o?e[t+2]:0,u=r>>2,l=(3&r)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;o||(d=64,s||(h=64)),i.push(n[u],n[l],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){const r=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const o=t<e.length?n[e.charAt(t)]:64;if(++t,null==r||null==s||null==a||null==o)throw Error();const c=r<<2|s>>4;if(i.push(c),64!==a){const e=s<<4&240|a>>2;if(i.push(e),64!==o){const e=a<<6&192|o;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=i(e[n],t[n]));return e}class r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function o(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function c(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function u(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function l(){const e=s();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function h(){return"object"==typeof indexedDB}class d extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f.prototype.create)}}class f{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(p,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new d(i,a,n)}}const p=/\{\$([^}]+)}/g;function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(v(n)&&v(s)){if(!g(n,s))return!1}else if(n!==s)return!1}for(const e of i)if(!n.includes(e))return!1;return!0}function v(e){return null!==e&&"object"==typeof e}function y(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function b(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function w(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function I(e,t){const n=new E(e,t);return n.subscribe.bind(n)}class E{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=T),void 0===i.error&&(i.error=T),void 0===i.complete&&(i.complete=T);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function T(){}function k(e){return e&&e._delegate?e._delegate:e}class S{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _="[DEFAULT]";class C{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===_?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var i;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:_:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new C(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const N=[];var D;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(D||(D={}));const R={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},L=D.INFO,P={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},O=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=P[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class x{constructor(e){this.name=e,this._logLevel=L,this._logHandler=O,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}}class M{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const U="@firebase/app",F="0.7.11",j=new x("@firebase/app"),V="[DEFAULT]",B={[U]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},q=new Map,H=new Map;function K(e,t){try{e.container.addComponent(t)}catch(n){j.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function G(e,t){e.container.addOrOverwriteComponent(t)}function z(e){const t=e.name;if(H.has(t))return j.debug(`There were multiple attempts to register component ${t}.`),!1;H.set(t,e);for(const t of q.values())K(t,e);return!0}function W(e,t){return e.container.getProvider(t)}function $(e,t,n=V){W(e,t).clearInstance(n)}function Y(){H.clear()}const J=new f("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class X{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new S("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw J.create("app-deleted",{appName:this._name})}}const Q="9.6.1";function Z(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:V,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw J.create("bad-app-name",{appName:String(i)});const r=q.get(i);if(r){if(g(e,r.options)&&g(n,r.config))return r;throw J.create("duplicate-app",{appName:i})}const s=new A(i);for(const e of H.values())s.addComponent(e);const a=new X(e,n,s);return q.set(i,a),a}function ee(e=V){const t=q.get(e);if(!t)throw J.create("no-app",{appName:e});return t}function te(){return Array.from(q.values())}async function ne(e){const t=e.name;q.has(t)&&(q.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ie(e,t,n){var i;let r=null!==(i=B[e])&&void 0!==i?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${r}" with version "${t}":`];return s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void j.warn(e.join(" "))}z(new S(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}function re(e,t){if(null!==e&&"function"!=typeof e)throw J.create("invalid-log-argument");!function(e,t){for(const n of N){let i=null;t&&t.level&&(i=R[t.level]),n.userLogHandler=null===e?null:(t,n,...r)=>{const s=r.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:D[n].toLowerCase(),message:s,args:r,type:t.name})}}}(e,t)}function se(e){var t;t=e,N.forEach((e=>{e.setLogLevel(t)}))}z(new S("platform-logger",(e=>new M(e)),"PRIVATE")),ie(U,F,""),ie(U,F,"esm2017"),ie("fire-js","");class ae{constructor(e,t){this._delegate=e,this.firebase=t,K(e,new S("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ne(this._delegate))))}_getService(e,t=V){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=V){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){K(this._delegate,e)}_addOrOverwriteComponent(e){G(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new f("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const s=Z(e,i);if(m(n,s.name))return n[s.name];const a=new t(s,r);return n[s.name]=a,a},app:s,registerVersion:ie,setLogLevel:se,onLog:re,apps:null,SDK_VERSION:Q,INTERNAL:{registerComponent:function(e){const n=e.name,a=n.replace("-compat","");if(z(e)&&"PUBLIC"===e.type){const o=(e=s())=>{if("function"!=typeof e[a])throw oe.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&i(o,e.serviceProps),r[a]=o,t.prototype[a]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function s(e){if(!m(n,e=e||V))throw oe.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),s.App=t,r}(ae);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){i(n,e)},createSubscribe:I,ErrorFactory:f,deepExtend:i}),n}(),ue=new x("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const le=ce;function he(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}ie("@firebase/app-compat","0.1.12",void 0),le.registerVersion("firebase","9.6.1","app-compat"),Object.create,Object.create;const de=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new f("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new x("@firebase/auth");function ge(e,...t){me.logLevel<=D.ERROR&&me.error(`Auth (${Q}): ${e}`,...t)}function ve(e,...t){throw Ie(e,...t)}function ye(e,...t){return Ie(e,...t)}function be(e,t,n){const i=Object.assign(Object.assign({},fe()),{[t]:n});return new f("auth","Firebase",i).create(t,{appName:e.name})}function we(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ve(e,"argument-error"),be(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return pe.create(e,...t)}function Ee(e,t,...n){if(!e)throw Ie(t,...n)}function Te(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ge(t),new Error(t)}function ke(e,t){e||Te(t)}const Se=new Map;function _e(e){ke(e instanceof Function,"Expected a class definition");let t=Se.get(e);return t?(ke(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Se.set(e,t),t)}function Ce(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ae(){return"http:"===Ne()||"https:"===Ne()}function Ne(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class De{constructor(e,t){this.shortDelay=e,this.longDelay=t,ke(t>e,"Short delay should be less than long delay!"),this.isMobile=a()||u()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ae()||c()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Re(e,t){ke(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Le{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Oe=new De(3e4,6e4);function xe(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Me(e,t,n,i,r={}){return Ue(e,r,(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const a=y(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Le.fetch()(je(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},r))}))}async function Ue(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Pe),t);try{const t=new Ve(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Be(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Be(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Be(e,"email-already-in-use",s);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw be(e,o,a);ve(e,o)}}catch(t){if(t instanceof d)throw t;ve(e,"network-request-failed")}}async function Fe(e,t,n,i,r={}){const s=await Me(e,t,n,i,r);return"mfaPendingCredential"in s&&ve(e,"multi-factor-auth-required",{_serverResponse:s}),s}function je(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?Re(e.config,r):`${e.config.apiScheme}://${r}`}class Ve{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ye(this.auth,"timeout"))),Oe.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Be(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ye(e,t,i);return r.customData._tokenResponse=n,r}function qe(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function He(e){return 1e3*Number(e)}function Ke(e){const[n,i,r]=e.split(".");if(void 0===n||void 0===i||void 0===r)return ge("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return t.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(i);return e?JSON.parse(e):(ge("Failed to decode base64 JWT payload"),null)}catch(e){return ge("Caught error parsing JWT payload as JSON",e),null}}async function Ge(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof d&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ze{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class We{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qe(this.lastLoginAt),this.creationTime=qe(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $e(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Ge(e,async function(e,t){return Me(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));Ee(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=he(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],o=(c=e.providerData,u=a,[...c.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var c,u;const l=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==o?void 0:o.length)),d=!!l&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new We(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(void 0!==e.idToken,"internal-error"),Ee(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ke(e);return Ee(t,"internal-error"),Ee(void 0!==t.exp,"internal-error"),Ee(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Ue(e,{},(async()=>{const n=y({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=je(e,i,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new Ye;return n&&(Ee("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(Ee("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(Ee("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ye,this.toJSON())}_performRefresh(){return Te("not implemented")}}function Je(e,t){Ee("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Xe{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=he(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.metadata=new We(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Ge(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=k(e),i=await n.getIdToken(t),r=Ke(i);Ee(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:qe(He(r.auth_time)),issuedAtTime:qe(He(r.iat)),expirationTime:qe(He(r.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=k(e);await $e(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Xe(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $e(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ge(this,async function(e,t){return Me(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,a,o,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:I,stsTokenManager:E}=t;Ee(y&&E,e,"internal-error");const T=Ye.fromJSON(this.name,E);Ee("string"==typeof y,e,"internal-error"),Je(l,e.name),Je(h,e.name),Ee("boolean"==typeof b,e,"internal-error"),Ee("boolean"==typeof w,e,"internal-error"),Je(d,e.name),Je(f,e.name),Je(p,e.name),Je(m,e.name),Je(g,e.name),Je(v,e.name);const k=new Xe({uid:y,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return I&&Array.isArray(I)&&(k.providerData=I.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const i=new Ye;i.updateFromServerResponse(t);const r=new Xe({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await $e(r),r}}class Qe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qe.type="NONE";const Ze=Qe;function et(e,t,n){return`firebase:${e}:${t}:${n}`}class tt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=et(this.userKey,i.apiKey,r),this.fullPersistenceKey=et("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xe._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new tt(_e(Ze),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||_e(Ze);const s=et(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(s);if(t){const i=Xe._fromJSON(e,t);n!==r&&(a=i),r=n;break}}catch(e){}const o=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new tt(r,e,n)):new tt(r,e,n)}}function nt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(at(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(it(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ct(t))return"Blackberry";if(ut(t))return"Webos";if(rt(t))return"Safari";if((t.includes("chrome/")||st(t))&&!t.includes("edge/"))return"Chrome";if(ot(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function it(e=s()){return/firefox\//i.test(e)}function rt(e=s()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function st(e=s()){return/crios\//i.test(e)}function at(e=s()){return/iemobile/i.test(e)}function ot(e=s()){return/android/i.test(e)}function ct(e=s()){return/blackberry/i.test(e)}function ut(e=s()){return/webos/i.test(e)}function lt(e=s()){return/iphone|ipad|ipod/i.test(e)}function ht(e=s()){return lt(e)||ot(e)||ut(e)||ct(e)||/windows phone/i.test(e)||at(e)}function dt(e,t=[]){let n;switch(e){case"Browser":n=nt(s());break;case"Worker":n=`${nt(s())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Q}/${i}`}class ft{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mt(this),this.idTokenSubscription=new mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_e(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await tt.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);i&&i!==r||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $e(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?k(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_e(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new f("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_e(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await tt.create(this,[_e(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function pt(e){return k(e)}class mt{constructor(e){this.auth=e,this.observer=null,this.addObserver=I((e=>this.observer=e))}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gt(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function vt(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class yt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Te("not implemented")}_getIdTokenResponse(e){return Te("not implemented")}_linkToIdToken(e,t){return Te("not implemented")}_getReauthenticationResolver(e){return Te("not implemented")}}async function bt(e,t){return Me(e,"POST","/v1/accounts:resetPassword",xe(e,t))}async function wt(e,t){return Me(e,"POST","/v1/accounts:update",t)}async function It(e,t){return Me(e,"POST","/v1/accounts:sendOobCode",xe(e,t))}class Et extends yt{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Et(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Et(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Fe(e,"POST","/v1/accounts:signInWithPassword",xe(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Fe(e,"POST","/v1/accounts:signInWithEmailLink",xe(e,t))}(e,{email:this._email,oobCode:this._password});default:ve(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return wt(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Fe(e,"POST","/v1/accounts:signInWithEmailLink",xe(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ve(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Tt(e,t){return Fe(e,"POST","/v1/accounts:signInWithIdp",xe(e,t))}class kt extends yt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ve("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=he(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new kt(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Tt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=y(t)}return e}}const St={USER_NOT_FOUND:"user-not-found"};class _t extends yt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _t({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _t({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Fe(e,"POST","/v1/accounts:signInWithPhoneNumber",xe(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Fe(e,"POST","/v1/accounts:signInWithPhoneNumber",xe(e,t));if(n.temporaryProof)throw Be(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Fe(e,"POST","/v1/accounts:signInWithPhoneNumber",xe(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),St)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new _t({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Ct{constructor(e){var t,n,i,r,s,a;const o=b(w(e)),c=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=o.mode)&&void 0!==i?i:null);Ee(c&&u&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=u,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=b(w(e)).link,n=t?b(w(t)).deep_link_id:null,i=b(w(e)).deep_link_id;return(i?b(w(i)).link:null)||i||n||t||e}(e);try{return new Ct(t)}catch(e){return null}}}class At{constructor(){this.providerId=At.PROVIDER_ID}static credential(e,t){return Et._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ct.parseLink(t);return Ee(n,"argument-error"),Et._fromEmailAndCode(e,n.code,n.tenantId)}}At.PROVIDER_ID="password",At.EMAIL_PASSWORD_SIGN_IN_METHOD="password",At.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Nt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dt extends Nt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rt extends Dt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Ee("providerId"in t&&"signInMethod"in t,"argument-error"),kt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ee(e.idToken||e.accessToken,"argument-error"),kt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Rt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:s,providerId:a}=e;if(!(n||i||t||r))return null;if(!a)return null;try{return new Rt(a)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:r})}catch(e){return null}}}class Lt extends Dt{constructor(){super("facebook.com")}static credential(e){return kt._fromParams({providerId:Lt.PROVIDER_ID,signInMethod:Lt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lt.credentialFromTaggedObject(e)}static credentialFromError(e){return Lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Lt.credential(e.oauthAccessToken)}catch(e){return null}}}Lt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Lt.PROVIDER_ID="facebook.com";class Pt extends Dt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kt._fromParams({providerId:Pt.PROVIDER_ID,signInMethod:Pt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pt.credentialFromTaggedObject(e)}static credentialFromError(e){return Pt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Pt.credential(t,n)}catch(e){return null}}}Pt.GOOGLE_SIGN_IN_METHOD="google.com",Pt.PROVIDER_ID="google.com";class Ot extends Dt{constructor(){super("github.com")}static credential(e){return kt._fromParams({providerId:Ot.PROVIDER_ID,signInMethod:Ot.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ot.credentialFromTaggedObject(e)}static credentialFromError(e){return Ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ot.credential(e.oauthAccessToken)}catch(e){return null}}}Ot.GITHUB_SIGN_IN_METHOD="github.com",Ot.PROVIDER_ID="github.com";class xt extends yt{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Tt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tt(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new xt(n,r):null}static _create(e,t){return new xt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mt extends Nt{constructor(e){Ee(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Mt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Mt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=xt.fromJSON(e);return Ee(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return xt._create(n,t)}catch(e){return null}}}class Ut extends Dt{constructor(){super("twitter.com")}static credential(e,t){return kt._fromParams({providerId:Ut.PROVIDER_ID,signInMethod:Ut.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ut.credentialFromTaggedObject(e)}static credentialFromError(e){return Ut.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ut.credential(t,n)}catch(e){return null}}}async function Ft(e,t){return Fe(e,"POST","/v1/accounts:signUp",xe(e,t))}Ut.TWITTER_SIGN_IN_METHOD="twitter.com",Ut.PROVIDER_ID="twitter.com";class jt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await Xe._fromIdTokenResponse(e,n,i),s=Vt(n);return new jt({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Vt(n);return new jt({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Vt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Bt extends d{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Bt.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Bt(e,t,n,i)}}function qt(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Bt._fromErrorAndOperation(e,n,t,i);throw n}))}function Ht(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Kt(e,t,n=!1){const i=await Ge(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jt._forOperation(e,"link",i)}async function Gt(e,t,n){await $e(t);const i=!1===e?"provider-already-linked":"no-such-provider";Ee(Ht(t.providerData).has(n)===e,t.auth,i)}async function zt(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const s=await Ge(e,qt(i,r,t,e),n);Ee(s.idToken,i,"internal-error");const a=Ke(s.idToken);Ee(a,i,"internal-error");const{sub:o}=a;return Ee(e.uid===o,i,"user-mismatch"),jt._forOperation(e,r,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&ve(i,"user-mismatch"),e}}async function Wt(e,t,n=!1){const i="signIn",r=await qt(e,i,t),s=await jt._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function $t(e,t){return Wt(pt(e),t)}async function Yt(e,t){const n=k(e);return await Gt(!1,n,t.providerId),Kt(n,t)}async function Jt(e,t){return zt(k(e),t)}class Xt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Qt._fromServerResponse(e,t):ve(e,"internal-error")}}class Qt extends Xt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Qt(t)}}function Zt(e,t,n){var i;Ee((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),Ee(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ee(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ee(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function en(e,t){const n=k(e),i=await bt(n,{oobCode:t}),r=i.requestType;switch(Ee(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(i.mfaInfo,n,"internal-error");default:Ee(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=Xt._fromServerResponse(pt(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}}async function tn(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await Ge(e,wt(i,r));await e._updateTokensIfNecessary(s,!0)}class nn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class rn extends nn{constructor(e,t,n,i){super(e,t,n),this.username=i}}class sn extends nn{constructor(e,t){super(e,"facebook.com",t)}}class an extends rn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class on extends nn{constructor(e,t){super(e,"google.com",t)}}class cn extends rn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function un(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null==e?void 0:e.idToken)){const i=null===(n=null===(t=Ke(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new nn(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new sn(s,r);case"github.com":return new an(s,r);case"google.com":return new on(s,r);case"twitter.com":return new cn(s,r,e.screenName||null);case"custom":case"anonymous":return new nn(s,null);default:return new nn(s,i,r)}}(n)}class ln{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new ln("enroll",e)}static _fromMfaPendingCredential(e){return new ln("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ln._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ln._fromIdtoken(e.multiFactorSession.idToken)}return null}}class hn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=pt(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>Xt._fromServerResponse(n,e)));Ee(i.mfaPendingCredential,n,"internal-error");const s=ln._fromMfaPendingCredential(i.mfaPendingCredential);return new hn(s,r,(async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const a=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await jt._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Ee(t.user,n,"internal-error"),jt._forOperation(t.user,t.operationType,a);default:ve(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class dn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Xt._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new dn(e)}async getSession(){return ln._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,i=await this.getSession(),r=await Ge(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),i=await Ge(this.user,function(e,t){return Me(e,"POST","/v2/accounts/mfaEnrollment:withdraw",xe(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const fn=new WeakMap,pn="__sak";class mn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pn,"1"),this.storage.removeItem(pn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class gn extends mn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=s();return rt(e)||lt(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ht(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);l()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gn.type="LOCAL";const vn=gn;class yn extends mn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yn.type="SESSION";const bn=yn;class wn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new wn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(s).map((async e=>e(t.origin,r))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function In(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}wn.receivers=[];class En{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((a,o)=>{const c=In("",20);i.port1.start();const u=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),r=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(u),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Tn(){return window}function kn(){return void 0!==Tn().WorkerGlobalScope&&"function"==typeof Tn().importScripts}const Sn="firebaseLocalStorageDb",_n="firebaseLocalStorage",Cn="fbase_key";class An{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Nn(e,t){return e.transaction([_n],t?"readwrite":"readonly").objectStore(_n)}function Dn(){const e=indexedDB.open(Sn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(_n,{keyPath:Cn})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(_n)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Sn);return new An(e).toPromise()}(),t(await Dn()))}))}))}async function Rn(e,t,n){const i=Nn(e,!0).put({[Cn]:t,value:n});return new An(i).toPromise()}function Ln(e,t){const n=Nn(e,!0).delete(t);return new An(n).toPromise()}class Pn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Dn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wn._getInstance(kn()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new En(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dn();return await Rn(e,pn,"1"),await Ln(e,pn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Rn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Nn(e,!1).get(t),i=await new An(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ln(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Nn(e,!1).getAll();return new An(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Pn.type="LOCAL";const On=Pn;function xn(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=ye("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function Mn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Un=1e12;class Fn{constructor(e){this.auth=e,this.counter=Un,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new jn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Un;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Un;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Un;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class jn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;Ee(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vn=Mn("rcb"),Bn=new De(3e4,6e4);class qn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Tn().grecaptcha}load(e,t=""){return Ee(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Tn().grecaptcha):new Promise(((n,i)=>{const r=Tn().setTimeout((()=>{i(ye(e,"network-request-failed"))}),Bn.get());Tn()[Vn]=()=>{Tn().clearTimeout(r),delete Tn()[Vn];const s=Tn().grecaptcha;if(!s)return void i(ye(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},xn(`https://www.google.com/recaptcha/api.js??${y({onload:Vn,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(r),i(ye(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Tn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hn{async load(e){return new Fn(e)}clearedOneInstance(){}}const Kn="recaptcha",Gn={theme:"light",type:"image"};class zn{constructor(e,t=Object.assign({},Gn),n){this.parameters=t,this.type=Kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pt(n),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;Ee(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hn:new qn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=Tn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ee(Ae()&&!kn(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Me(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Ee(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_t._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function $n(e,t,n){var i;const r=await n.verify();try{let s;if(Ee("string"==typeof r,e,"argument-error"),Ee(n.type===Kn,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ee("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Me(e,"POST","/v2/accounts/mfaEnrollment:start",xe(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Ee("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;Ee(n,e,"missing-multi-factor-info");const a=await function(e,t){return Me(e,"POST","/v2/accounts/mfaSignIn:start",xe(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Me(e,"POST","/v1/accounts:sendVerificationCode",xe(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class Yn{constructor(e){this.providerId=Yn.PROVIDER_ID,this.auth=pt(e)}verifyPhoneNumber(e,t){return $n(this.auth,e,k(t))}static credential(e,t){return _t._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yn.credentialFromTaggedObject(t)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?_t._fromTokenResponse(t,n):null}}function Jn(e,t){return t?_e(t):(Ee(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yn.PROVIDER_ID="phone",Yn.PHONE_SIGN_IN_METHOD="phone";class Xn extends yt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Qn(e){return Wt(e.auth,new Xn(e),e.bypassAuthState)}function Zn(e){const{auth:t,user:n}=e;return Ee(n,t,"internal-error"),zt(n,new Xn(e),e.bypassAuthState)}async function ei(e){const{auth:t,user:n}=e;return Ee(n,t,"internal-error"),Kt(n,new Xn(e),e.bypassAuthState)}class ti{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qn;case"linkViaPopup":case"linkViaRedirect":return ei;case"reauthViaPopup":case"reauthViaRedirect":return Zn;default:ve(this.auth,"internal-error")}}resolve(e){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ni=new De(2e3,1e4);class ii extends ti{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,ii.currentPopupAction&&ii.currentPopupAction.cancel(),ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ke(1===this.filter.length,"Popup operations only handle one event");const e=In();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ye(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,ni.get())};e()}}ii.currentPopupAction=null;const ri=new Map;class si extends ti{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ri.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ci(t),i=oi(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ri.set(this.auth._key(),e)}return this.bypassAuthState||ri.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function ai(e,t){return oi(e)._set(ci(t),"true")}function oi(e){return _e(e._redirectPersistence)}function ci(e){return et("pendingRedirect",e.config.apiKey,e.name)}async function ui(e,t,n=!1){const i=pt(e),r=Jn(i,t),s=new si(i,r,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}async function li(e){const t=In(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class hi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!fi(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ye(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(di(e))}saveEventToCache(e){this.cachedEventUids.add(di(e)),this.lastProcessedEventTime=Date.now()}}function di(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function fi({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function pi(e,t={}){return Me(e,"GET","/v1/projects",t)}const mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gi=/^https?/;function vi(e){const t=Ce(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!gi.test(n))return!1;if(mi.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const yi=new De(3e4,6e4);function bi(){const e=Tn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let wi=null;function Ii(e){return wi=wi||function(e){return new Promise(((t,n)=>{var i,r,s;function a(){bi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bi(),n(ye(e,"network-request-failed"))},timeout:yi.get()})}if(null===(r=null===(i=Tn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Tn().gapi)||void 0===s?void 0:s.load)){const t=Mn("iframefcb");return Tn()[t]=()=>{gapi.load?a():n(ye(e,"network-request-failed"))},xn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw wi=null,e}))}(e),wi}const Ei=new De(5e3,15e3),Ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ki=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Si(e){const t=e.config;Ee(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Re(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:Q},r=ki.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${y(i).slice(1)}`}const _i={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ci{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ai(e,t,n,i,r,s){Ee(e.config.authDomain,e,"auth-domain-config-required"),Ee(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Q,eventId:r};if(t instanceof Nt){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Dt){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const e of Object.keys(o))void 0===o[e]&&delete o[e];return`${function({config:e}){return e.emulator?Re(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${y(o).slice(1)}`}const Ni="webStorageSupport",Di=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bn,this._completeRedirectFn=ui}async _openPopup(e,t,n,i){var r;return ke(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,r=600){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},_i),{width:i.toString(),height:r.toString(),top:a,left:o}),l=s().toLowerCase();n&&(c=st(l)?"_blank":n),it(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=s()){var t;return lt(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",c),new Ci(null);const d=window.open(t||"",c,h);Ee(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Ci(d)}(e,Ai(e,t,n,Ce(),i),In())}async _openRedirect(e,t,n,i){var r;return await this._originValidation(e),r=Ai(e,t,n,Ce(),i),Tn().location.href=r,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ke(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ii(e),n=Tn().gapi;return Ee(n,e,"internal-error"),t.open({where:document.body,url:Si(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ti,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=ye(e,"network-request-failed"),s=Tn().setTimeout((()=>{i(r)}),Ei.get());function a(){Tn().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{i(r)}))}))))}(e),n=new hi(e);return t.register("authEvent",(t=>(Ee(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ni,{type:Ni},(n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&t(!!r),ve(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await pi(e);for(const e of t)try{if(vi(e))return}catch(e){}ve(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ht()||rt()||lt()}};class Ri extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Te("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ri(e)}_finalizeEnroll(e,t,n){return function(e,t){return Me(e,"POST","/v2/accounts/mfaEnrollment:finalize",xe(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Me(e,"POST","/v2/accounts/mfaSignIn:finalize",xe(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Li{constructor(){}static assertion(e){return Ri._fromCredential(e)}}Li.FACTOR_ID="phone";var Pi,Oi="@firebase/auth",xi="0.19.4";class Mi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ui(){return window}Pi="Browser",z(new S("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:r}=n.options;return(e=>{Ee(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),Ee(!(null==r?void 0:r.includes(":")),"argument-error",{appName:e.name});const n={apiKey:i,authDomain:r,clientPlatform:Pi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(Pi)},s=new ft(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(_e);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),z(new S("auth-internal",(e=>(e=>new Mi(e))(pt(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ie(Oi,xi,void 0),ie(Oi,xi,"esm2017");class Fi extends hi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ji(e){const t=await Bi()._get(qi(e));return t&&await Bi()._remove(qi(e)),t}function Vi(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Bi(){return _e(vn)}function qi(e){return et("authEvent",e.config.apiKey,e.name)}function Hi(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return b(n.join("?"))}function Ki(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function Gi(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function zi(e=s()){return!("file:"!==Gi()&&"ionic:"!==Gi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wi(){try{const e=self.localStorage,t=In();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=s()){return l()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=s()){return/Edge\/\d+/.test(e)}(e)}()||h()}catch(e){return $i()&&h()}return!1}function $i(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Yi(){return("http:"===Gi()||"https:"===Gi()||c()||zi())&&!(u()||o())&&Wi()&&!$i()}function Ji(){return zi()&&"undefined"!=typeof document}const Xi={LOCAL:"local",NONE:"none",SESSION:"session"},Qi=Ee,Zi="persistence";async function er(e){await e._initializationPromise;const t=tr(),n=et(Zi,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function tr(){return"undefined"!=typeof window?window:null}const nr=Ee;class ir{constructor(){this.browserResolver=_e(Di),this.cordovaResolver=_e(class{constructor(){this._redirectPersistence=bn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ui}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Fi(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ve(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,r,s,a,o,c,u,l;const h=Ui();Ee("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(s=null===(r=null===(i=null==h?void 0:h.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(c=null===(o=null===(a=null==h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(l=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=await this._initialize(e);await r.initialized(),r.resetRedirect(),ri.clear(),await this._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Vi(),postBody:null,tenantId:e.tenantId,error:ye(e,"no-auth-event")}}(e,n,i);await function(e,t){return Bi()._set(qi(e),t)}(e,a);const o=await async function(e,t,n){var i;const{BuildInfo:r}=Ui();ke(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(ke(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return lt()?a.ibi=r.packageName:ot()?a.apn=r.packageName:ve(e,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=s,Ai(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,a)}(e,a,t);return async function(e,t,n){const{cordova:i}=Ui();let r=()=>{};try{await new Promise(((s,a)=>{let o=null;function c(){var e;s();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){o||(o=window.setTimeout((()=>{a(ye(e,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),ot()&&document.addEventListener("visibilitychange",l,!1),r=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),o&&window.clearTimeout(o)}}))}finally{r()}}(e,r,await function(e){const{cordova:t}=Ui();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let r=null;i?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,function(e=s()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(r)}))}))}(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ui(),n={};lt()?n.iosBundleId=t.packageName:ot()?n.androidPackageName=t.packageName:ve(e,"operation-not-supported-in-this-environment"),await pi(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=Ui(),s=setTimeout((async()=>{await ji(e),t.onEvent(Ki())}),500),a=async n=>{clearTimeout(s);const i=await ji(e);let r=null;i&&(null==n?void 0:n.url)&&(r=function(e,t){var n,i;const r=function(e){const t=Hi(e),n=t.link?decodeURIComponent(t.link):void 0,i=Hi(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Hi(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=Hi(r),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(i=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],o=a?ye(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}(i,n.url)),t.onEvent(r||Ki())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const o=i,c=`${r.packageName.toLowerCase()}://`;Ui().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=bn,this._completeRedirectFn=ui}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ji()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nr(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Ji()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function rr(e){return e.unwrap()}function sr(e){const{_tokenResponse:t}=e instanceof d?e.customData:e;if(!t)return null;if(!(e instanceof d)&&"temporaryProof"in t&&"phoneNumber"in t)return Yn.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let i;switch(n){case"google.com":i=Pt;break;case"facebook.com":i=Lt;break;case"github.com":i=Ot;break;case"twitter.com":i=Ut;break;default:const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return r||s||e||a?a?n.startsWith("saml.")?xt._create(n,a):kt._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:r}):new Rt(n).credential({idToken:e,accessToken:r,rawNonce:o}):null}return e instanceof d?i.credentialFromError(e):i.credentialFromResult(e)}function ar(e,t){return t.catch((t=>{throw t instanceof d&&function(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new cr(e,function(e,t){var n;const i=k(e),r=t;return Ee(t.customData.operationType,i,"argument-error"),Ee(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),hn._fromError(i,r)}(e,t));else if(i){const e=sr(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,sr(i)),additionalUserInfo:un(e),user:ur.getOrCreate(n)};var i}))}async function or(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ar(e,n.confirm(t))}}class cr{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ar(rr(this.auth),this.resolver.resolveSignIn(e))}}class ur{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=k(e);return fn.has(t)||fn.set(t,dn._fromUser(t)),fn.get(t)}(e)}static getOrCreate(e){return ur.USER_MAP.has(e)||ur.USER_MAP.set(e,new ur(e)),ur.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ar(this.auth,Yt(this._delegate,e))}async linkWithPhoneNumber(e,t){return or(this.auth,async function(e,t,n){const i=k(e);await Gt(!1,i,"phone");const r=await $n(i.auth,t,k(n));return new Wn(r,(e=>Yt(i,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ar(this.auth,async function(e,t,n){const i=k(e);we(i.auth,t,Nt);const r=Jn(i.auth,n);return new ii(i.auth,"linkViaPopup",t,r,i).executeNotNull()}(this._delegate,e,ir))}async linkWithRedirect(e){return await er(pt(this.auth)),function(e,t,n){return async function(e,t,n){const i=k(e);we(i.auth,t,Nt);const r=Jn(i.auth,n);await Gt(!1,i,t.providerId),await ai(r,i.auth);const s=await li(i);return r._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}(this._delegate,e,ir)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ar(this.auth,Jt(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return or(this.auth,async function(e,t,n){const i=k(e),r=await $n(i.auth,t,k(n));return new Wn(r,(e=>Jt(i,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ar(this.auth,async function(e,t,n){const i=k(e);we(i.auth,t,Nt);const r=Jn(i.auth,n);return new ii(i.auth,"reauthViaPopup",t,r,i).executeNotNull()}(this._delegate,e,ir))}async reauthenticateWithRedirect(e){return await er(pt(this.auth)),function(e,t,n){return async function(e,t,n){const i=k(e);we(i.auth,t,Nt);const r=Jn(i.auth,n);await ai(r,i.auth);const s=await li(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}(this._delegate,e,ir)}sendEmailVerification(e){return async function(e,t){const n=k(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Zt(n.auth,i,t);const{email:r}=await async function(e,t){return It(e,t)}(n.auth,i);r!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=k(e);await Gt(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return Me(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=Ht(i||[]);return n.providerData=n.providerData.filter((e=>r.has(e.providerId))),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return tn(k(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return tn(k(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Kt(k(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=k(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await Ge(i,async function(e,t){return Me(e,"POST","/v1/accounts:update",t)}(i.auth,r));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const i=k(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Zt(i.auth,r,n);const{email:s}=await async function(e,t){return It(e,t)}(i.auth,r);s!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ur.USER_MAP=new WeakMap;const lr=Ee;class hr{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;lr(n,"invalid-api-key",{appName:e.name});let i=[Ze];if("undefined"!=typeof window){i=function(e,t){const n=tr();if(!(null==n?void 0:n.sessionStorage))return[];const i=et(Zi,e,t);switch(n.sessionStorage.getItem(i)){case Xi.NONE:return[Ze];case Xi.LOCAL:return[On,bn];case Xi.SESSION:return[bn];default:return[]}}(n,e.name);for(const e of[On,vn,bn])i.includes(e)||i.push(e)}lr(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?ir:void 0;this._delegate=t.initialize({options:{persistence:i,popupRedirectResolver:r}}),this._delegate._updateErrorMap(de),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ur.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const i=pt(e);Ee(i._canInitEmulator,i,"emulator-config-failed"),Ee(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=gt(t),{host:a,port:o}=function(e){const t=gt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:vt(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:vt(t)}}}(t),c=null===o?"":`:${o}`;i.config.emulator={url:`${s}//${a}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return Me(e,"POST","/v1/accounts:update",xe(e,t))}(k(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return en(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await bt(k(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ar(this._delegate,async function(e,t,n){const i=pt(e),r=await Ft(i,{returnSecureToken:!0,email:t,password:n}),s=await jt._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:Ae()?Ce():"http://localhost"},{signinMethods:i}=await async function(e,t){return Me(e,"POST","/v1/accounts:createAuthUri",xe(e,t))}(k(e),n);return i||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ct.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){lr(Yi(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await pt(e)._initializationPromise,ui(e,t,!1)}(this._delegate,ir);return e?ar(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){pt(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=dr(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=dr(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const i=k(e),r={requestType:"EMAIL_SIGNIN",email:t};Ee(n.handleCodeInApp,i,"argument-error"),n&&Zt(i,r,n),await async function(e,t){return It(e,t)}(i,r)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const i=k(e),r={requestType:"PASSWORD_RESET",email:t};n&&Zt(i,r,n),await async function(e,t){return It(e,t)}(i,r)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Qi(Object.values(Xi).includes(t),e,"invalid-persistence-type"),u()?Qi(t!==Xi.SESSION,e,"unsupported-persistence-type"):o()?Qi(t===Xi.NONE,e,"unsupported-persistence-type"):$i()?Qi(t===Xi.NONE||t===Xi.LOCAL&&h(),e,"unsupported-persistence-type"):Qi(t===Xi.NONE||Wi(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Xi.SESSION:t=bn;break;case Xi.LOCAL:t=await _e(On)._isAvailable()?On:vn;break;case Xi.NONE:t=Ze;break;default:return ve("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ar(this._delegate,async function(e){var t;const n=pt(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new jt({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Ft(n,{returnSecureToken:!0}),r=await jt._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(this._delegate))}signInWithCredential(e){return ar(this._delegate,$t(this._delegate,e))}signInWithCustomToken(e){return ar(this._delegate,async function(e,t){const n=pt(e),i=await async function(e,t){return Fe(e,"POST","/v1/accounts:signInWithCustomToken",xe(e,t))}(n,{token:t,returnSecureToken:!0}),r=await jt._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}(this._delegate,e))}signInWithEmailAndPassword(e,t){return ar(this._delegate,function(e,t,n){return $t(k(e),At.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ar(this._delegate,async function(e,t,n){const i=k(e),r=At.credentialWithLink(t,n||Ce());return Ee(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),$t(i,r)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return or(this._delegate,async function(e,t,n){const i=pt(e),r=await $n(i,t,k(n));return new Wn(r,(e=>$t(i,e)))}(this._delegate,e,t))}async signInWithPopup(e){return lr(Yi(),this._delegate,"operation-not-supported-in-this-environment"),ar(this._delegate,async function(e,t,n){const i=pt(e);we(e,t,Nt);const r=Jn(i,n);return new ii(i,"signInViaPopup",t,r).executeNotNull()}(this._delegate,e,ir))}async signInWithRedirect(e){return lr(Yi(),this._delegate,"operation-not-supported-in-this-environment"),await er(this._delegate),function(e,t,n){return async function(e,t,n){const i=pt(e);we(e,t,Nt);const r=Jn(i,n);return await ai(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,ir)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await en(k(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function dr(e,t,n){let i=e;"function"!=typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&ur.getOrCreate(e)),error:t,complete:n}}hr.Persistence=Xi;class fr{constructor(){this.providerId="phone",this._delegate=new Yn(rr(le.auth()))}static credential(e,t){return Yn.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}fr.PHONE_SIGN_IN_METHOD=Yn.PHONE_SIGN_IN_METHOD,fr.PROVIDER_ID=Yn.PROVIDER_ID;const pr=Ee;var mr;(mr=le).INTERNAL.registerComponent(new S("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new hr(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:At,FacebookAuthProvider:Lt,GithubAuthProvider:Ot,GoogleAuthProvider:Pt,OAuthProvider:Rt,SAMLAuthProvider:Mt,PhoneAuthProvider:fr,PhoneMultiFactorGenerator:Li,RecaptchaVerifier:class{constructor(e,t,n=le.app()){var i;pr(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new zn(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:Ut,Auth:hr,AuthCredential:yt,Error:d}).setInstantiationMode("LAZY").setMultipleInstances(!1)),mr.registerVersion("@firebase/auth-compat","0.2.4");var gr=n(211),vr=n.n(gr);n(544),n(997),n(210),n(634),n(573),function(){(function(){var e,t,i="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var r;e:{var s={};try{s.__proto__={xb:!0},r=s.xb;break e}catch(Je){}r=!1}t=r?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var a=t;function o(e,t){if(e.prototype=i(t.prototype),e.prototype.constructor=e,a)a(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.K=t.prototype}var c="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},u="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this;function l(e,t){if(t){var n=u;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];r in n||(n[r]={}),n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&c(n,e,{configurable:!0,writable:!0,value:t})}}l("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),l("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}}));var h=this;function d(e){return void 0!==e}function f(e){return"string"==typeof e}var p=/^[\w+/_-]+[=]{0,2}$/,m=null;function g(){}function v(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function y(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function b(e){return"array"==y(e)}function w(e){var t=y(e);return"array"==t||"object"==t&&"number"==typeof e.length}function I(e){return"function"==y(e)}function E(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var T="closure_uid_"+(1e9*Math.random()>>>0),k=0;function S(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:_).apply(null,arguments)}function A(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function N(e,t){for(var n in t)e[n]=t[n]}var D,R=Date.now||function(){return+new Date};function L(e,t){e=e.split(".");var n,i=h;e[0]in i||void 0===i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&d(t)?i[n]=t:i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}}function P(e,t){function n(){}n.prototype=t.prototype,e.K=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.vc=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function O(e){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function x(e,t){for(var n="",i=(e=e.split("%s")).length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");O.call(this,n+e[i])}function M(e,t){throw new x("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}P(O,Error),O.prototype.name="CustomError",P(x,O),x.prototype.name="AssertionError";var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(f(e))return f(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},F=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=f(e)?e.split(""):e,s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)},j=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=[],r=0,s=f(e)?e.split(""):e,a=0;a<n;a++)if(a in s){var o=s[a];t.call(void 0,o,a,e)&&(i[r++]=o)}return i},V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r=f(e)?e.split(""):e,s=0;s<n;s++)s in r&&(i[s]=t.call(void 0,r[s],s,e));return i},B=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=f(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function q(e,t){return 0<=U(e,t)}function H(e,t){var n;return(n=0<=(t=U(e,t)))&&K(e,t),n}function K(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function G(e){return Array.prototype.concat.apply([],arguments)}function z(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function W(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var $=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Y=/&/g,J=/</g,X=/>/g,Q=/"/g,Z=/'/g,ee=/\x00/g,te=/[\x00&<>"']/;function ne(e,t){return e<t?-1:e>t?1:0}function ie(e){return te.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Y,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(J,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(X,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Q,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Z,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ee,"&#0;"))),e}function re(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function se(e){var t,n={};for(t in e)n[t]=e[t];return n}var ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var s=0;s<ae.length;s++)n=ae[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}var ce="StopIteration"in h?h.StopIteration:{message:"StopIteration",stack:""};function ue(){}function he(e){if(e instanceof ue)return e;if("function"==typeof e.ha)return e.ha(!1);if(w(e)){var t=0,n=new ue;return n.next=function(){for(;;){if(t>=e.length)throw ce;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function de(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof de)for(n=e.ja(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function fe(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];pe(e.g,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.h!=e.a.length){var r={};for(n=t=0;t<e.a.length;)pe(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function pe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}ue.prototype.next=function(){throw ce},ue.prototype.ha=function(){return this},(e=de.prototype).la=function(){fe(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return fe(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return pe(this.g,e)?this.g[e]:t},e.set=function(e,t){pe(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ja(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}},e.ha=function(e){fe(this);var t=0,n=this.j,i=this,r=new ue;return r.next=function(){if(n!=i.j)throw Error("The map has changed since the iterator was created");if(t>=i.a.length)throw ce;var r=i.a[t++];return e?r:i.g[r]},r};var me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ge(e,t,n,i){for(var r=n.length;0<=(t=e.indexOf(n,t))&&t<i;){var s=e.charCodeAt(t-1);if(!(38!=s&&63!=s||(s=e.charCodeAt(t+r))&&61!=s&&38!=s&&35!=s))return t;t+=r+1}return-1}var ve=/#|$/;function ye(e,t){var n=e.search(ve),i=ge(e,0,t,n);if(0>i)return null;var r=e.indexOf("&",i);return(0>r||r>n)&&(r=n),i+=t.length+1,decodeURIComponent(e.substr(i,r-i).replace(/\+/g," "))}var be=/[?&]($|#)/;function we(e,t){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof we?(this.i=d(t)?t:e.i,Ie(this,e.j),this.A=e.A,this.h=e.h,Ee(this,e.C),this.g=e.g,Te(this,Ue(e.a)),this.s=e.s):e&&(n=String(e).match(me))?(this.i=!!t,Ie(this,n[1]||"",!0),this.A=Se(n[2]||""),this.h=Se(n[3]||"",!0),Ee(this,n[4]),this.g=Se(n[5]||"",!0),Te(this,n[6]||"",!0),this.s=Se(n[7]||"")):(this.i=!!t,this.a=new Pe(null,this.i))}function Ie(e,t,n){e.j=n?Se(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ee(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function Te(e,t,n){t instanceof Pe?(e.a=t,function(e,t){t&&!e.j&&(Oe(e),e.h=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xe(this,t),xe(this,n),0<e.length&&(this.h=null,this.a.set(Fe(this,n),z(e)),this.g+=e.length))}),e)),e.j=t}(e.a,e.i)):(n||(t=_e(t,Re)),e.a=new Pe(t,e.i))}function ke(e){return e instanceof we?new we(e):new we(e,void 0)}function Se(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _e(e,t,n){return f(e)?(e=encodeURI(e).replace(t,Ce),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ce(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}we.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_e(t,Ae,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(_e(t,Ae,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(_e(n,"/"==n.charAt(0)?De:Ne,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.s)&&e.push("#",_e(n,Le)),e.join("")};var Ae=/[#\/\?@]/g,Ne=/[#\?:]/g,De=/[#\?]/g,Re=/[#\?@]/g,Le=/#/g;function Pe(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Oe(e){e.a||(e.a=new de,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.h,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xe(e,t){Oe(e),t=Fe(e,t),pe(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,pe((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&fe(e)))}function Me(e,t){return Oe(e),t=Fe(e,t),pe(e.a.g,t)}function Ue(e){var t=new Pe;return t.h=e.h,e.a&&(t.a=new de(e.a),t.g=e.g),t}function Fe(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function je(e){this.a=ke(e)}function Ve(e){return e.a.a.get(He.Pa)||null}function Be(e,t){t?e.a.a.set(He.PROVIDER_ID,t):xe(e.a.a,He.PROVIDER_ID)}(e=Pe.prototype).add=function(e,t){Oe(this),this.h=null,e=Fe(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Oe(this),this.a.forEach((function(n,i){F(n,(function(n){e.call(t,n,i,this)}),this)}),this)},e.ja=function(){Oe(this);for(var e=this.a.la(),t=this.a.ja(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},e.la=function(e){Oe(this);var t=[];if(f(e))Me(this,e)&&(t=G(t,this.a.get(Fe(this,e))));else{e=this.a.la();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},e.set=function(e,t){return Oe(this),this.h=null,Me(this,e=Fe(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.la(i);for(var s=0;s<i.length;s++){var a=r;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.h=e.join("&")},je.prototype.toString=function(){return this.a.toString()};var qe,He={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var Ke=h.navigator;if(Ke){var Ge=Ke.userAgent;if(Ge){qe=Ge;break e}}qe=""}function ze(e){return-1!=qe.indexOf(e)}function We(){return(ze("Chrome")||ze("CriOS"))&&!ze("Edge")}function $e(e){return $e[" "](e),e}$e[" "]=g;var Ye,Je,Xe=ze("Opera"),Qe=ze("Trident")||ze("MSIE"),Ze=ze("Edge"),et=Ze||Qe,tt=ze("Gecko")&&!(-1!=qe.toLowerCase().indexOf("webkit")&&!ze("Edge"))&&!(ze("Trident")||ze("MSIE"))&&!ze("Edge"),nt=-1!=qe.toLowerCase().indexOf("webkit")&&!ze("Edge"),it=nt&&ze("Mobile"),rt=ze("Macintosh");function st(){var e=h.document;return e?e.documentMode:void 0}e:{var at="",ot=(Je=qe,tt?/rv:([^\);]+)(\)|;)/.exec(Je):Ze?/Edge\/([\d\.]+)/.exec(Je):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Je):nt?/WebKit\/(\S+)/.exec(Je):Xe?/(?:Version)[ \/]?(\S+)/.exec(Je):void 0);if(ot&&(at=ot?ot[1]:""),Qe){var ct=st();if(null!=ct&&ct>parseFloat(at)){Ye=String(ct);break e}}Ye=at}var ut,lt={};function ht(e){return function(e,t){var n=lt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=$(String(Ye)).split("."),i=$(String(e)).split("."),r=Math.max(n.length,i.length),s=0;0==t&&s<r;s++){var a=n[s]||"",o=i[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;t=ne(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ne(0==a[2].length,0==o[2].length)||ne(a[2],o[2]),a=a[3],o=o[3]}while(0==t)}return 0<=t}))}var dt=h.document;function ft(e,t){this.a=e===mt&&t||"",this.g=pt}ut=dt&&Qe?st()||("CSS1Compat"==dt.compatMode?parseInt(Ye,10):5):void 0,ft.prototype.ma=!0,ft.prototype.ka=function(){return this.a},ft.prototype.toString=function(){return"Const{"+this.a+"}"};var pt={},mt={};function gt(){this.a="",this.h=yt}function vt(e){return e instanceof gt&&e.constructor===gt&&e.h===yt?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+y(e)),"type_error:TrustedResourceUrl")}gt.prototype.ma=!0,gt.prototype.ka=function(){return this.a.toString()},gt.prototype.g=function(){return 1},gt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var yt={};function bt(){this.a="",this.h=kt}function wt(e){return e instanceof bt&&e.constructor===bt&&e.h===kt?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+y(e)),"type_error:SafeUrl")}bt.prototype.ma=!0,bt.prototype.ka=function(){return this.a.toString()},bt.prototype.g=function(){return 1},bt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var It=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Et(e){return e instanceof bt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),It.test(e)||(e="about:invalid#zClosurez"),St(e))}function Tt(e){return e instanceof bt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),It.test(e)||(e="about:invalid#zClosurez"),St(e))}var kt={};function St(e){var t=new bt;return t.a=e,t}function _t(){this.a="",this.g=Ct}St("about:blank"),_t.prototype.ma=!0;var Ct={};function At(){this.a="",this.j=Dt,this.h=null}function Nt(e){return e instanceof At&&e.constructor===At&&e.j===Dt?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+y(e)),"type_error:SafeHtml")}_t.prototype.ka=function(){return this.a},_t.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},At.prototype.g=function(){return this.h},At.prototype.ma=!0,At.prototype.ka=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Dt={};function Rt(e,t){var n=new At;return n.a=e,n.h=t,n}Rt("<!DOCTYPE html>",0);var Lt=Rt("",0);Rt("<br>",0);var Pt,Ot,xt=(Ot=!1,function(){return Ot||(Pt=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Nt(Lt),!t.parentElement)}(),Ot=!0),Pt});function Mt(e,t){t=t instanceof bt?t:Tt(t),e.assign(wt(t))}function Ut(e,t){this.a=d(e)?e:0,this.g=d(t)?t:0}function Ft(e,t){this.width=e,this.height=t}function jt(e){return e?new Yt(zt(e)):D||(D=new Yt)}function Vt(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):qt(document,e,t)}function Bt(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var i=t||n;e=i.querySelectorAll&&i.querySelector&&e?i.querySelector(e?"."+e:""):qt(n,e,t)[0]||null}return e||null}function qt(e,t,n){var i;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var r=e.getElementsByClassName(t);return r}if(r=e.getElementsByTagName("*"),t){var s={};for(n=i=0;e=r[n];n++){var a=e.className;"function"==typeof a.split&&q(a.split(/\s+/),t)&&(s[i++]=e)}return s.length=i,s}return r}Ut.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Ut.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Ut.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Ut.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Ft.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kt(e){return e.scrollingElement?e.scrollingElement:(nt||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function Gt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function zt(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function Wt(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(zt(e).createTextNode(String(t)))}}function $t(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,(function(e){return!t||f(e.className)&&q(e.className.split(/\s+/),t)})):null}function Yt(e){this.a=e||h.document||document}Yt.prototype.N=function(){return f(void 0)?this.a.getElementById(void 0):void 0};var Jt={Fc:!0},Xt={Hc:!0},Qt={Ec:!0},Zt={Gc:!0};function en(){throw Error("Do not instantiate directly")}function tn(e,t,n,i){if(e=e(t||rn,void 0,n),i=(i||jt()).a.createElement("DIV"),(e=function(e){if(!E(e))return ie(String(e));if(e instanceof en){if(e.fa===Jt)return e.content;if(e.fa===Zt)return ie(e.content)}return M("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(nn),e=Rt(e,null),xt())for(;i.lastChild;)i.removeChild(i.lastChild);return i.innerHTML=Nt(e),1==i.childNodes.length&&1==(e=i.firstChild).nodeType&&(i=e),i}en.prototype.va=null,en.prototype.toString=function(){return this.content};var nn=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,rn={};function sn(){en.call(this)}function an(e){return null!=e&&e.fa===Jt?e:e instanceof At?ln(Nt(e).toString(),e.g()):ln(ie(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function on(){en.call(this)}function cn(e,t){this.content=String(e),this.va=null!=t?t:null}function un(e){return new cn(e,void 0)}P(sn,en),sn.prototype.fa=Jt,P(on,en),on.prototype.fa=Xt,on.prototype.va=1,P(cn,en),cn.prototype.fa=Zt;var ln=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.va=n),e}}(sn),hn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(on);function dn(e){return(e=String(e))?new cn(e,void 0):""}var fn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.va=n),e):""}}(sn);function pn(e){return null!=e&&e.fa===Jt?String(String(e.content).replace(Sn,"").replace(_n,"&lt;")).replace(In,yn):ie(String(e))}function mn(e){return null!=e&&e.fa===Xt?e=String(e).replace(En,wn):e instanceof bt?e=String(wt(e).toString()).replace(En,wn):(e=String(e),kn.test(e)?e=e.replace(En,wn):(M("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}function gn(e){return null!=e&&e.fa===Qt?e=e.content:null==e?e="":e instanceof _t?e instanceof _t&&e.constructor===_t&&e.g===Ct?e=e.a:(M("expected object of type SafeStyle, got '"+e+"' of type "+y(e)),e="type_error:SafeStyle"):(e=String(e),Tn.test(e)||(M("Bad value `%s` for |filterCssValue",[e]),e="zSoyz")),e}var vn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function yn(e){return vn[e]}var bn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function wn(e){return bn[e]}var In=/[\x00\x22\x27\x3c\x3e]/g,En=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Tn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,kn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Sn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,_n=/</g;function Cn(){return un("Enter a valid phone number")}function An(){return un("Unable to send password reset code to specified email")}function Nn(){return un("Something went wrong. Please try again.")}function Dn(){return un("This email already exists without any means of sign-in. Please reset the password to recover.")}function Rn(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return un(t)}function Ln(e,t,n){var i=Error.call(this);this.message=i.message,"stack"in i&&(this.stack=i.stack),this.code=Pn+e,(e=t)||(e="","firebaseui/merge-conflict"===this.code?e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.":e+=Nn(),e=un(e).toString()),this.message=e||"",this.credential=n||null}o(Ln,Error),Ln.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Pn="firebaseui/";function On(){0!=xn&&(Mn[this[T]||(this[T]=++k)]=this),this.T=this.T,this.C=this.C}var xn=0,Mn={};function Un(e,t){e.T?d(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(d(void 0)?C(t,void 0):t))}function Fn(e){e&&"function"==typeof e.m&&e.m()}On.prototype.T=!1,On.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=xn)){var e=this[T]||(this[T]=++k);if(0!=xn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Mn[e]}},On.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var jn=Object.freeze||function(e){return e},Vn=!Qe||9<=Number(ut),Bn=Qe&&!ht("9"),qn=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",g,t),h.removeEventListener("test",g,t)}catch(e){}return e}();function Hn(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function Kn(e,t){if(Hn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tt){e:{try{$e(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=f(e.pointerType)?e.pointerType:Gn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Hn.prototype.stopPropagation=function(){this.h=!0},Hn.prototype.preventDefault=function(){this.qb=!1},P(Kn,Hn);var Gn=jn({2:"touch",3:"pen",4:"mouse"});Kn.prototype.stopPropagation=function(){Kn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Kn.prototype.preventDefault=function(){Kn.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Bn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var zn="closure_listenable_"+(1e6*Math.random()|0),Wn=0;function $n(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.La=r,this.key=++Wn,this.sa=this.Ia=!1}function Yn(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Jn(e){this.src=e,this.a={},this.g=0}function Xn(e,t){var n=t.type;n in e.a&&H(e.a[n],t)&&(Yn(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function Qn(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.sa&&s.listener==t&&s.capture==!!n&&s.La==i)return r}return-1}Jn.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.g++);var a=Qn(e,t,i,r);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new $n(t,this.src,s,!!i,r)).Ia=n,e.push(t)),t};var Zn="closure_lm_"+(1e6*Math.random()|0),ei={};function ti(e,t,n,i,r){if(i&&i.once)return ii(e,t,n,i,r);if(b(t)){for(var s=0;s<t.length;s++)ti(e,t[s],n,i,r);return null}return n=di(n),e&&e[zn]?e.J.add(String(t),n,!1,E(i)?!!i.capture:!!i,r):ni(e,t,n,!1,i,r)}function ni(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var a=E(r)?!!r.capture:!!r,o=li(e);if(o||(e[Zn]=o=new Jn(e)),(n=o.add(t,n,i,a,s)).proxy)return n;if(i=function(){var e=ui,t=Vn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)qn||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(ai(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ii(e,t,n,i,r){if(b(t)){for(var s=0;s<t.length;s++)ii(e,t[s],n,i,r);return null}return n=di(n),e&&e[zn]?e.J.add(String(t),n,!0,E(i)?!!i.capture:!!i,r):ni(e,t,n,!0,i,r)}function ri(e,t,n,i,r){if(b(t))for(var s=0;s<t.length;s++)ri(e,t[s],n,i,r);else i=E(i)?!!i.capture:!!i,n=di(n),e&&e[zn]?(e=e.J,(t=String(t).toString())in e.a&&-1<(n=Qn(s=e.a[t],n,i,r))&&(Yn(s[n]),K(s,n),0==s.length&&(delete e.a[t],e.g--))):e&&(e=li(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Qn(t,n,i,r)),(n=-1<e?t[e]:null)&&si(n))}function si(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[zn])Xn(t.J,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(ai(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=li(t))?(Xn(n,e),0==n.g&&(n.src=null,t[Zn]=null)):Yn(e)}}}function ai(e){return e in ei?ei[e]:ei[e]="on"+e}function oi(e,t,n,i){var r=!0;if((e=li(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==n&&!s.sa&&(s=ci(s,i),r=r&&!1!==s)}return r}function ci(e,t){var n=e.listener,i=e.La||e.src;return e.Ia&&si(e),n.call(i,t)}function ui(e,t){if(e.sa)return!0;if(!Vn){if(!t)e:{t=["window","event"];for(var n=h,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new Kn(i=t,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.g;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;!t.h&&0<=r;r--){t.g=i[r];var s=oi(i[r],e,!0,t);n=n&&s}for(r=0;!t.h&&r<i.length;r++)t.g=i[r],s=oi(i[r],e,!1,t),n=n&&s}return n}return ci(e,new Kn(t,this))}function li(e){return(e=e[Zn])instanceof Jn?e:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(e){return I(e)?e:(e[hi]||(e[hi]=function(t){return e.handleEvent(t)}),e[hi])}function fi(){On.call(this),this.J=new Jn(this),this.wb=this,this.Ha=null}function pi(e,t){var n,i=e.Ha;if(i)for(n=[];i;i=i.Ha)n.push(i);if(e=e.wb,i=t.type||t,f(t))t=new Hn(t,e);else if(t instanceof Hn)t.target=t.target||e;else{var r=t;oe(t=new Hn(i,e),r)}if(r=!0,n)for(var s=n.length-1;!t.h&&0<=s;s--){var a=t.g=n[s];r=mi(a,i,!0,t)&&r}if(t.h||(r=mi(a=t.g=e,i,!0,t)&&r,t.h||(r=mi(a,i,!1,t)&&r)),n)for(s=0;!t.h&&s<n.length;s++)r=mi(a=t.g=n[s],i,!1,t)&&r;return r}function mi(e,t,n,i){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.sa&&a.capture==n){var o=a.listener,c=a.La||a.src;a.Ia&&Xn(e.J,a),r=!1!==o.call(c,i)&&r}}return r&&0!=i.qb}P(fi,On),fi.prototype[zn]=!0,fi.prototype.Za=function(e){this.Ha=e},fi.prototype.removeEventListener=function(e,t,n,i){ri(this,e,t,n,i)},fi.prototype.o=function(){if(fi.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)Yn(n[i]);delete t.a[e],t.g--}}this.Ha=null};var gi={},vi=0;function yi(e,t){if(!e)throw Error("Event target element must be provided!");if(e=bi(e),gi[e]&&gi[e].length)for(var n=0;n<gi[e].length;n++)pi(gi[e][n],t)}function bi(e){return void 0===e.a&&(e.a=vi,vi++),e.a}function wi(e){if(!e)throw Error("Event target element must be provided!");fi.call(this),this.a=e}function Ii(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function Ei(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function Ti(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function ki(){this.g=this.a=null}o(wi,fi),wi.prototype.N=function(){return this.a},wi.prototype.register=function(){var e=bi(this.N());gi[e]?q(gi[e],this)||gi[e].push(this):gi[e]=[this]},Ei.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var Si,_i,Ci=new Ei((function(){return new Ni}),(function(e){e.reset()}));function Ai(){var e=Pi,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function Ni(){this.next=this.g=this.a=null}function Di(e){h.setTimeout((function(){throw e}),0)}function Ri(e,t){_i||function(){if(h.Promise&&h.Promise.resolve){var e=h.Promise.resolve(void 0);_i=function(){e.then(Oi)}}else _i=function(){var e=Oi;!I(h.setImmediate)||h.Window&&h.Window.prototype&&!ze("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(Si||(Si=function(){var e=h.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ze("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=C((function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),void 0!==e&&!ze("Trident")&&!ze("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(d(n.next)){var e=(n=n.next).gb;n.gb=null,e()}},function(e){i.next={gb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){h.setTimeout(e,0)}}()),Si(e)):h.setImmediate(e)}}(),Li||(_i(),Li=!0),Pi.add(e,t)}ki.prototype.add=function(e,t){var n=Ci.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},Ni.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},Ni.prototype.reset=function(){this.next=this.g=this.a=null};var Li=!1,Pi=new ki;function Oi(){for(var e;e=Ai();){try{e.a.call(e.g)}catch(e){Di(e)}Ti(Ci,e)}Li=!1}function xi(e){if(this.a=Mi,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=g)try{var t=this;e.call(void 0,(function(e){Wi(t,Ui,e)}),(function(e){if(!(e instanceof Zi))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Wi(t,Fi,e)}))}catch(e){Wi(this,Fi,e)}}var Mi=0,Ui=2,Fi=3;function ji(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}ji.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Vi=new Ei((function(){return new ji}),(function(e){e.reset()}));function Bi(e,t,n){var i=Vi.get();return i.s=e,i.g=t,i.j=n,i}function qi(e){if(e instanceof xi)return e;var t=new xi(g);return Wi(t,Ui,e),t}function Hi(e){return new xi((function(t,n){n(e)}))}function Ki(e,t){if(e.a==Mi)if(e.h){var n=e.h;if(n.g){for(var i=0,r=null,s=null,a=n.g;a&&(a.h||(i++,a.a==e&&(r=a),!(r&&1<i)));a=a.next)r||(s=a);r&&(n.a==Mi&&1==i?Ki(n,t):(s?((i=s).next==n.j&&(n.j=i),i.next=i.next.next):Yi(n),Ji(n,r,Fi,t)))}e.h=null}else Wi(e,Fi,t)}function Gi(e,t){e.g||e.a!=Ui&&e.a!=Fi||$i(e),e.j?e.j.next=t:e.g=t,e.j=t}function zi(e,t,n,i){var r=Bi(null,null,null);return r.a=new xi((function(e,s){r.s=t?function(n){try{var r=t.call(i,n);e(r)}catch(e){s(e)}}:e,r.g=n?function(t){try{var r=n.call(i,t);!d(r)&&t instanceof Zi?s(t):e(r)}catch(e){s(e)}}:s})),r.a.h=e,Gi(e,r),r.a}function Wi(e,t,n){if(e.a==Mi){e===n&&(t=Fi,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var i=n,r=e.hc,s=e.ic;if(i instanceof xi){Gi(i,Bi(r||g,s||null,e));var a=!0}else if(Ii(i))i.then(r,s,e),a=!0;else{if(E(i))try{var o=i.then;if(I(o)){!function(e,t,n,i,r){function s(e){a||(a=!0,i.call(r,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(r,e))}),s)}catch(e){s(e)}}(i,o,r,s,e),a=!0;break e}}catch(t){s.call(e,t),a=!0;break e}a=!1}}a||(e.A=n,e.a=t,e.h=null,$i(e),t!=Fi||n instanceof Zi||function(e,t){e.s=!0,Ri((function(){e.s&&Qi.call(null,t)}))}(e,n))}}function $i(e){e.i||(e.i=!0,Ri(e.Hb,e))}function Yi(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function Ji(e,t,n,i){if(n==Fi&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,Xi(t,n,i);else try{t.h?t.s.call(t.j):Xi(t,n,i)}catch(e){Qi.call(null,e)}Ti(Vi,t)}function Xi(e,t,n){t==Ui?e.s.call(e.j,n):e.g&&e.g.call(e.j,n)}xi.prototype.then=function(e,t,n){return zi(this,I(e)?e:null,I(t)?t:null,n)},xi.prototype.$goog_Thenable=!0,(e=xi.prototype).fc=function(e,t){return(e=Bi(e,e,t)).h=!0,Gi(this,e),this},e.Ca=function(e,t){return zi(this,null,e,t)},e.cancel=function(e){this.a==Mi&&Ri((function(){Ki(this,new Zi(e))}),this)},e.hc=function(e){this.a=Mi,Wi(this,Ui,e)},e.ic=function(e){this.a=Mi,Wi(this,Fi,e)},e.Hb=function(){for(var e;e=Yi(this);)Ji(this,e,this.a,this.A);this.i=!1};var Qi=Di;function Zi(e){O.call(this,e)}function er(e,t,n){t||(t={}),n=n||window;var i=e instanceof bt?e:Et(void 0!==e.href?e.href:String(e));e=t.target||e.target;var r=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");return(ze("iPhone")&&!ze("iPod")&&!ze("iPad")||ze("iPad")||ze("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(s=n.document.createElement("A"),i=i instanceof bt?i:Tt(i),s.href=wt(i),s.setAttribute("target",e),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),s.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,s),t=wt(i).toString(),n&&(et&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Rt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ie(t)+'">',null),n.document.write(Nt(t)),n.document.close())):(n=n.open(wt(i).toString(),e,s))&&t.noopener&&(n.opener=null),n}function tr(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function nr(e){er(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ir(e,t){if(null==(e=E(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function rr(){return window.location.href}function sr(e){var t=mr;this.s=[],this.T=t,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function ar(e,t,n){e.a=!0,e.h=n,e.j=!t,lr(e)}function or(e){if(e.a){if(!e.J)throw new hr(e);e.J=!1}}function cr(e,t,n){e.s.push([t,n,void 0]),e.a&&lr(e)}function ur(e){return B(e.s,(function(e){return I(e[1])}))}function lr(e){if(e.i&&e.a&&ur(e)){var t=e.i,n=pr[t];n&&(h.clearTimeout(n.a),delete pr[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var i=n=!1;e.s.length&&!e.A;){var r=e.s.shift(),s=r[0],a=r[1];if(r=r[2],s=e.j?a:s)try{var o=s.call(r||e.O,t);d(o)&&(e.j=e.j&&(o==t||o instanceof Error),e.h=t=o),(Ii(t)||"function"==typeof h.Promise&&t instanceof h.Promise)&&(i=!0,e.A=!0)}catch(i){t=i,e.j=!0,ur(e)||(n=!0)}}e.h=t,i&&(o=C(e.L,e,!0),i=C(e.L,e,!1),t instanceof sr?(cr(t,o,i),t.l=!0):t.then(o,i)),n&&(t=new fr(t),pr[t.a]=t,e.i=t.a)}function hr(){O.call(this)}function dr(){O.call(this)}function fr(e){this.a=h.setTimeout(C(this.h,this),0),this.g=e}P(Zi,O),Zi.prototype.name="cancel",sr.prototype.cancel=function(e){if(this.a)this.h instanceof sr&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new dr(this),or(this),ar(this,!1,e))}},sr.prototype.L=function(e,t){this.A=!1,ar(this,e,t)},sr.prototype.callback=function(e){or(this),ar(this,!0,e)},sr.prototype.then=function(e,t,n){var i,r,s=new xi((function(e,t){i=e,r=t}));return cr(this,i,(function(e){e instanceof dr?s.cancel():r(e)})),s.then(e,t,n)},sr.prototype.$goog_Thenable=!0,P(hr,O),hr.prototype.message="Deferred has already fired",hr.prototype.name="AlreadyCalledError",P(dr,O),dr.prototype.message="Deferred was canceled",dr.prototype.name="CanceledError",fr.prototype.h=function(){throw delete pr[this.a],this.g};var pr={};function mr(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&gr(e,!0,this.sb)}}function gr(e,t,n){null!=n&&h.clearTimeout(n),e.onload=g,e.onerror=g,e.onreadystatechange=g,t&&window.setTimeout((function(){Gt(e)}),0)}var vr=0,yr=1;function br(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),O.call(this,n),this.code=e}function wr(){return h.google&&h.google.accounts&&h.google.accounts.id||null}function Ir(e){this.a=e||wr(),this.h=!1,this.g=null}function Er(e,t,n){return e.a&&t?(e.h=!0,new xi((function(i){e.g=i,e.a.initialize({client_id:t,callback:i,auto_select:!n}),e.a.prompt()}))):qi(t?kr.Xa().load().then((function(){return e.a=wr(),Er(e,t,n)})).Ca((function(){return null})):null)}P(br,O),Ir.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},v(Ir);var Tr=new ft(mt,"https://accounts.google.com/gsi/client");function kr(){this.a=null}function Sr(e,t){this.a=e,this.g=t||function(e){throw e}}function _r(e,t,n){this.reset(e,t,n,void 0,void 0)}function Cr(e){this.s=e,this.a=this.h=this.j=this.g=null}function Ar(e,t){this.name=e,this.value=t}kr.prototype.load=function(){var e=this;if(this.a)return this.a;var t=function(){var e=Tr;e instanceof ft&&e.constructor===ft&&e.g===pt?e=e.a:(M("expected object of type Const, got '"+e+"'"),e="type_error:Const");var t=new gt;return t.a=e,t}();return wr()?qi():this.a=function(){var e=null;return new xi((function(t){"complete"==h.document.readyState?t():(e=function(){t()},ii(window,"load",e))})).Ca((function(t){throw ri(window,"load",e),t}))}().then((function(){if(!wr())return new xi((function(n,i){var r=setTimeout((function(){e.a=null,i(Error("Network error!"))}),1e4);h.onGoogleLibraryLoad=function(){clearTimeout(r),n()},qi(function(e){var t={},n=t.document||document,i=vt(e).toString(),r=document.createElement("SCRIPT"),s={rb:r,sb:void 0},a=new sr(s),o=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){gr(r,!0);var e=new br(yr,"Timeout reached for loading script "+i);or(a),ar(a,!1,e)}),c),s.sb=o),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(gr(r,t.xc||!1,o),a.callback(null))},r.onerror=function(){gr(r,!0,o);var e=new br(vr,"Error while loading script "+i);or(a),ar(a,!1,e)},oe(s=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){re(t,(function(t,n){t&&"object"==typeof t&&t.ma&&(t=t.ka()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ht.hasOwnProperty(n)?e.setAttribute(Ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}(r,s),function(e,t){e.src=vt(t),null===m&&(m=(t=(t=h.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&p.test(t)?t:""),(t=m)&&e.setAttribute("nonce",t)}(r,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),a}(t)).then((function(){wr()&&n()})).Ca((function(t){clearTimeout(r),e.a=null,i(t)}))}))}))},v(kr),Sr.prototype.confirm=function(e){return qi(this.a.confirm(e)).Ca(this.g)},_r.prototype.a=null,_r.prototype.reset=function(e,t,n,i,r){this.h=i||R(),this.j=e,this.s=t,this.g=n,delete this.a},Ar.prototype.toString=function(){return this.name};var Nr=new Ar("SEVERE",1e3),Dr=new Ar("WARNING",900),Rr=new Ar("CONFIG",700);function Lr(e){return e.j?e.j:e.g?Lr(e.g):(M("Root logger has no level set."),null)}Cr.prototype.log=function(e,t,n){if(e.value>=Lr(this).value)for(I(t)&&(t=t()),e=new _r(e,String(t),this.s),n&&(e.a=n),n=this;n;){var i=n,r=e;if(i.a)for(var s=0;t=i.a[s];s++)t(r);n=n.g}};var Pr={},Or=null;function xr(){Or||(Or=new Cr(""),Pr[""]=Or,Or.j=Rr)}function Mr(){this.a=R()}var Ur=null;function Fr(e){this.j=e||"",Ur||(Ur=new Mr),this.s=Ur}function jr(e){return 10>e?"0"+e:String(e)}function Vr(e){Fr.call(this,e)}function Br(){this.s=C(this.h,this),this.a=new Vr,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Mr.prototype.set=function(e){this.a=e},Mr.prototype.reset=function(){this.set(R())},Mr.prototype.get=function(){return this.a},Fr.prototype.a=!0,Fr.prototype.g=!0,Fr.prototype.h=!1,P(Vr,Fr),Br.prototype.h=function(e){if(!this.j[e.g]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.g){var i=new Date(t.h);n.push("[",jr(i.getFullYear()-2e3)+jr(i.getMonth()+1)+jr(i.getDate())+" "+jr(i.getHours())+":"+jr(i.getMinutes())+":"+jr(i.getSeconds())+"."+jr(Math.floor(i.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.s.get()),"s] "),n.push("[",t.g,"] "),n.push(t.s),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e);Hr&&function(e,t,n,i){e[t]?e[t](n,i||""):e.log(n,i||"")}(Hr,function(e){if(e){if(e.value>=Nr.value)return"error";if(e.value>=Dr.value)return"warn";if(e.value>=Rr.value)return"log"}return"debug"}(e.j),t,e.a)}};var qr,Hr=h.console;function Kr(e,t){qr&&qr.log(Nr,e,t)}qr=function e(t){var n;if(xr(),!(n=Pr[t])){n=new Cr(t);var i=t.lastIndexOf("."),r=t.substr(i+1);(i=e(t.substr(0,i))).h||(i.h={}),i.h[r]=n,n.g=i,Pr[t]=n}return n}("firebaseui");var Gr=new Br;if(1!=Gr.g){var zr;xr(),zr=Or;var Wr=Gr.s;zr.a||(zr.a=[]),zr.a.push(Wr),Gr.g=!0}function $r(e){qr&&qr.log(Dr,e,void 0)}function Yr(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Jr(e){e=(e.a.cookie||"").split(";");for(var t,n,i=[],r=[],s=0;s<e.length;s++)-1==(t=(n=$(e[s])).indexOf("="))?(i.push(""),r.push(n)):(i.push(n.substring(0,t)),r.push(n.substring(t+1)));return{keys:i,values:r}}(e=Yr.prototype).set=function(e,t,n,i,r,s){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');d(n)||(n=-1),r=r?";domain="+r:"",i=i?";path="+i:"",s=s?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(R()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+r+i+n+s},e.get=function(e,t){for(var n,i=e+"=",r=(this.a.cookie||"").split(";"),s=0;s<r.length;s++){if(0==(n=$(r[s])).lastIndexOf(i,0))return n.substr(i.length);if(n==e)return""}return t},e.ja=function(){return Jr(this).keys},e.la=function(){return Jr(this).values},e.clear=function(){for(var e=Jr(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var Xr=new Yr;function Qr(){}function Zr(e,t,n,i){this.h=null!=e?e:-1,this.g=t||null,this.a=n||null,this.j=!!i}function es(e,t){this.g=e,this.a=t||null}function ts(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function ns(e){if(e&&e.email){var t=e.credential&&le.auth.AuthCredential.fromJSON(e.credential);return new es(e.email,t)}return null}function is(e){this.a=e||null}function rs(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);255<r&&(t[n++]=255&r,r>>=8),t[n++]=r}return t}function ss(e){return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function as(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(os*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=Array(4);for(e=this.g;e<os*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,i=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=i,ps(t),t[0]^=vs[e/this.g][0],t[1]^=vs[e/this.g][1],t[2]^=vs[e/this.g][2],t[3]^=vs[e/this.g][3]}else 6<this.g&&4==e%this.g&&ps(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}o(Zr,Qr),Zr.prototype.set=function(e,t){Xr.set(e,t,this.h,this.g,this.a,this.j)},Zr.prototype.get=function(e){return Xr.get(e)||null},Zr.prototype.ra=function(e){var t=this.g,n=this.a;Xr.get(e),Xr.set(e,"",0,t,n)},as.prototype.A=16;var os=as.prototype.A/4;function cs(e,t){for(var n,i=0;i<os;i++)for(var r=0;4>r;r++)n=t[n=4*r+i],e.h[i][r]=n}function us(e){for(var t=[],n=0;n<os;n++)for(var i=0;4>i;i++)t[4*i+n]=e.h[n][i];return t}function ls(e,t){for(var n=0;4>n;n++)for(var i=0;4>i;i++)e.h[n][i]^=e.a[4*t+i][n]}function hs(e,t){for(var n=0;4>n;n++)for(var i=0;4>i;i++)e.h[n][i]=t[e.h[n][i]]}function ds(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][(n+t)%os]}function fs(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][(n+t)%os]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][n]}function ps(e){e[0]=ms[e[0]],e[1]=ms[e[1]],e[2]=ms[e[2]],e[3]=ms[e[3]]}var ms=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],gs=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],vs=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],ys=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],bs=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ws=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Is=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Es=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Ts=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function ks(e,t){e=new as(_s(e));for(var n,i=(t=rs(t)).splice(0,16),r="";i.length;){n=16-i.length;for(var s=0;s<n;s++)i.push(0);for(cs(n=e,i),ls(n,0),i=1;i<n.j;++i){hs(n,ms),ds(n),s=n.h;for(var a=n.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=ys[a[0]]^bs[a[1]]^a[2]^a[3],s[1][o]=a[0]^ys[a[1]]^bs[a[2]]^a[3],s[2][o]=a[0]^a[1]^ys[a[2]]^bs[a[3]],s[3][o]=bs[a[0]]^a[1]^a[2]^ys[a[3]];ls(n,i)}hs(n,ms),ds(n),ls(n,n.j),r+=ss(us(n)),i=t.splice(0,16)}return r}function Ss(e,t){e=new as(_s(e));for(var n=[],i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));var r=n.splice(0,16);for(t="";r.length;){for(cs(i=e,r),ls(i,i.j),r=1;r<i.j;++r){fs(i),hs(i,gs),ls(i,i.j-r);for(var s=i.h,a=i.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=Ts[a[0]]^Is[a[1]]^Es[a[2]]^ws[a[3]],s[1][o]=ws[a[0]]^Ts[a[1]]^Is[a[2]]^Es[a[3]],s[2][o]=Es[a[0]]^ws[a[1]]^Ts[a[2]]^Is[a[3]],s[3][o]=Is[a[0]]^Es[a[1]]^ws[a[2]]^Ts[a[3]]}if(fs(i),hs(i,gs),ls(i,0),8192>=(i=us(i)).length)i=String.fromCharCode.apply(null,i);else{for(r="",s=0;s<i.length;s+=8192)r+=String.fromCharCode.apply(null,W(i,s,s+8192));i=r}t+=i,r=n.splice(0,16)}return t.replace(/(\x00)+$/,"")}function _s(e){for(var t=32-(e=rs(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function Cs(e){var t=[];return Ns(new As,e,t),t.join("")}function As(){}function Ns(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(b(t)){var i=t;t=i.length,n.push("[");for(var r="",s=0;s<t;s++)n.push(r),Ns(e,i[s],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(i in n.push("{"),r="",t)Object.prototype.hasOwnProperty.call(t,i)&&"function"!=typeof(s=t[i])&&(n.push(r),Ls(i,n),n.push(":"),Ns(e,s,n),r=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Ls(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var Ds={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Rs=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ls(e,t){t.push('"',e.replace(Rs,(function(e){var t=Ds[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Ds[e]=t),t})),'"')}function Ps(e){this.a=e}function Os(){}function xs(e){this.a=e}function Ms(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(e){return!1}}function Us(){var e=null;try{e=window.localStorage||null}catch(e){}this.a=e}function Fs(){var e=null;try{e=window.sessionStorage||null}catch(e){}this.a=e}function js(e,t){this.g=e,this.a=t+"::"}Ps.prototype.set=function(e,t){d(t)?this.a.set(e,Cs(t)):this.a.ra(e)},Ps.prototype.get=function(e){try{var t=this.a.get(e)}catch(e){return}if(null!==t)try{return JSON.parse(t)}catch(e){throw"Storage: Invalid value was encountered"}},P(Os,Qr),Os.prototype.clear=function(){var e=function(e){if(w(e))return z(e);e=he(e);var t=[];return function(e,t){if(w(e))try{F(e,t,void 0)}catch(e){if(e!==ce)throw e}else{e=he(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(e){if(e!==ce)throw e}}}(e,(function(e){t.push(e)})),t}(this.ha(!0)),t=this;F(e,(function(e){t.ra(e)}))},P(xs,Os),(e=xs.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(e){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!f(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,n=this.a,i=new ue;return i.next=function(){if(t>=n.length)throw ce;var i=n.key(t++);if(e)return i;if(!f(i=n.getItem(i)))throw"Storage mechanism: Invalid value was encountered";return i},i},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},P(Us,xs),P(Fs,xs),P(js,Os),js.prototype.set=function(e,t){this.g.set(this.a+e,t)},js.prototype.get=function(e){return this.g.get(this.a+e)},js.prototype.ra=function(e){this.g.ra(this.a+e)},js.prototype.ha=function(e){var t=this.g.ha(!0),n=this,i=new ue;return i.next=function(){for(var i=t.next();i.substr(0,n.a.length)!=n.a;)i=t.next();return e?i.substr(n.a.length):n.g.get(i)},i},Ms(new Us);var Vs=new Fs,Bs=new Ps(Ms(Vs)?new js(Vs,"firebaseui"):null),qs={name:"pendingEmailCredential",storage:Bs},Hs={name:"redirectStatus",storage:Bs},Ks={name:"redirectUrl",storage:Bs},Gs={name:"emailForSignIn",storage:new Ps(new Zr(3600,"/"))},zs={name:"pendingEncryptedCredential",storage:new Ps(new Zr(3600,"/"))};function Ws(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function $s(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function Ys(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function Js(e){return Ws(Ks,e)||null}function Xs(e){return ns(e=Ws(qs,e)||null)}function Qs(e){$s(qs,e)}function Zs(e,t){Ys(qs,ts(e),t)}function ea(e){return(e=Ws(Hs,e)||null)&&void 0!==e.tenantId?new is(e.tenantId):null}function ta(){this.W={}}function na(e,t,n){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=n}function ia(e,t,n){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=n}function ra(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function sa(){this.g=void 0,this.a={}}function aa(e,t,n,i){for(var r=0;r<t.length;r++){var s=t.charAt(r);e.a[s]||(e.a[s]=new sa),e=e.a[s]}if(i&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function oa(e,t){for(var n in void 0!==e.g&&t.push(e.g),e.a)oa(e.a[n],t)}function ca(e,t,n){for(var i in void 0!==e.g&&n.push(t),e.a)ca(e.a[i],t+i,n)}function ua(e){for(this.a=e,this.g=new sa,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function la(e,t){var n={},i=0;for(void 0!==(e=e.g).g&&(n[i]=e.g);i<t.length;i++){var r=t.charAt(i);if(!(r in e.a))break;void 0!==(e=e.a[r]).g&&(n[i]=e.g)}for(var s in n)if(n.hasOwnProperty(s))return n[s];return[]}function ha(e){for(var t=0;t<ma.length;t++)if(ma[t].c===e)return ma[t];return null}function da(e){e=e.toUpperCase();for(var t=[],n=0;n<ma.length;n++)ma[n].f===e&&t.push(ma[n]);return t}function fa(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<ma.length;n++)ma[n].b==e&&t.push(ma[n]);e=t}else e=da(e);return e}function pa(e){e.sort((function(e,t){return e.name.localeCompare(t.name,"en")}))}ta.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=sa.prototype).set=function(e,t){aa(this,e,t,!1)},e.add=function(e,t){aa(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.la=function(){var e=[];return oa(this,e),e},e.ja=function(){var e=[];return ca(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var ma=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];pa(ma);var ga=new ua(ma);function va(e,t){this.a=e,this.Aa=t}function ya(e){e=$(e);var t=la(ga,e);return 0<t.length?new va("1"==t[0].b?"1-US-0":t[0].c,$(e.substr(t[0].b.length+1))):null}function ba(e){var t=ha(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function wa(e,t){for(var n=0;n<e.length;n++)if(!q(Ia,e[n])&&(null!==Ea&&e[n]in Ea||q(t,e[n])))return e[n];return null}var Ia=["emailLink","password","phone"],Ea={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Ta(){this.a=new ta,na(this.a,"autoUpgradeAnonymousUsers"),na(this.a,"callbacks"),na(this.a,"credentialHelper",Qa),na(this.a,"immediateFederatedRedirect",!1),na(this.a,"popupMode",!1),na(this.a,"privacyPolicyUrl"),na(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),na(this.a,"queryParameterForWidgetMode","mode"),na(this.a,"signInFlow"),na(this.a,"signInOptions"),na(this.a,"signInSuccessUrl"),na(this.a,"siteName"),na(this.a,"tosUrl"),na(this.a,"widgetUrl"),na(this.a,"adminRestrictedOperation")}function ka(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!Ga(e)&&Kr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function Sa(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var i=e[n];(i=E(i)?i:{provider:i}).provider&&t.push(i)}return t}function _a(e,t){e=Sa(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Ca(e){return Sa(e).map((function(e){return e.provider}))}function Aa(e,t){e=Na(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function Na(e){return Sa(e).map((function(e){if(Ea[e.provider]||q(io,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?wt(Et(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?wt(Et(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}}))}function Da(e){var t,n=_a(e,le.auth.GoogleAuthProvider.PROVIDER_ID);if(t=n&&n.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(i in e=e.a.get("credentialHelper"),Za)if(Za[i]===e){var i=Za[i];break e}i=Qa}t=i===Xa}return t&&n.clientId||null}function Ra(e){return!!((e=_a(e,le.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function La(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function Pa(e,t){return e=(e=_a(e,t))&&e.scopes,Array.isArray(e)?e:[]}function Oa(e,t){return E(e=(e=_a(e,t))&&e.customParameters)?(e=se(e),t===le.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===le.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function xa(e){if(!(e=_a(e,le.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if(void 0!==t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return ma;if(e=[],t){n={};for(var i=0;i<t.length;i++)for(var r=fa(t[i]),s=0;s<r.length;s++)n[r[s].c]=r[s];for(var a in n)n.hasOwnProperty(a)&&e.push(n[a])}else{for(a={},t=0;t<n.length;t++)for(r=fa(n[t]),i=0;i<r.length;i++)a[r[i].c]=r[i];for(r=0;r<ma.length;r++)null!==a&&ma[r].c in a||e.push(ma[r])}return e}function Ma(e){return ra(e.a,"queryParameterForWidgetMode")}function Ua(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&$r("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){nr(t)}}return null}function Fa(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&$r("Term of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){nr(n)}}return null}function ja(e){return!(e=_a(e,le.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function Va(e){return!(!(e=_a(e,le.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==le.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Ba(e){var t=!!e.a.get("immediateFederatedRedirect"),n=Ca(e);return e=qa(e),t&&1==n.length&&!q(Ia,n[0])&&e==eo}function qa(e){for(var t in e=e.a.get("signInFlow"),to)if(to[t]==e)return to[t];return eo}function Ha(e){return za(e).signInSuccess||null}function Ka(e){return za(e).signInSuccessWithAuthResult||null}function Ga(e){return za(e).signInFailure||null}function za(e){return e.a.get("callbacks")||{}}var Wa,$a,Ya,Ja,Xa="googleyolo",Qa="none",Za={nc:Xa,NONE:Qa},eo="redirect",to={qc:"popup",rc:eo},no={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},io=["anonymous"],ro=["sitekey","tabindex","callback","expired-callback"],so={};function ao(e,t,n,i){so[e].apply(null,Array.prototype.slice.call(arguments,1))}function oo(e){return e.classList?e.classList:f(e=e.className)&&e.match(/\S+/g)||[]}function co(e,t){return e.classList?e.classList.contains(t):q(oo(e),t)}function uo(e,t){e.classList?e.classList.add(t):co(e,t)||(e.className+=0<e.className.length?" "+t:t)}function lo(e,t){e.classList?e.classList.remove(t):co(e,t)&&(e.className=j(oo(e),(function(e){return e!=t})).join(" "))}function ho(e){var t=e.type;switch(f(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,i=0;n=e.options[i];i++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function fo(e,t){var n=e.type;switch(f(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,f(t))for(var i=0;n=e.options[i];i++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(f(t)&&(t=[t]),i=0;n=e.options[i];i++)if(n.selected=!1,t)for(var r,s=0;r=t[s];s++)n.value==r&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function po(e,t,n,i,r,s){if(nt&&!ht("525"))return!0;if(rt&&r)return mo(e);if(r&&!i)return!1;if(!tt&&("number"==typeof t&&(t=go(t)),(!n||rt)&&(17==t||18==t||rt&&91==t)||rt&&16==t&&(i||s)))return!1;if((nt||Ze)&&i&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Qe&&i&&t==e)return!1;switch(e){case 13:return!(tt&&(s||r||n&&i));case 27:return!(nt||Ze||tt)}return(!tt||!(i||r||s))&&mo(e)}function mo(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(nt||Ze)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return tt;default:return!1}}function go(e){return tt?e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e):rt&&nt&&93===e&&(e=91),e}function vo(e){fi.call(this),this.a=e,ti(e,"keydown",this.g,!1,this),ti(e,"click",this.h,!1,this)}function yo(e,t){var n=new wo(t);if(pi(e,n)){n=new bo(t);try{pi(e,n)}finally{t.stopPropagation()}}}function bo(e){Kn.call(this,e.a),this.type="action"}function wo(e){Kn.call(this,e.a),this.type="beforeaction"}function Io(e){fi.call(this),this.a=e,e=Qe?"focusout":"blur",this.g=ti(this.a,Qe?"focusin":"focus",this,!Qe),this.h=ti(this.a,e,this,!Qe)}function Eo(e,t){fi.call(this),this.g=e||1,this.a=t||h,this.h=C(this.gc,this),this.j=R()}function To(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function ko(e){On.call(this),this.g=e,this.a={}}P(vo,fi),vo.prototype.g=function(e){(13==e.keyCode||nt&&3==e.keyCode)&&yo(this,e)},vo.prototype.h=function(e){yo(this,e)},vo.prototype.o=function(){vo.K.o.call(this),ri(this.a,"keydown",this.g,!1,this),ri(this.a,"click",this.h,!1,this),delete this.a},P(bo,Kn),P(wo,Kn),P(Io,fi),Io.prototype.handleEvent=function(e){var t=new Kn(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",pi(this,t)},Io.prototype.o=function(){Io.K.o.call(this),si(this.g),si(this.h),delete this.a},P(Eo,fi),(e=Eo.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=R()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),pi(this,"tick"),this.Ka&&(To(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=R())},e.o=function(){Eo.K.o.call(this),To(this),delete this.a},P(ko,On);var So=[];function _o(e,t,n,i){b(n)||(n&&(So[0]=n.toString()),n=So);for(var r=0;r<n.length;r++){var s=ti(t,n[r],i||e.handleEvent,!1,e.g||e);if(!s)break;e.a[s.key]=s}}function Co(e){re(e.a,(function(e,t){this.a.hasOwnProperty(t)&&si(e)}),e),e.a={}}function Ao(e){fi.call(this),this.a=null,this.g=e,e=Qe||Ze||nt&&!ht("531")&&"TEXTAREA"==e.tagName,this.h=new ko(this),_o(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function No(e){null!=e.a&&(h.clearTimeout(e.a),e.a=null)}function Do(e){return(e=new Kn(e.a)).type="input",e}function Ro(e,t){fi.call(this),e&&(this.Oa&&Mo(this),this.qa=e,this.Na=ti(this.qa,"keypress",this,t),this.Ya=ti(this.qa,"keydown",this.Jb,t,this),this.Oa=ti(this.qa,"keyup",this.Kb,t,this))}ko.prototype.o=function(){ko.K.o.call(this),Co(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},P(Ao,fi),Ao.prototype.handleEvent=function(e){if("input"==e.type)Qe&&ht(10)&&0==e.keyCode&&0==e.j||(No(this),pi(this,Do(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(mo(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!tt;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;Qe&&229==e.keyCode&&(t=null);var n=Do(e);No(this),this.a=function(e,t){if(I(e))t&&(e=C(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(0)?-1:h.setTimeout(e,0)}((function(){this.a=null,this.g.value!=t&&pi(this,n)}),this)}},Ao.prototype.o=function(){Ao.K.o.call(this),this.h.m(),No(this),delete this.g},P(Ro,fi),(e=Ro.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var Lo={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Po={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Oo=!nt||ht("525"),xo=rt&&tt;function Mo(e){e.Na&&(si(e.Na),si(e.Ya),si(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function Uo(e,t,n,i){Kn.call(this,i),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function Fo(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i}function jo(e,t){var n=zt(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function Vo(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return Qe&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Bo(e){var t=zt(e),n=new Ut(0,0),i=t?zt(t):document;return e==(i=!Qe||9<=Number(ut)||"CSS1Compat"==jt(i).a.compatMode?i.documentElement:i.body)||(e=Vo(e),t=Kt(i=jt(t).a),i=i.parentWindow||i.defaultView,t=Qe&&ht("10")&&i.pageYOffset!=t.scrollTop?new Ut(t.scrollLeft,t.scrollTop):new Ut(i.pageXOffset||t.scrollLeft,i.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=Ro.prototype).Jb=function(e){(nt||Ze)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||rt&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),Oo&&!po(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=go(e.keyCode),xo&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(Qe&&"keypress"==e.type)var i=this.X,r=13!=i&&27!=i?t.keyCode:0;else(nt||Ze)&&"keypress"==e.type?(i=this.X,r=0<=t.charCode&&63232>t.charCode&&mo(i)?t.charCode:0):Xe&&!nt?r=mo(i=this.X)?t.keyCode:0:("keypress"==e.type?(xo&&(n=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(i=t.keyCode,r=0):(i=this.X,r=t.charCode):(i=t.keyCode||this.X,r=t.charCode||0)):(i=t.keyCode||this.X,r=t.charCode||0),rt&&63==r&&224==i&&(i=191));var s=i=go(i);i?63232<=i&&i in Lo?s=Lo[i]:25==i&&e.shiftKey&&(s=9):t.keyIdentifier&&t.keyIdentifier in Po&&(s=Po[t.keyIdentifier]),tt&&Oo&&"keypress"==e.type&&!po(s,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=s==this.R,this.R=s,(t=new Uo(s,r,e,t)).altKey=n,pi(this,t))},e.N=function(){return this.qa},e.o=function(){Ro.K.o.call(this),Mo(this)},P(Uo,Kn),Fo.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Fo.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Fo.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Fo.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var qo={thin:2,medium:4,thick:6};function Ho(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in qo)e=qo[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=i,e=+n}return e}function Ko(){}function Go(e){fi.call(this),this.s=e||jt(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function zo(e,t){return e.g?Bt(t,e.g||e.s.a):null}function Wo(e){return e.L||(e.L=new ko(e)),e.L}function $o(e,t){e.Ea&&F(e.Ea,t,void 0)}function Yo(e,t){var n=$t(e,"firebaseui-textfield");t?(lo(e,"firebaseui-input-invalid"),uo(e,"firebaseui-input"),n&&lo(n,"firebaseui-textfield-invalid")):(lo(e,"firebaseui-input"),uo(e,"firebaseui-input-invalid"),n&&uo(n,"firebaseui-textfield-invalid"))}function Jo(e,t,n){Un(e,A(Fn,t=new Ao(t))),_o(Wo(e),t,"input",n)}function Xo(e,t,n){Un(e,A(Fn,t=new Ro(t))),_o(Wo(e),t,"key",(function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))}))}function Qo(e,t,n){Un(e,A(Fn,t=new vo(t))),_o(Wo(e),t,"action",(function(e){e.stopPropagation(),e.preventDefault(),n(e)}))}function Zo(e){uo(e,"firebaseui-hidden")}function ec(e,t){t&&Wt(e,t),lo(e,"firebaseui-hidden")}function tc(e){return!co(e,"firebaseui-hidden")&&"none"!=e.style.display}function nc(e){var t=(e=e||{}).email,n=e.disabled,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return i=e.wc?i+"Enter new email address":i+"Email",i+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+pn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ln(i)}function ic(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+an(e):t+"Next",ln(t+"</button>")}function rc(){var e=""+ic({label:dn("Sign In")});return ln(e)}function sc(){var e=""+ic({label:dn("Save")});return ln(e)}function ac(){var e=""+ic({label:dn("Continue")});return ln(e)}function oc(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return t=(e=(e=e||{}).label)?t+an(e):t+"Choose password",ln(t+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function cc(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return ln((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function uc(){return ln('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function lc(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+an(e):t+"Cancel",ln(t+"</button>")}function hc(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ln(t)}function dc(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ln(t)}function fc(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+an(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ln(e)}function pc(e){var t=e.content;return e=e.Ab,ln('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+pn(e):"")+'">'+an(t)+"</dialog>")}function mc(e){var t=e.message;return ln(pc({content:fn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+pn(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+an(t)+"</div>")}))}function gc(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,i=0;i<n;i++){var r=e[i];t+='<button type="button" data-listboxid="'+pn(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+pn(r.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+an(r.label)+"</div></button>"}return t=""+pc({Ab:dn("firebaseui-list-box-dialog"),content:fn(t+"</div>")}),ln(t)}function vc(e){return ln((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function yc(e,t){return un((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")||e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function bc(e){Ec(e,"upgradeElement")}function wc(e){Ec(e,"downgradeElements")}v(Ko),Ko.prototype.a=0,P(Go,fi),(e=Go.prototype).Lb=Ko.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");Go.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,$o(this,(function(e){!e.na&&e.N()&&e.v()}))},e.ya=function(){$o(this,(function(e){e.na&&e.ya()})),this.L&&Co(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),$o(this,(function(e){e.m()})),this.g&&Gt(this.g),this.Y=this.g=this.oa=this.Ea=null,Go.K.o.call(this)},e.removeChild=function(e,t){if(e){var n=f(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(e=this.oa&&n&&(null!==(e=this.oa)&&n in e?e[n]:void 0)||null,n&&e){var i=this.oa;if(n in i&&delete i[n],H(this.Ea,e),t&&(e.ya(),e.g&&Gt(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,Go.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},fc.a="firebaseui.auth.soy2.element.infoBar",mc.a="firebaseui.auth.soy2.element.progressDialog",gc.a="firebaseui.auth.soy2.element.listBoxDialog",vc.a="firebaseui.auth.soy2.element.busyIndicator";var Ic=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Ec(e,t){e&&window.componentHandler&&window.componentHandler[t]&&Ic.forEach((function(n){co(e,n)&&window.componentHandler[t](e),F(Vt(n,e),(function(e){window.componentHandler[t](e)}))}))}function Tc(e,t,n){if(kc.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),bc(e),t&&Qo(this,e,(function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&kc.call(this)})),!n){var i=this.N().parentElement||this.N().parentNode;if(i){var r=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,n=i.getBoundingClientRect().height,s=i.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=i.getBoundingClientRect().left-document.body.getBoundingClientRect().left,o=e.getBoundingClientRect().width,c=i.getBoundingClientRect().width;e.style.top=(s+(n-t)/2).toString()+"px",t=a+(c-o)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-o).toString()+"px"}else window.removeEventListener("resize",r.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function kc(){var e=Sc.call(this);e&&(wc(e),e.open&&e.close(),Gt(e),this.da&&window.removeEventListener("resize",this.da))}function Sc(){return Bt("firebaseui-id-dialog")}function _c(){Gt(Cc.call(this))}function Cc(){return zo(this,"firebaseui-id-info-bar")}function Ac(){return zo(this,"firebaseui-id-dismiss-info-bar")}var Nc={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Dc(e,t,n){for(var i in Hn.call(this,e,t),n)this[i]=n[i]}function Rc(e,t,n,i,r){Go.call(this,n),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=i||null,this.A=this.ca=null,this.Z=se(Nc),oe(this.Z,r||{})}function Lc(e){return e.N().parentElement||e.N().parentNode}function Pc(e,t,n){Xo(e,t,(function(){n.focus()}))}function Oc(e,t,n){Xo(e,t,(function(){n()}))}function xc(e,t,n){t=(e=e||{}).Va;var i=e.ia;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+nc(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?lc(null):"")+ic(null)+'</div></div><div class="firebaseui-card-footer">'+(i?dc(n):hc(n))+"</div></form></div>",ln(e)}function Mc(e,t,n){return t=(e=e||{}).ia,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+nc(e)+cc()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+uc()+'</div><div class="firebaseui-form-actions">'+rc()+'</div></div><div class="firebaseui-card-footer">'+(t?dc(n):hc(n))+"</div></form></div>",ln(e)}function Uc(e,t,n){var i=(e=e||{}).Tb;t=e.Ta;var r=e.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+nc(e);return i?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+pn(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=ln(e)):e="",n=s+e+oc(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?lc(null):"")+sc()+'</div></div><div class="firebaseui-card-footer">'+(r?dc(n):hc(n))+"</div></form></div>",ln(n)}function Fc(e,t,n){return t=(e=e||{}).Ta,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+nc(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?lc(null):"")+ic({label:dn("Send")})+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(e)}function jc(e,t,n){t=e.G;var i="";return i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+an(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(i+='<div class="firebaseui-form-actions">'+ic({label:dn("Done")})+"</div>"),i+='</div><div class="firebaseui-card-footer">'+hc(n)+"</div></div>",ln(i)}function Vc(e,t,n){return ln('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+vc(null)+"</div></div>")}function Bc(e,t,n){return ln('<div class="firebaseui-container firebaseui-id-page-spinner">'+vc({tb:!0})+"</div>")}function qc(){return ln('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Hc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+an(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ln('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+lc({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(t)}function Kc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ln('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+lc({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(e)}function Gc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+nc(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lc(null)+ic(null)+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(e)}function zc(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lc({label:dn("Dismiss")})+"</div></div></div>";return ln(e)}function Wc(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lc({label:dn("Dismiss")})+"</div></div></div>";return ln(e)}function $c(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="Youve already used <strong>"+an(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+cc()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+uc()+'</div><div class="firebaseui-form-actions">'+rc()+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(t)}function Yc(e,t,n){var i=e.email;return t="",e=dn(e=""+yc(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(i="Youve already used <strong>"+an(i)+"</strong>. You can connect your <strong>"+an(e)+"</strong> account with <strong>"+an(i)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+an(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+rc()+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(t)}function Jc(e,t,n){t="";var i=""+yc(e,n);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+an(i=dn(i))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(i="If you still want to connect your <strong>"+an(i)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ac()+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(t)}function Xc(e,t,n){var i=e.email;return t="",e=dn(e=""+yc(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(i="Youve already used <strong>"+an(i)+"</strong>. Sign in with "+an(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ic({label:dn("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(t)}function Qc(e,t,n){var i=(e=e||{}).kc;t=e.yb,e=e.Eb;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return r+=i?i="<strong>"+an(i)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",r+="</p>",t&&(r+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+an(t)+"</strong> for authorization.")+"</p>"),r+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(r+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),r+='</div><div class="firebaseui-form-actions">'+lc({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(r)}function Zc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+an(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lc(null)+ic({label:dn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(t)}function eu(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+an(e.email)+"</strong></p>"+oc(function(e){function t(){}var n={label:dn("New password")};for(var i in t.prototype=e,e=new t,n)e[i]=n[i];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+sc()+"</div></div></form></div>",ln(t)}function tu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></div>",ln(e)}function nu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></div>",ln(e)}function iu(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+an(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></form></div>",ln(n)}function ru(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></div>",ln(e)}function su(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></div>",ln(e)}function au(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></div>",ln(e)}function ou(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+an(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></div>",ln(n)}function cu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></div>",ln(e)}function uu(e){var t=e.factorId,n=e.phoneNumber;e=e.G;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return i+="phone"===t?t="The <strong>"+an(t)+" "+an(n)+"</strong> was removed as a second authentication step.":"The device or app was removed as a second authentication step.",i+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></form></div>",ln(i)}function lu(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ac()+"</div>":"")+"</div></div>",ln(e)}function hu(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+an(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=ic({label:dn("Retry")})),ln(e+"</div></div></div>")}function du(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+an(e.errorMessage)+"</p></div></div>",ln(e)}function fu(e,t,n){var i=e.Qb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+an(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(i="You originally wanted to sign in with "+an(i))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lc(null)+ic({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form></div>",ln(t)}function pu(e,t,n){var i='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var r=0;r<t;r++){var s={ga:e[r]},a=n,o=(s=s||{}).ga,c=s,u="";switch((c=c||{}).ga.providerId){case"google.com":u+="firebaseui-idp-google";break;case"github.com":u+="firebaseui-idp-github";break;case"facebook.com":u+="firebaseui-idp-facebook";break;case"twitter.com":u+="firebaseui-idp-twitter";break;case"phone":u+="firebaseui-idp-phone";break;case"anonymous":u+="firebaseui-idp-anonymous";break;case"password":u+="firebaseui-idp-password";break;default:u+="firebaseui-idp-generic"}c=(c='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+pn(un(u))+' firebaseui-id-idp-button" data-provider-id="'+pn(o.providerId)+'" style="background-color:')+pn(gn(un((u=(u=(u=s)||{}).ga).ta?u.ta:a.wa[u.providerId]?""+a.wa[u.providerId]:0==u.providerId.indexOf("saml.")?""+a.wa.saml:0==u.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=s;u=a,l=(l=l||{}).ga,u=hn(l.za?mn(l.za):u.xa[l.providerId]?mn(u.xa[l.providerId]):0==l.providerId.indexOf("saml.")?mn(u.xa.saml):0==l.providerId.indexOf("oidc.")?mn(u.xa.oidc):mn(u.xa.password)),c=c+pn(mn(u))+'"></span>',"password"==o.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?c+=an(o.V):o.S?c+=s="Sign in with "+an(yc(s,a)):c+="Sign in with email",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=o.S?c+an(o.S):c+"Email",c+="</span>"):"phone"==o.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?c+=an(o.V):o.S?c+=s="Sign in with "+an(yc(s,a)):c+="Sign in with phone",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=o.S?c+an(o.S):c+"Phone",c+="</span>"):"anonymous"==o.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?c+=an(o.V):o.S?c+=s="Sign in with "+an(yc(s,a)):c+="Continue as guest",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=o.S?c+an(o.S):c+"Guest",c+="</span>"):(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?c+=an(o.V):c+=u="Sign in with "+an(yc(s,a)),c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(o.S?an(o.S):an(yc(s,a)))+"</span>"),i+='<li class="firebaseui-list-item">'+(o=ln(c+"</button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+dc(n)+"</div></div>",ln(i)}function mu(e,t,n){var i,r=(e=e||{}).Gb,s=e.Va;return t=e.ia,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+pn(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ln(e))+(i=r?ln('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(s?lc(null):"")+ic({label:dn("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.F&&n.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=ln(t+"</p>")):n=ln('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+hc(n),ln(i+n+"</div></form></div>")}function gu(e,t,n){var i="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+an(t=(e=e||{}).phoneNumber)+"</a>",an(t),t=i,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(i=ln('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lc(null)+ic({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hc(n)+"</div></form>",e=ln('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ln(t+(n+e+"</div>"))}function vu(){return ln('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function yu(e,t,n){var i='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var r=0;r<t;r++){var s=e[r],a="",o=an(s.displayName),c=s.tenantId?s.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+pn(c=dn(c))+' firebaseui-id-tenant-selection-button"'+(s.tenantId?'data-tenant-id="'+pn(s.tenantId)+'"':"")+'style="background-color:'+pn(gn(s.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+pn(mn(s.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?a+=an(s.V):a+=s="Sign in to "+an(s.displayName),i+='<li class="firebaseui-list-item">'+(a=ln(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+o+"</span></button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+dc(n)+"</div></div>",ln(i)}function bu(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+nc(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ic(null)+'</div></div><div class="firebaseui-card-footer">'+dc(n)+"</div></form></div>",ln(e)}function wu(){return zo(this,"firebaseui-id-submit")}function Iu(){return zo(this,"firebaseui-id-secondary-link")}function Eu(e,t){Qo(this,wu.call(this),(function(t){e(t)}));var n=Iu.call(this);n&&t&&Qo(this,n,(function(e){t(e)}))}function Tu(){return zo(this,"firebaseui-id-password")}function ku(){return zo(this,"firebaseui-id-password-error")}function Su(){var e=Tu.call(this),t=ku.call(this);Jo(this,e,(function(){tc(t)&&(Yo(e,!0),Zo(t))}))}function _u(){var e=Tu.call(this),t=ku.call(this);return ho(e)?(Yo(e,!0),Zo(t),t=!0):(Yo(e,!1),ec(t,un("Enter your password").toString()),t=!1),t?ho(e):null}function Cu(e,t,n,i,r,s){Rc.call(this,$c,{email:e},s,"passwordLinking",{F:i,D:r}),this.w=t,this.H=n}P(Dc,Hn),P(Rc,Go),(e=Rc.prototype).kb=function(){var e=tn(this.fb,this.eb,this.Z,this.s);bc(e),this.g=e},e.v=function(){if(Rc.K.v.call(this),yi(Lc(this),new Dc("pageEnter",Lc(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;Qo(this,this.bb(),(function(){e()}))}if(this.ab()&&this.Z.D){var t=this.Z.D;Qo(this,this.ab(),(function(){t()}))}},e.ya=function(){yi(Lc(this),new Dc("pageExit",Lc(this),{pageId:this.Ga})),Rc.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,wc(this.N()),Rc.K.o.call(this)},e.I=function(e,t,n,i){function r(){if(s.T)return null;s.Fa=!1,window.clearTimeout(s.ca),s.ca=null,s.A&&(wc(s.A),Gt(s.A),s.A=null)}var s=this;return s.Fa?null:(function(e){e.Fa=!0;var t=co(e.N(),"firebaseui-use-spinner");e.ca=window.setTimeout((function(){e.N()&&null===e.A&&(e.A=tn(vc,{tb:t},null,e.s),e.N().appendChild(e.A),bc(e.A))}),500)}(s),e.apply(null,t).then(n,i).then(r,r))},N(Rc.prototype,{a:function(e){_c.call(this);var t=tn(fc,{message:e},null,this.s);this.N().appendChild(t),Qo(this,Ac.call(this),(function(){Gt(t)}))},yc:_c,Ac:Cc,zc:Ac,$:function(e,t){e=tn(mc,{Ma:e,message:t},null,this.s),Tc.call(this,e)},h:kc,Cb:Sc,Cc:function(){return zo(this,"firebaseui-tos")},bb:function(){return zo(this,"firebaseui-tos-link")},ab:function(){return zo(this,"firebaseui-pp-link")},Dc:function(){return zo(this,"firebaseui-tos-list")}}),xc.a="firebaseui.auth.soy2.page.signIn",Mc.a="firebaseui.auth.soy2.page.passwordSignIn",Uc.a="firebaseui.auth.soy2.page.passwordSignUp",Fc.a="firebaseui.auth.soy2.page.passwordRecovery",jc.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Vc.a="firebaseui.auth.soy2.page.callback",Bc.a="firebaseui.auth.soy2.page.spinner",qc.a="firebaseui.auth.soy2.page.blank",Hc.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Kc.a="firebaseui.auth.soy2.page.emailNotReceived",Gc.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",zc.a="firebaseui.auth.soy2.page.differentDeviceError",Wc.a="firebaseui.auth.soy2.page.anonymousUserMismatch",$c.a="firebaseui.auth.soy2.page.passwordLinking",Yc.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Jc.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Xc.a="firebaseui.auth.soy2.page.federatedLinking",Qc.a="firebaseui.auth.soy2.page.unauthorizedUser",Zc.a="firebaseui.auth.soy2.page.unsupportedProvider",eu.a="firebaseui.auth.soy2.page.passwordReset",tu.a="firebaseui.auth.soy2.page.passwordResetSuccess",nu.a="firebaseui.auth.soy2.page.passwordResetFailure",iu.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",ru.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",su.a="firebaseui.auth.soy2.page.emailVerificationSuccess",au.a="firebaseui.auth.soy2.page.emailVerificationFailure",ou.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",cu.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",uu.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",lu.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",hu.a="firebaseui.auth.soy2.page.recoverableError",du.a="firebaseui.auth.soy2.page.unrecoverableError",fu.a="firebaseui.auth.soy2.page.emailMismatch",pu.a="firebaseui.auth.soy2.page.providerSignIn",mu.a="firebaseui.auth.soy2.page.phoneSignInStart",gu.a="firebaseui.auth.soy2.page.phoneSignInFinish",vu.a="firebaseui.auth.soy2.page.signOut",yu.a="firebaseui.auth.soy2.page.selectTenant",bu.a="firebaseui.auth.soy2.page.providerMatchByEmail",o(Cu,Rc),Cu.prototype.v=function(){this.P(),this.M(this.w,this.H),Oc(this,this.i(),this.w),this.i().focus(),Rc.prototype.v.call(this)},Cu.prototype.o=function(){this.w=null,Rc.prototype.o.call(this)},Cu.prototype.j=function(){return ho(zo(this,"firebaseui-id-email"))},N(Cu.prototype,{i:Tu,B:ku,P:Su,u:_u,ea:wu,ba:Iu,M:Eu});var Au=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Nu(){return zo(this,"firebaseui-id-email")}function Du(){return zo(this,"firebaseui-id-email-error")}function Ru(e){var t=Nu.call(this),n=Du.call(this);Jo(this,t,(function(){tc(n)&&(Yo(t,!0),Zo(n))})),e&&Xo(this,t,(function(){e()}))}function Lu(){return $(ho(Nu.call(this))||"")}function Pu(){var e=Nu.call(this),t=Du.call(this),n=ho(e)||"";return n?Au.test(n)?(Yo(e,!0),Zo(t),t=!0):(Yo(e,!1),ec(t,un("That email address isn't correct").toString()),t=!1):(Yo(e,!1),ec(t,un("Enter your email address to continue").toString()),t=!1),t?$(ho(e)):null}function Ou(e,t,n,i,r,s,a){Rc.call(this,Mc,{email:n,ia:!!s},a,"passwordSignIn",{F:i,D:r}),this.w=e,this.H=t}function xu(e,t,n,i,r,s){Rc.call(this,e,t,i,r||"notice",s),this.i=n||null}function Mu(e,t,n,i,r){xu.call(this,jc,{email:e,G:!!t},t,r,"passwordRecoveryEmailSent",{F:n,D:i})}function Uu(e,t){xu.call(this,su,{G:!!e},e,t,"emailVerificationSuccess")}function Fu(e,t){xu.call(this,au,{G:!!e},e,t,"emailVerificationFailure")}function ju(e,t,n){xu.call(this,ou,{email:e,G:!!t},t,n,"verifyAndChangeEmailSuccess")}function Vu(e,t){xu.call(this,cu,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function Bu(e,t){xu.call(this,lu,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function qu(e){xu.call(this,vu,void 0,void 0,e,"signOut")}function Hu(e,t){xu.call(this,tu,{G:!!e},e,t,"passwordResetSuccess")}function Ku(e,t){xu.call(this,nu,{G:!!e},e,t,"passwordResetFailure")}function Gu(e,t){xu.call(this,ru,{G:!!e},e,t,"emailChangeRevokeFailure")}function zu(e,t,n){xu.call(this,hu,{errorMessage:e,zb:!!t},t,n,"recoverableError")}function Wu(e,t){xu.call(this,du,{errorMessage:e},void 0,t,"unrecoverableError")}function $u(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function Yu(e,t,n,i){function r(n){if(!n.name||"cancel"!=n.name){e:{var i=n.message;try{var r=((JSON.parse(i).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(r&&r.length){var s=!0;break e}}catch(e){}s=!1}if(s)n=Lc(t),t.m(),nl(e,n,void 0,un("Your sign-in session has expired. Please try again.").toString());else{if(s=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;s=Qu(n)}t.a(s)}}}if(_h(e),i)return Ju(e,n),qi();if(!n.credential)throw Error("No credential found!");if(!gh(e).currentUser&&!n.user)throw Error("User not logged in.");try{var s=function(e,t){return Nh(e),Th(e,(function(n){if(e.j&&!e.j.isAnonymous&&ka(Ah(e))&&!gh(e).currentUser)return Rh(e).then((function(){return"password"==t.credential.providerId&&(t.credential=null),t}));if(n)return Rh(e).then((function(){return n.linkWithCredential(t.credential)})).then((function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Lh(e,n,t.credential)}));if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Rh(e).then((function(){return vh(e).updateCurrentUser(t.user)})).then((function(){return t.user=vh(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t}))}))}(e,n)}catch(e){return Kr(e.code||e.message,e),t.a(e.code||e.message),qi()}return n=s.then((function(t){Ju(e,t)}),r).then(void 0,r),Sh(e,s),qi(n)}function Ju(e,t){if(!t.user)throw Error("No user found");var n=Ka(Ah(e));if(Ha(Ah(e))&&n&&$r("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Ka(Ah(e));var i=Js(yh(e))||void 0;$s(Ks,yh(e));var r=!1;tr()?(n&&!n(t,i)||(r=!0,Mt(window.opener.location,Xu(e,i))),n||window.close()):n&&!n(t,i)||(r=!0,Mt(window.location,Xu(e,i))),r||e.reset()}else{n=t.user,t=t.credential,i=Ha(Ah(e)),r=Js(yh(e))||void 0,$s(Ks,yh(e));var s=!1;tr()?(i&&!i(n,t,r)||(s=!0,Mt(window.opener.location,Xu(e,r))),i||window.close()):i&&!i(n,t,r)||(s=!0,Mt(window.location,Xu(e,r))),s||e.reset()}}function Xu(e,t){if(!(e=t||Ah(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function Qu(e){var t={code:e.code},n="";switch((t=t||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":n+=un("Please login again to perform this operation");break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=Cn();break;case"auth/invalid-verification-code":n+=un("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=un(n).toString())return t;try{return JSON.parse(e.message),Kr("Internal error: "+e.message,void 0),Nn().toString()}catch(t){return e.message}}function Zu(e,t,n,i){function r(){!function(e,t){Ys(Hs,{tenantId:e.a},t)}(new is(e.h.tenantId||null),yh(e)),Sh(e,t.I(C(e.dc,e),[c],(function(){if("file:"===(window.location&&window.location.protocol))return Sh(e,fh(e).then((function(n){t.m(),$s(Hs,yh(e)),ao("callback",e,o,qi(n))}),s))}),a))}function s(i){if($s(Hs,yh(e)),!i.name||"cancel"!=i.name)switch(i=$u(i),i.code){case"auth/popup-blocked":r();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(Qu(i));break;case"auth/admin-restricted-operation":t.m(),La(Ah(e))?ao("handleUnauthorizedUser",e,o,null,n):ao("callback",e,o,Hi(i));break;default:t.m(),ao("callback",e,o,Hi(i))}}function a(n){$s(Hs,yh(e)),n.name&&"cancel"==n.name||(Kr("signInWithRedirect: "+n.code,void 0),n=Qu(n),"blank"==t.Ga&&Ba(Ah(e))?(t.m(),ao("providerSignIn",e,o,n)):t.a(n))}var o=Lc(t),c=function(e,t,n){var i=Ea[t]&&le.auth[Ea[t]]?new le.auth[Ea[t]]:0==t.indexOf("saml.")?new le.auth.SAMLAuthProvider(t):new le.auth.OAuthProvider(t);if(!i)throw Error("Invalid Firebase Auth provider!");var r=Pa(Ah(e),t);if(i.addScope)for(var s=0;s<r.length;s++)i.addScope(r[s]);return r=Oa(Ah(e),t)||{},n&&(e=t==le.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==le.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=Aa(Ah(e),t))&&e.Ob)&&(r[e]=n),i.setCustomParameters&&i.setCustomParameters(r),i}(e,n,i);qa(Ah(e))==eo?r():Sh(e,function(e,t){return Nh(e),Th(e,(function(n){return n&&!Xs(yh(e))?n.linkWithPopup(t).then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Lh(e,t)})):gh(e).signInWithPopup(t)}))}(e,c).then((function(n){t.m(),ao("callback",e,o,qi(n))}),s))}function el(e){return 1==(e=Ca(Ah(e))).length&&e[0]==le.auth.EmailAuthProvider.PROVIDER_ID}function tl(e){return 1==(e=Ca(Ah(e))).length&&e[0]==le.auth.PhoneAuthProvider.PROVIDER_ID}function nl(e,t,n,i){el(e)?i?ao("signIn",e,t,n,i):al(e,t,n):e&&tl(e)&&!i?ao("phoneSignInStart",e,t):e&&Ba(Ah(e))&&!i?ao("federatedRedirect",e,t,n):ao("providerSignIn",e,t,i,n)}function il(e,t,n,i){var r=Lc(t);Sh(e,t.I(C(gh(e).fetchSignInMethodsForEmail,gh(e)),[n],(function(s){t.m(),rl(e,r,s,n,i)}),(function(e){e=Qu(e),t.a(e)})))}function rl(e,t,n,i,r,s){n.length||Va(Ah(e))&&!Va(Ah(e))?q(n,le.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ao("passwordSignIn",e,t,i,s):1==n.length&&n[0]===le.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Va(Ah(e))?ao("sendEmailLinkForSignIn",e,t,i,(function(){ao("signIn",e,t)})):ao("unsupportedProvider",e,t,i):(n=wa(n,Ca(Ah(e))))?(Zs(new es(i),yh(e)),ao("federatedSignIn",e,t,i,n,r)):ao("unsupportedProvider",e,t,i):Ra(Ah(e))?ao("handleUnauthorizedUser",e,t,i,le.auth.EmailAuthProvider.PROVIDER_ID):Va(Ah(e))?ao("sendEmailLinkForSignIn",e,t,i,(function(){ao("signIn",e,t)})):ao("passwordSignUp",e,t,i,void 0,void 0,s)}function sl(e,t,n,i,r,s){var a=Lc(t);Sh(e,t.I(C(e.Ib,e),[n,s],(function(){t.m(),ao("emailLinkSignInSent",e,a,n,i,s)}),r))}function al(e,t,n){n?ao("prefilledEmailSignIn",e,t,n):ao("signIn",e,t)}function ol(){return ye(rr(),"oobCode")}function cl(){var e=ye(rr(),"continueUrl");return e?function(){Mt(window.location,e)}:null}function ul(e,t){Rc.call(this,Wc,void 0,t,"anonymousUserMismatch"),this.i=e}function ll(e){Rc.call(this,Vc,void 0,e,"callback")}function hl(e,t,n){if(n.user){var i={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},r=Xs(yh(e)),s=r&&r.g;if(s&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,s))!function(e,t,n){var i=Lc(t);Sh(e,Rh(e).then((function(){t.m(),ao("emailMismatch",e,i,n)}),(function(e){e.name&&"cancel"==e.name||(e=Qu(e.code),t.a(e))})))}(e,t,i);else{var a=r&&r.a;a?Sh(e,n.user.linkWithCredential(a).then((function(n){i={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},dl(e,t,i)}),(function(n){fl(e,t,n)}))):dl(e,t,i)}}else n=Lc(t),t.m(),Qs(yh(e)),nl(e,n)}function dl(e,t,n){Qs(yh(e)),Yu(e,t,n)}function fl(e,t,n){var i=Lc(t);Qs(yh(e)),n=Qu(n),t.m(),nl(e,i,void 0,n)}function pl(e,t,n,i){var r=Lc(t);Sh(e,gh(e).fetchSignInMethodsForEmail(n).then((function(s){t.m(),s.length?q(s,le.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ao("passwordLinking",e,r,n):1==s.length&&s[0]===le.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ao("emailLinkSignInLinking",e,r,n):(s=wa(s,Ca(Ah(e))))?ao("federatedLinking",e,r,n,s,i):(Qs(yh(e)),ao("unsupportedProvider",e,r,n)):(Qs(yh(e)),ao("passwordRecovery",e,r,n,!1,Dn().toString()))}),(function(n){fl(e,t,n)})))}function ml(e,t){Rc.call(this,zc,void 0,t,"differentDeviceError"),this.i=e}function gl(e,t,n,i){Rc.call(this,iu,{email:e,G:!!n},i,"emailChangeRevoke"),this.l=t,this.i=n||null}function vl(){return zo(this,"firebaseui-id-new-password")}function yl(){return zo(this,"firebaseui-id-password-toggle")}function bl(){this.Ra=!this.Ra;var e=yl.call(this),t=vl.call(this);this.Ra?(t.type="text",uo(e,"firebaseui-input-toggle-off"),lo(e,"firebaseui-input-toggle-on")):(t.type="password",uo(e,"firebaseui-input-toggle-on"),lo(e,"firebaseui-input-toggle-off")),t.focus()}function wl(){return zo(this,"firebaseui-id-new-password-error")}function Il(){this.Ra=!1;var e=vl.call(this);e.type="password";var t=wl.call(this);Jo(this,e,(function(){tc(t)&&(Yo(e,!0),Zo(t))}));var n=yl.call(this);uo(n,"firebaseui-input-toggle-on"),lo(n,"firebaseui-input-toggle-off"),function(e,t,n){Un(e,A(Fn,t=new Io(t))),_o(Wo(e),t,"focusin",n)}(this,e,(function(){uo(n,"firebaseui-input-toggle-focus"),lo(n,"firebaseui-input-toggle-blur")})),function(e,t,n){Un(e,A(Fn,t=new Io(t))),_o(Wo(e),t,"focusout",n)}(this,e,(function(){uo(n,"firebaseui-input-toggle-blur"),lo(n,"firebaseui-input-toggle-focus")})),Qo(this,n,C(bl,this))}function El(){var e=vl.call(this),t=wl.call(this);return ho(e)?(Yo(e,!0),Zo(t),t=!0):(Yo(e,!1),ec(t,un("Enter your password").toString()),t=!1),t?ho(e):null}function Tl(e,t,n){Rc.call(this,eu,{email:e},n,"passwordReset"),this.l=t}function kl(e,t,n,i,r){Rc.call(this,uu,{factorId:e,phoneNumber:n||null,G:!!i},r,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=i||null}function Sl(e,t,n,i){"auth/weak-password"==(i&&i.code)?(e=Qu(i),Yo(n.i(),!1),ec(n.w(),e),n.i().focus()):(n&&n.m(),(n=new Ku).render(t),ph(e,n))}function _l(e,t){try{var n="number"==typeof e.selectionStart}catch(e){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):Qe&&!ht("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Cl(e,t,n,i,r,s){Rc.call(this,Gc,{email:n},s,"emailLinkSignInConfirmation",{F:i,D:r}),this.l=e,this.u=t}function Al(e,t,n,i,r){Rc.call(this,Jc,{ga:e},r,"emailLinkSignInLinkingDifferentDevice",{F:n,D:i}),this.i=t}function Nl(e){Rc.call(this,qc,void 0,e,"blank")}function Dl(e,t,n,i,r){var s=new Nl,a=new je(n),o=a.a.a.get(He.$a)||"",c=a.a.a.get(He.Sa)||"",u="1"===a.a.a.get(He.Qa),l=Ve(a),h=a.a.a.get(He.PROVIDER_ID)||null;a=a.a.a.get(He.vb)||null,Ch(e,a);var d=!Ws(Gs,yh(e)),f=i||function(e,t){var n=null;if(t=Ws(Gs,t))try{var i=Ss(e,t),r=JSON.parse(i);n=r&&r.email||null}catch(e){}return n}(c,yh(e)),p=(i=function(e,t){var n=null;if(t=Ws(zs,t))try{var i=Ss(e,t);n=JSON.parse(i)}catch(e){}return ns(n||null)}(c,yh(e)))&&i.a;h&&p&&p.providerId!==h&&(p=null),s.render(t),ph(e,s),Sh(e,s.I((function(){var t=qi(null);t=l&&d||d&&u?Hi(Error("anonymous-user-not-found")):function(e,t){var n=Ve(new je(t));return n?(t=new xi((function(t,i){var r=vh(e).onAuthStateChanged((function(e){r(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?i(Error("anonymous-user-mismatch")):i(Error("anonymous-user-not-found"))}));Sh(e,r)})),Sh(e,t),t):qi(null)}(e,n).then((function(e){if(h&&!p)throw Error("pending-credential-not-found");return e}));var i=null;return t.then((function(t){return i=t,r?null:gh(e).checkActionCode(o)})).then((function(){return i}))}),[],(function(i){f?function(e,t,n,i,r,s){var a=Lc(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Signing in...").toString());var o=null;r=(s?function(e,t,n,i,r){Nh(e);var s=r||null,a=le.auth.EmailAuthProvider.credentialWithLink(n,i);return n=s?gh(e).signInWithEmailLink(n,i).then((function(e){return e.user.linkWithCredential(s)})).then((function(){return Rh(e)})).then((function(){return Lh(e,{code:"auth/email-already-in-use"},s)})):gh(e).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Lh(e,{code:"auth/email-already-in-use"},a):t.linkWithCredential(a)})),Sh(e,n),n}(e,s,n,i,r):function(e,t,n,i){Nh(e);var r,s=i||null;return t=gh(e).signInWithEmailLink(t,n).then((function(e){if(r={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},s)return e.user.linkWithCredential(s).then((function(e){r={user:e.user,credential:s,operationType:r.operationType,additionalUserInfo:e.additionalUserInfo}}))})).then((function(){Rh(e)})).then((function(){return vh(e).updateCurrentUser(r.user)})).then((function(){return r.user=vh(e).currentUser,r})),Sh(e,t),t}(e,n,i,r)).then((function(n){$s(zs,yh(e)),$s(Gs,yh(e)),t.h(),t.$("firebaseui-icon-done",un("Signed in!").toString()),o=setTimeout((function(){t.h(),Yu(e,t,n,!0)}),1e3),Sh(e,(function(){t&&(t.h(),t.m()),clearTimeout(o)}))}),(function(r){if(t.h(),t.m(),!r.name||"cancel"!=r.name){var s=Qu(r=$u(r));"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?($s(zs,yh(e)),$s(Gs,yh(e))):"auth/invalid-email"==r.code?(s=un("The email provided does not match the current sign-in session.").toString(),ao("emailLinkConfirmation",e,a,i,Rl,null,s)):nl(e,a,n,s)}})),Sh(e,r)}(e,s,f,n,p,i):u?(s.m(),ao("differentDeviceError",e,t)):(s.m(),ao("emailLinkConfirmation",e,t,n,Rl))}),(function(i){var r=void 0;if(!i||!i.name||"cancel"!=i.name)switch(s.m(),i&&i.message){case"anonymous-user-not-found":ao("differentDeviceError",e,t);break;case"anonymous-user-mismatch":ao("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":ao("emailLinkNewDeviceLinking",e,t,n,Ll);break;default:i&&(r=Qu(i)),nl(e,t,void 0,r)}})))}function Rl(e,t,n,i){Dl(e,t,i,n,!0)}function Ll(e,t,n){Dl(e,t,n)}function Pl(e,t,n,i,r,s){Rc.call(this,Yc,{email:e,ga:t},s,"emailLinkSignInLinking",{F:i,D:r}),this.i=n}function Ol(e,t,n,i,r,s){Rc.call(this,Hc,{email:e},s,"emailLinkSignInSent",{F:i,D:r}),this.u=t,this.i=n}function xl(e,t,n,i,r,s,a){Rc.call(this,fu,{jc:e,Qb:t},a,"emailMismatch",{F:r,D:s}),this.l=n,this.i=i}function Ml(e,t,n,i,r){Rc.call(this,Kc,void 0,r,"emailNotReceived",{F:n,D:i}),this.l=e,this.i=t}function Ul(e,t,n,i,r,s){Rc.call(this,Xc,{email:e,ga:t},s,"federatedLinking",{F:i,D:r}),this.i=n}function Fl(e,t,n,i,r,s){Rc.call(this,Fc,{email:n,Ta:!!t},s,"passwordRecovery",{F:i,D:r}),this.l=e,this.u=t}function jl(){return zo(this,"firebaseui-id-name")}function Vl(){return zo(this,"firebaseui-id-name-error")}function Bl(e,t,n,i,r,s,a,o,c){Rc.call(this,Uc,{email:i,Tb:e,name:r,Ta:!!n,ia:!!o},c,"passwordSignUp",{F:s,D:a}),this.w=t,this.H=n,this.B=e}function ql(){return zo(this,"firebaseui-id-phone-confirmation-code")}function Hl(){return zo(this,"firebaseui-id-phone-confirmation-code-error")}function Kl(){return zo(this,"firebaseui-id-resend-countdown")}function Gl(e,t,n,i,r,s,a,o,c){Rc.call(this,gu,{phoneNumber:r},c,"phoneSignInFinish",{F:a,D:o}),this.jb=s,this.i=new Eo(1e3),this.B=s,this.P=e,this.l=t,this.H=n,this.M=i}o(Ou,Rc),Ou.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Pc(this,this.l(),this.i()),Oc(this,this.i(),this.w),ho(this.l())?this.i().focus():this.l().focus(),Rc.prototype.v.call(this)},Ou.prototype.o=function(){this.H=this.w=null,Rc.prototype.o.call(this)},N(Ou.prototype,{l:Nu,U:Du,P:Ru,M:Lu,j:Pu,i:Tu,B:ku,ea:Su,u:_u,ua:wu,pa:Iu,ba:Eu}),P(xu,Rc),xu.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),xu.K.v.call(this)},xu.prototype.o=function(){this.i=null,xu.K.o.call(this)},N(xu.prototype,{l:wu,w:Iu,u:Eu}),P(Mu,xu),P(Uu,xu),P(Fu,xu),P(ju,xu),P(Vu,xu),P(Bu,xu),P(qu,xu),P(Hu,xu),P(Ku,xu),P(Gu,xu),P(zu,xu),P(Wu,xu),o(ul,Rc),ul.prototype.v=function(){var e=this;Qo(this,this.l(),(function(){e.i()})),this.l().focus(),Rc.prototype.v.call(this)},ul.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},N(ul.prototype,{l:Iu}),so.anonymousUserMismatch=function(e,t){var n=new ul((function(){n.m(),nl(e,t)}));n.render(t),ph(e,n)},o(ll,Rc),ll.prototype.I=function(e,t,n,i){return e.apply(null,t).then(n,i)},so.callback=function(e,t,n){var i=new ll;i.render(t),ph(e,i),n=n||fh(e),Sh(e,n.then((function(t){hl(e,i,t)}),(function(n){if((n=$u(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)Zs(new es(n.email,n.credential),yh(e)),pl(e,i,n.email);else if(n&&"auth/user-cancelled"==n.code){var r=Xs(yh(e)),s=Qu(n);r&&r.a?pl(e,i,r.g,s):r?il(e,i,r.g,s):fl(e,i,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&el(e)?hl(e,i,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&La(Ah(e))?(i.m(),Qs(yh(e)),ao("handleUnauthorizedUser",e,t,null,null)):fl(e,i,n))})))},o(ml,Rc),ml.prototype.v=function(){var e=this;Qo(this,this.l(),(function(){e.i()})),this.l().focus(),Rc.prototype.v.call(this)},ml.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},N(ml.prototype,{l:Iu}),so.differentDeviceError=function(e,t){var n=new ml((function(){n.m(),nl(e,t)}));n.render(t),ph(e,n)},o(gl,Rc),gl.prototype.v=function(){var e=this;Qo(this,zo(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Rc.prototype.v.call(this)},gl.prototype.o=function(){this.l=this.i=null,Rc.prototype.o.call(this)},N(gl.prototype,{u:wu,B:Iu,w:Eu}),o(Tl,Rc),Tl.prototype.v=function(){this.H(),this.B(this.l),Oc(this,this.i(),this.l),this.i().focus(),Rc.prototype.v.call(this)},Tl.prototype.o=function(){this.l=null,Rc.prototype.o.call(this)},N(Tl.prototype,{i:vl,w:wl,M:yl,H:Il,u:El,U:wu,P:Iu,B:Eu}),o(kl,Rc),kl.prototype.v=function(){var e=this;Qo(this,zo(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Rc.prototype.v.call(this)},kl.prototype.o=function(){this.l=this.i=null,Rc.prototype.o.call(this)},N(kl.prototype,{u:wu,B:Iu,w:Eu}),so.passwordReset=function(e,t,n,i){Sh(e,gh(e).verifyPasswordResetCode(n).then((function(r){var s=new Tl(r,(function(){!function(e,t,n,i,r){var s=n.u();s&&Sh(e,n.I(C(gh(e).confirmPasswordReset,gh(e)),[i,s],(function(){n.m();var i=new Hu(r);i.render(t),ph(e,i)}),(function(i){Sl(e,t,n,i)})))}(e,t,s,n,i)}));s.render(t),ph(e,s)}),(function(){Sl(e,t)})))},so.emailChangeRevocation=function(e,t,n){var i=null;Sh(e,gh(e).checkActionCode(n).then((function(t){return i=t.data.email,gh(e).applyActionCode(n)})).then((function(){!function(e,t,n){var i=new gl(n,(function(){Sh(e,i.I(C(gh(e).sendPasswordResetEmail,gh(e)),[n],(function(){i.m(),(i=new Mu(n,void 0,Ua(Ah(e)),Fa(Ah(e)))).render(t),ph(e,i)}),(function(){i.a(An().toString())})))}));i.render(t),ph(e,i)}(e,t,i)}),(function(){var n=new Gu;n.render(t),ph(e,n)})))},so.emailVerification=function(e,t,n,i){Sh(e,gh(e).applyActionCode(n).then((function(){var n=new Uu(i);n.render(t),ph(e,n)}),(function(){var n=new Fu;n.render(t),ph(e,n)})))},so.revertSecondFactorAddition=function(e,t,n){var i=null,r=null;Sh(e,gh(e).checkActionCode(n).then((function(t){return i=t.data.email,r=t.data.multiFactorInfo,gh(e).applyActionCode(n)})).then((function(){!function(e,t,n,i){var r=new kl(i.factorId,(function(){r.I(C(gh(e).sendPasswordResetEmail,gh(e)),[n],(function(){r.m(),(r=new Mu(n,void 0,Ua(Ah(e)),Fa(Ah(e)))).render(t),ph(e,r)}),(function(){r.a(An().toString())}))}),i.phoneNumber);r.render(t),ph(e,r)}(e,t,i,r)}),(function(){var n=new Bu;n.render(t),ph(e,n)})))},so.verifyAndChangeEmail=function(e,t,n,i){var r=null;Sh(e,gh(e).checkActionCode(n).then((function(t){return r=t.data.email,gh(e).applyActionCode(n)})).then((function(){var n=new ju(r,i);n.render(t),ph(e,n)}),(function(){var n=new Vu;n.render(t),ph(e,n)})))},o(Cl,Rc),Cl.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),_l(this.i(),(this.i().value||"").length),Rc.prototype.v.call(this)},Cl.prototype.o=function(){this.u=this.l=null,Rc.prototype.o.call(this)},N(Cl.prototype,{i:Nu,M:Du,w:Ru,H:Lu,j:Pu,U:wu,P:Iu,B:Eu}),so.emailLinkConfirmation=function(e,t,n,i,r,s){var a=new Cl((function(){var r=a.j();r?(a.m(),i(e,t,r,n)):a.i().focus()}),(function(){a.m(),nl(e,t,r||void 0)}),r||void 0,Ua(Ah(e)),Fa(Ah(e)));a.render(t),ph(e,a),s&&a.a(s)},o(Al,Rc),Al.prototype.v=function(){this.u(this.i),this.l().focus(),Rc.prototype.v.call(this)},Al.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},N(Al.prototype,{l:wu,u:Eu}),so.emailLinkNewDeviceLinking=function(e,t,n,i){var r=new je(n);if(n=r.a.a.get(He.PROVIDER_ID)||null,Be(r,null),n){var s=new Al(Aa(Ah(e),n),(function(){s.m(),i(e,t,r.toString())}),Ua(Ah(e)),Fa(Ah(e)));s.render(t),ph(e,s)}else nl(e,t)},o(Nl,Rc),so.emailLinkSignInCallback=Dl,o(Pl,Rc),Pl.prototype.v=function(){this.u(this.i),this.l().focus(),Rc.prototype.v.call(this)},Pl.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},N(Pl.prototype,{l:wu,u:Eu}),so.emailLinkSignInLinking=function(e,t,n){var i=Xs(yh(e));if(Qs(yh(e)),i){var r=i.a.providerId,s=new Pl(n,Aa(Ah(e),r),(function(){!function(e,t,n,i){var r=Lc(t);sl(e,t,n,(function(){nl(e,r,n)}),(function(i){if(!i.name||"cancel"!=i.name){var s=Qu(i);i&&"auth/network-request-failed"==i.code?t.a(s):(t.m(),nl(e,r,n,s))}}),i)}(e,s,n,i)}),Ua(Ah(e)),Fa(Ah(e)));s.render(t),ph(e,s)}else nl(e,t)},o(Ol,Rc),Ol.prototype.v=function(){var e=this;Qo(this,this.l(),(function(){e.i()})),Qo(this,zo(this,"firebaseui-id-trouble-getting-email-link"),(function(){e.u()})),this.l().focus(),Rc.prototype.v.call(this)},Ol.prototype.o=function(){this.i=this.u=null,Rc.prototype.o.call(this)},N(Ol.prototype,{l:Iu}),so.emailLinkSignInSent=function(e,t,n,i,r){var s=new Ol(n,(function(){s.m(),ao("emailNotReceived",e,t,n,i,r)}),(function(){s.m(),i()}),Ua(Ah(e)),Fa(Ah(e)));s.render(t),ph(e,s)},o(xl,Rc),xl.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Rc.prototype.v.call(this)},xl.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},N(xl.prototype,{u:wu,B:Iu,w:Eu}),so.emailMismatch=function(e,t,n){var i=Xs(yh(e));if(i){var r=new xl(n.user.email,i.g,(function(){var t=r;Qs(yh(e)),Yu(e,t,n)}),(function(){var t=n.credential.providerId,s=Lc(r);r.m(),i.a?ao("federatedLinking",e,s,i.g,t):ao("federatedSignIn",e,s,i.g,t)}),Ua(Ah(e)),Fa(Ah(e)));r.render(t),ph(e,r)}else nl(e,t)},o(Ml,Rc),Ml.prototype.v=function(){var e=this;Qo(this,this.u(),(function(){e.i()})),Qo(this,this.Da(),(function(){e.l()})),this.u().focus(),Rc.prototype.v.call(this)},Ml.prototype.Da=function(){return zo(this,"firebaseui-id-resend-email-link")},Ml.prototype.o=function(){this.i=this.l=null,Rc.prototype.o.call(this)},N(Ml.prototype,{u:Iu}),so.emailNotReceived=function(e,t,n,i,r){var s=new Ml((function(){sl(e,s,n,i,(function(e){e=Qu(e),s.a(e)}),r)}),(function(){s.m(),nl(e,t,n)}),Ua(Ah(e)),Fa(Ah(e)));s.render(t),ph(e,s)},o(Ul,Rc),Ul.prototype.v=function(){this.u(this.i),this.l().focus(),Rc.prototype.v.call(this)},Ul.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},N(Ul.prototype,{l:wu,u:Eu}),so.federatedLinking=function(e,t,n,i,r){var s=Xs(yh(e));if(s&&s.a){var a=new Ul(n,Aa(Ah(e),i),(function(){Zu(e,a,i,n)}),Ua(Ah(e)),Fa(Ah(e)));a.render(t),ph(e,a),r&&a.a(r)}else nl(e,t)},so.federatedRedirect=function(e,t,n){var i=new Nl;i.render(t),ph(e,i),Zu(e,i,t=Ca(Ah(e))[0],n)},so.federatedSignIn=function(e,t,n,i,r){var s=new Ul(n,Aa(Ah(e),i),(function(){Zu(e,s,i,n)}),Ua(Ah(e)),Fa(Ah(e)));s.render(t),ph(e,s),r&&s.a(r)},so.passwordLinking=function(e,t,n){var i=Xs(yh(e));Qs(yh(e));var r=i&&i.a;if(r){var s=new Cu(n,(function(){!function(e,t,n,i){var r=t.u();r?Sh(e,t.I(C(e.Xb,e),[n,r],(function(n){return n=n.user.linkWithCredential(i).then((function(n){return Yu(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),Sh(e,n),n}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":Yo(t.i(),!1),ec(t.B(),Qu(e));break;case"auth/too-many-requests":t.a(Qu(e));break;default:Kr("signInWithEmailAndPassword: "+e.message,void 0),t.a(Qu(e))}}))):t.i().focus()}(e,s,n,r)}),(function(){s.m(),ao("passwordRecovery",e,t,n)}),Ua(Ah(e)),Fa(Ah(e)));s.render(t),ph(e,s)}else nl(e,t)},o(Fl,Rc),Fl.prototype.v=function(){this.B(),this.H(this.l,this.u),ho(this.i())||this.i().focus(),Oc(this,this.i(),this.l),Rc.prototype.v.call(this)},Fl.prototype.o=function(){this.u=this.l=null,Rc.prototype.o.call(this)},N(Fl.prototype,{i:Nu,w:Du,B:Ru,M:Lu,j:Pu,U:wu,P:Iu,H:Eu}),so.passwordRecovery=function(e,t,n,i,r){var s=new Fl((function(){!function(e,t){var n=t.j();if(n){var i=Lc(t);Sh(e,t.I(C(gh(e).sendPasswordResetEmail,gh(e)),[n],(function(){t.m();var r=new Mu(n,(function(){r.m(),nl(e,i)}),Ua(Ah(e)),Fa(Ah(e)));r.render(i),ph(e,r)}),(function(e){Yo(t.i(),!1),ec(t.w(),Qu(e))})))}else t.i().focus()}(e,s)}),i?void 0:function(){s.m(),nl(e,t)},n,Ua(Ah(e)),Fa(Ah(e)));s.render(t),ph(e,s),r&&s.a(r)},so.passwordSignIn=function(e,t,n,i){var r=new Ou((function(){!function(e,t){var n=t.j(),i=t.u();if(n)if(i){var r=le.auth.EmailAuthProvider.credential(n,i);Sh(e,t.I(C(e.bc,e),[n,i],(function(n){return Yu(e,t,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":Yo(t.l(),!1),ec(t.U(),Qu(e));break;case"auth/too-many-requests":case"auth/wrong-password":Yo(t.i(),!1),ec(t.B(),Qu(e));break;default:Kr("verifyPassword: "+e.message,void 0),t.a(Qu(e))}})))}else t.i().focus();else t.l().focus()}(e,r)}),(function(){var n=r.M();r.m(),ao("passwordRecovery",e,t,n)}),n,Ua(Ah(e)),Fa(Ah(e)),i);r.render(t),ph(e,r)},o(Bl,Rc),Bl.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Pc(this,this.i(),this.u()),Pc(this,this.u(),this.l())):Pc(this,this.i(),this.l()),this.w&&Oc(this,this.l(),this.w),ho(this.i())?this.B&&!ho(this.u())?this.u().focus():this.l().focus():this.i().focus(),Rc.prototype.v.call(this)},Bl.prototype.o=function(){this.H=this.w=null,Rc.prototype.o.call(this)},N(Bl.prototype,{i:Nu,U:Du,ea:Ru,jb:Lu,j:Pu,u:jl,Bc:Vl,Ja:function(){var e=jl.call(this),t=Vl.call(this);Jo(this,e,(function(){tc(t)&&(Yo(e,!0),Zo(t))}))},M:function(){var e=jl.call(this),t=Vl.call(this),n=ho(e);return Yo(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Zo(t),t=!0):(ec(t,un("Enter your account name").toString()),t=!1),t?$(ho(e)):null},l:vl,ba:wl,lb:yl,ua:Il,P:El,Nb:wu,Mb:Iu,pa:Eu}),so.passwordSignUp=function(e,t,n,i,r,s){var a=new Bl(ja(Ah(e)),(function(){!function(e,t){var n=ja(Ah(e)),i=t.j(),r=null;n&&(r=t.M());var s=t.P();if(i){if(n){if(!r)return void t.u().focus();r=ie(r)}if(s){var a=le.auth.EmailAuthProvider.credential(i,s);Sh(e,t.I(C(e.Yb,e),[i,s],(function(i){var s={user:i.user,credential:a,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};return n?(i=i.user.updateProfile({displayName:r}).then((function(){return Yu(e,t,s)})),Sh(e,i),i):Yu(e,t,s)}),(function(n){if(!n.name||"cancel"!=n.name){var r=$u(n);switch(n=Qu(r),r.code){case"auth/email-already-in-use":return function(e,t,n,i){function r(){var e=Qu(i);Yo(t.i(),!1),ec(t.U(),e),t.i().focus()}var s=gh(e).fetchSignInMethodsForEmail(n).then((function(i){i.length?r():(i=Lc(t),t.m(),ao("passwordRecovery",e,i,n,!1,Dn().toString()))}),(function(){r()}));return Sh(e,s),s}(e,t,i,r);case"auth/too-many-requests":n=un("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Yo(t.l(),!1),ec(t.ba(),n);break;case"auth/admin-restricted-operation":La(Ah(e))?(n=Lc(t),t.m(),ao("handleUnauthorizedUser",e,n,i,le.auth.EmailAuthProvider.PROVIDER_ID)):t.a(n);break;default:Kr(r="setAccountInfo: "+Cs(r),void 0),t.a(n)}}})))}else t.l().focus()}else t.i().focus()}(e,a)}),r?void 0:function(){a.m(),nl(e,t)},n,i,Ua(Ah(e)),Fa(Ah(e)),s);a.render(t),ph(e,a)},o(Gl,Rc),Gl.prototype.v=function(){var e=this;this.U(this.jb),ti(this.i,"tick",this.w,!1,this),this.i.start(),Qo(this,zo(this,"firebaseui-id-change-phone-number-link"),(function(){e.P()})),Qo(this,this.Da(),(function(){e.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Rc.prototype.v.call(this)},Gl.prototype.o=function(){this.M=this.H=this.l=this.P=null,To(this.i),ri(this.i,"tick",this.w),this.i=null,Rc.prototype.o.call(this)},Gl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(To(this.i),ri(this.i,"tick",this.w),this.ua(),this.lb())},N(Gl.prototype,{u:ql,pa:Hl,Ja:function(e){var t=ql.call(this),n=Hl.call(this);Jo(this,t,(function(){tc(n)&&(Yo(t,!0),Zo(n))})),e&&Xo(this,t,(function(){e()}))},ba:function(){var e=$(ho(ql.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:Kl,U:function(e){Wt(Kl.call(this),un("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){Zo(this.Fb())},Da:function(){return zo(this,"firebaseui-id-resend-link")},lb:function(){ec(this.Da())},Nb:wu,Mb:Iu,ea:Eu}),so.phoneSignInFinish=function(e,t,n,i,r,s){var a=new Gl((function(){a.m(),ao("phoneSignInStart",e,t,n)}),(function(){!function(e,t,n,i){function r(e){t.u().focus(),Yo(t.u(),!1),ec(t.pa(),e)}var s=t.ba();s?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),Sh(e,t.I(C(i.confirm,i),[s],(function(n){t.h(),t.$("firebaseui-icon-done",un("Verified!").toString());var i=setTimeout((function(){t.h(),t.m();var i={user:vh(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Yu(e,t,i,!0)}),1e3);Sh(e,(function(){t&&t.h(),clearTimeout(i)}))}),(function(i){if(i.name&&"cancel"==i.name)t.h();else{var s=$u(i);switch(i=Qu(s),s.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":s=Lc(t),t.h(),t.m(),ao("phoneSignInStart",e,s,n,i);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),r(i);break;default:t.h(),t.a(i)}}})))):r(un("Wrong code. Try again.").toString())}(e,a,n,r)}),(function(){a.m(),nl(e,t)}),(function(){a.m(),ao("phoneSignInStart",e,t,n)}),ba(n),i,Ua(Ah(e)),Fa(Ah(e)));a.render(t),ph(e,a),s&&a.a(s)};var zl=!(Qe||ze("Safari")&&!(We()||ze("Coast")||ze("Opera")||ze("Edge")||ze("Firefox")||ze("FxiOS")||ze("Silk")||ze("Android")));function Wl(e,t){return/-[a-z]/.test(t)?null:zl&&e.dataset?!ze("Android")||We()||ze("Firefox")||ze("FxiOS")||ze("Opera")||ze("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function $l(e,t,n){var i=this;e=tn(gc,{items:e},null,this.s),Tc.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(Wl(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||Kt(document))||Kt(document),i=Bo(e),r=Bo(n);if(!Qe||9<=Number(ut)){a=jo(n,"borderLeftWidth");var s=jo(n,"borderRightWidth");o=jo(n,"borderTopWidth"),c=jo(n,"borderBottomWidth"),s=new Fo(parseFloat(o),parseFloat(s),parseFloat(c),parseFloat(a))}else{var a=Ho(n,"borderLeft");s=Ho(n,"borderRight");var o=Ho(n,"borderTop"),c=Ho(n,"borderBottom");s=new Fo(o,s,c,a)}n==Kt(document)?(a=i.a-n.scrollLeft,i=i.g-n.scrollTop,!Qe||10<=Number(ut)||(a+=s.left,i+=s.top)):(a=i.a-r.a-s.left,i=i.g-r.g-s.top),r=e.offsetWidth,s=e.offsetHeight,o=nt&&!r&&!s,e=d(r)&&!o||!e.getBoundingClientRect?new Ft(r,s):new Ft((e=Vo(e)).right-e.left,e.bottom-e.top),r=n.clientHeight-e.height,s=n.scrollLeft,o=n.scrollTop,n=new Ut(s+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),o+=Math.min(i,Math.max(i-r,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),Qo(this,e,(function(e){(e=(e=$t(e.target,"firebaseui-id-list-box-dialog-button"))&&Wl(e,"listboxid"))&&(kc.call(i),t(e))}))}function Yl(){return zo(this,"firebaseui-id-phone-number")}function Jl(){return zo(this,"firebaseui-id-country-selector")}function Xl(){return zo(this,"firebaseui-id-phone-number-error")}function Ql(e,t){var n,i=e.a,r=Zl("1-US-0",i);if(!(n=t&&Zl(t,i)?t:r?"1-US-0":0<i.length?i[0].c:null))throw Error("No available default country");nh.call(this,n,e)}function Zl(e,t){return!(!(e=ha(e))||!q(t,e))}function eh(e){return"firebaseui-flag-"+e.f}function th(e){var t=this;$l.call(this,function(e){return e.map((function(e){return{id:e.c,Ma:"firebaseui-flag "+eh(e),label:e.name+" +"+e.b}}))}(e.a),(function(n){nh.call(t,n,e,!0),t.O().focus()}),this.Ba)}function nh(e,t,n){var i=ha(e);i&&(n&&(t=la(t,n=$(ho(Yl.call(this))||""))).length&&t[0].b!=i.b&&(n="+"+i.b+n.substr(t[0].b.length+1),fo(Yl.call(this),n)),t=ha(this.Ba),this.Ba=e,e=zo(this,"firebaseui-id-country-selector-flag"),t&&lo(e,eh(t)),uo(e,eh(i)),Wt(zo(this,"firebaseui-id-country-selector-code"),"+"+i.b))}function ih(e,t,n,i,r,s,a,o,c,u){Rc.call(this,mu,{Gb:t,Aa:c||null,Va:!!n,ia:!!s},u,"phoneSignInStart",{F:i,D:r}),this.H=o||null,this.M=t,this.l=e,this.w=n||null,this.pa=a||null}function rh(e,t,n,i){try{var r=t.U(Ya)}catch(e){return}r?Wa?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),Sh(e,t.I(C(e.cc,e),[ba(r),n],(function(n){var i=Lc(t);t.$("firebaseui-icon-done",un("Code sent!").toString());var s=setTimeout((function(){t.h(),t.m(),ao("phoneSignInFinish",e,i,r,15,n)}),1e3);Sh(e,(function(){t&&t.h(),clearTimeout(s)}))}),(function(n){if(t.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Ja),Wa=null;var i=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":i=un("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.O().focus(),void ec(t.B(),Cn().toString());case"auth/admin-restricted-operation":if(La(Ah(e)))return n=Lc(t),t.m(),void ao("handleUnauthorizedUser",e,n,ba(r),le.auth.PhoneAuthProvider.PROVIDER_ID);i=Qu(n);break;default:i=Qu(n)}t.a(i)}})))):$a?ec(t.u(),un("Solve the reCAPTCHA").toString()):!$a&&i&&t.i().click():(t.O().focus(),ec(t.B(),Cn().toString()))}function sh(e,t,n,i,r){Rc.call(this,pu,{Sb:t},r,"providerSignIn",{F:n,D:i}),this.i=e}function ah(e,t,n,i,r,s,a){Rc.call(this,xc,{email:n,Va:!!t,ia:!!s},a,"signIn",{F:i,D:r}),this.i=e,this.u=t}function oh(e,t,n,i,r,s,a){Rc.call(this,Qc,{kc:e,yb:n,Eb:!!i},a,"unauthorizedUser",{F:r,D:s}),this.l=t,this.i=i}function ch(e,t,n,i,r,s){Rc.call(this,Zc,{email:e},s,"unsupportedProvider",{F:i,D:r}),this.l=t,this.i=n}function uh(e,t){this.$=!1;var n=dh(t);if(hh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');hh[n]=this,this.a=e,this.u=null,this.Y=!1,lh(this.a),this.h=le.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(n=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===n?"":":"+n),e.options)),lh(this.h),this.h.setPersistence&&this.h.setPersistence(le.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new Ta,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Ir.Xa(),this.j=this.C=null,this.da=this.A=!1}function lh(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}o(ih,Rc),ih.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Pc(this,this.O(),this.i()),Oc(this,this.i(),this.l),this.O().focus(),_l(this.O(),(this.O().value||"").length),Rc.prototype.v.call(this)},ih.prototype.o=function(){this.w=this.l=null,Rc.prototype.o.call(this)},N(ih.prototype,{Cb:Sc,O:Yl,B:Xl,ea:function(e,t,n){var i=this,r=Yl.call(this),s=Jl.call(this),a=Xl.call(this),o=e||ga,c=o.a;if(0==c.length)throw Error("No available countries provided.");Ql.call(i,o,t),Qo(this,s,(function(){th.call(i,o)})),Jo(this,r,(function(){tc(a)&&(Yo(r,!0),Zo(a));var e=$(ho(r)||""),t=ha(this.Ba),n=la(o,e);e=Zl("1-US-0",c),n.length&&n[0].b!=t.b&&(t=n[0],nh.call(i,"1"==t.b&&e?"1-US-0":t.c,o))})),n&&Xo(this,r,(function(){n()}))},U:function(e){var t=$(ho(Yl.call(this))||""),n=(e=e||ga).a,i=la(ga,t);if(i.length&&!q(n,i[0]))throw fo(Yl.call(this)),Yl.call(this).focus(),ec(Xl.call(this),un("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=ha(this.Ba),i.length&&i[0].b!=n.b&&nh.call(this,i[0].c,e),i.length&&(t=t.substr(i[0].b.length+1)),t?new va(this.Ba,t):null},Ja:Jl,ba:function(){return zo(this,"firebaseui-recaptcha-container")},u:function(){return zo(this,"firebaseui-id-recaptcha-error")},i:wu,ua:Iu,P:Eu}),so.phoneSignInStart=function(e,t,n,i){var r=function(e){var t=null;if(Sa(e).forEach((function(e){e.provider==le.auth.PhoneAuthProvider.PROVIDER_ID&&E(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=se(e.recaptchaParameters))})),t){var n=[];ro.forEach((function(e){void 0!==t[e]&&(n.push(e),delete t[e])})),n.length&&$r('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(Ah(e))||{};Wa=null,$a=!(r&&"invisible"===r.size);var s=tl(e),a=function(e){var t=(e=_a(e,le.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&da(t);var n=null;return e&&"string"==typeof e.loginHint&&(n=ya(e.loginHint)),t&&t[0]||n&&ha(n.a)||null}(Ah(e)),o=s?function(e){var t=null;return(e=_a(e,le.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof e.loginHint&&(t=ya(e.loginHint)),e&&e.defaultNationalNumber||t&&t.Aa||null}(Ah(e)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||o,(o=xa(Ah(e)))&&pa(o),Ya=o?new ua(xa(Ah(e))):ga;var c=new ih((function(t){rh(e,c,u,!(!t||!t.keyCode))}),$a,s?null:function(){u.clear(),c.m(),nl(e,t)},Ua(Ah(e)),Fa(Ah(e)),s,Ya,a,n);c.render(t),ph(e,c),i&&c.a(i),r.callback=function(t){c.u()&&Zo(c.u()),Wa=t,$a||rh(e,c,u)},r["expired-callback"]=function(){Wa=null};var u=new le.auth.RecaptchaVerifier($a?c.ba():c.i(),r,vh(e).app);Sh(e,c.I(C(u.render,u),[],(function(e){Ja=e}),(function(n){n.name&&"cancel"==n.name||(n=Qu(n),c.m(),nl(e,t,void 0,n))})))},so.prefilledEmailSignIn=function(e,t,n){var i=new Nl;i.render(t),ph(e,i),Sh(e,i.I(C(gh(e).fetchSignInMethodsForEmail,gh(e)),[n],(function(r){i.m();var s=!(!el(e)||!bh(e));rl(e,t,r,n,void 0,s)}),(function(r){r=Qu(r),i.m(),ao("signIn",e,t,n,r)})))},o(sh,Rc),sh.prototype.v=function(){this.l(this.i),Rc.prototype.v.call(this)},sh.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},N(sh.prototype,{l:function(e){function t(t){e(t)}for(var n=this.g?Vt("firebaseui-id-idp-button",this.g||this.s.a):[],i=0;i<n.length;i++){var r=n[i];Qo(this,r,A(t,Wl(r,"providerId")))}}}),so.providerSignIn=function(e,t,n,i){var r=new sh((function(n){n==le.auth.EmailAuthProvider.PROVIDER_ID?(r.m(),al(e,t,i)):n==le.auth.PhoneAuthProvider.PROVIDER_ID?(r.m(),ao("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){Sh(e,t.I(C(e.$b,e),[],(function(n){return t.m(),Yu(e,t,n,!0)}),(function(e){e.name&&"cancel"==e.name||(Kr("ContinueAsGuest: "+e.code,void 0),e=Qu(e),t.a(e))})))}(e,r):Zu(e,r,n,i),Nh(e),e.l.cancel()}),Na(Ah(e)),Ua(Ah(e)),Fa(Ah(e)));r.render(t),ph(e,r),n&&r.a(n),function(e){Nh(e);try{Er(e.l,Da(Ah(e)),function(e){var t;return Nh(e),(t=e.Z)||(t=!(!(e=Oa(e=Ah(e),le.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==e.prompt)),t}(e)).then((function(t){return!!e.g&&function(e,t,n){if(n&&n.credential&&n.clientId===Da(Ah(e))){if(Pa(Ah(e),le.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var i=JSON.parse(atob(n.credential.split(".")[1])).email}catch(r){}return Zu(e,t,le.auth.GoogleAuthProvider.PROVIDER_ID,i),qi(!0)}return r=le.auth.GoogleAuthProvider.credential(n.credential),s=!1,r=t.I(C(e.ac,e),[r],(function(n){var i=Lc(t);t.m(),ao("callback",e,i,qi(n)),s=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var i=Lc(t);t.m(),ao("callback",e,i,Hi(n))}else n&&"auth/admin-restricted-operation"==n.code&&La(Ah(e))?(n=Lc(t),t.m(),ao("handleUnauthorizedUser",e,n,null,le.auth.GoogleAuthProvider.PROVIDER_ID)):(n=Qu(n),t.a(n))})),Sh(e,r),r.then((function(){return s}),(function(){return!1}))}var r,s;return n&&t.a(un("The selected credential for the authentication provider is not supported!").toString()),qi(!1)}(e,e.g,t)}))}catch(e){}}(e)},so.sendEmailLinkForSignIn=function(e,t,n,i){var r=new ll;r.render(t),ph(e,r),sl(e,r,n,i,(function(i){r.m(),i&&"auth/admin-restricted-operation"==i.code&&La(Ah(e))?ao("handleUnauthorizedUser",e,t,n,le.auth.EmailAuthProvider.PROVIDER_ID):(i=Qu(i),ao("signIn",e,t,n,i))}))},o(ah,Rc),ah.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),_l(this.l(),(this.l().value||"").length),Rc.prototype.v.call(this)},ah.prototype.o=function(){this.u=this.i=null,Rc.prototype.o.call(this)},N(ah.prototype,{l:Nu,M:Du,w:Ru,H:Lu,j:Pu,U:wu,P:Iu,B:Eu}),so.signIn=function(e,t,n,i){var r=el(e),s=new ah((function(){var t=s,n=t.j()||"";n&&il(e,t,n)}),r?null:function(){s.m(),nl(e,t,n)},n,Ua(Ah(e)),Fa(Ah(e)),r);s.render(t),ph(e,s),i&&s.a(i)},o(oh,Rc),oh.prototype.v=function(){var e=this,t=zo(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&Qo(this,t,(function(){e.i()})),Qo(this,this.u(),(function(){e.l()})),this.u().focus(),Rc.prototype.v.call(this)},oh.prototype.o=function(){this.i=this.l=null,Rc.prototype.o.call(this)},N(oh.prototype,{u:Iu}),so.handleUnauthorizedUser=function(e,t,n,i){function r(){nl(e,t)}i===le.auth.EmailAuthProvider.PROVIDER_ID?r=function(){al(e,t)}:i===le.auth.PhoneAuthProvider.PROVIDER_ID&&(r=function(){ao("phoneSignInStart",e,t)});var s=null,a=null;i===le.auth.EmailAuthProvider.PROVIDER_ID&&Ra(Ah(e))?(s=function(e){return(e=_a(e,le.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.adminEmail||null}(Ah(e)),a=function(e){if((e=_a(e,le.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"==typeof t)return function(){nr(t)}}return null}(Ah(e))):La(Ah(e))&&(s=function(e){return(e=e.a.get("adminRestrictedOperation"))&&e.adminEmail?e.adminEmail:null}(Ah(e)),a=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"==typeof t)return function(){nr(t)}}return null}(Ah(e)));var o=new oh(n,(function(){o.m(),r()}),s,a,Ua(Ah(e)),Fa(Ah(e)));o.render(t),ph(e,o)},o(ch,Rc),ch.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Rc.prototype.v.call(this)},ch.prototype.o=function(){this.i=this.l=null,Rc.prototype.o.call(this)},N(ch.prototype,{u:wu,B:Iu,w:Eu}),so.unsupportedProvider=function(e,t,n){var i=new ch(n,(function(){i.m(),ao("passwordRecovery",e,t,n)}),(function(){i.m(),nl(e,t,n)}),Ua(Ah(e)),Fa(Ah(e)));i.render(t),ph(e,i)};var hh={};function dh(e){return e||"[DEFAULT]"}function fh(e){return Nh(e),e.i||(e.i=Th(e,(function(t){return t&&!Xs(yh(e))?qi(vh(e).getRedirectResult().then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Lh(e,t)}))):qi(gh(e).getRedirectResult().then((function(t){return ka(Ah(e))&&!t.user&&e.j&&!e.j.isAnonymous?vh(e).getRedirectResult():t})))}))),e.i}function ph(e,t){Nh(e),e.g=t}var mh=null;function gh(e){return Nh(e),e.h}function vh(e){return Nh(e),e.a}function yh(e){return Nh(e),e.oa}function bh(e){return Nh(e),e.O?e.O.emailHint:void 0}function wh(e){return"signIn"===((e=new je(e)).a.a.get(He.ub)||null)&&!!e.a.a.get(He.$a)}function Ih(e,t,n,i){Nh(e),void 0!==e.a.languageCode&&(e.u=e.a.languageCode);var r="en".replace(/_/g,"-");e.a.languageCode=r,e.h.languageCode=r,e.Y=!0,void 0!==e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(n),e.O=i||null;var s=h.document;e.C?e.C.then((function(){"complete"==s.readyState?Eh(e,t):ii(window,"load",(function(){Eh(e,t)}))})):"complete"==s.readyState?Eh(e,t):ii(window,"load",(function(){Eh(e,t)}))}function Eh(e,t){var n=ir(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),mh){var i=mh;Nh(i),Xs(yh(i))&&$r("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),mh.reset()}if(mh=e,e.T=n,function(e,t){e.L=null,e.J=new wi(t),e.J.register(),ti(e.J,"pageEnter",(function(t){if(t=t&&t.pageId,e.L!=t){var n=Ah(e);(n=za(n).uiChanged||null)&&n(e.L,t),e.L=t}}))}(e,n),Ms(new Us)&&Ms(new Fs)){t=ir(t,"Could not find the FirebaseUI widget element on the page."),n=(n=ye(n=rr(),i=ra(Ah(e).a,"queryParameterForSignInSuccessUrl")))?wt(Et(n)).toString():null;e:{i=rr();var r=Ma(Ah(e));for(s in i=ye(i,r)||"",no)if(no[s].toLowerCase()==i.toLowerCase()){var s=no[s];break e}s="callback"}switch(s){case"callback":n&&(s=yh(e),Ys(Ks,n,s)),e.nb()?ao("callback",e,t):nl(e,t,bh(e));break;case"resetPassword":ao("passwordReset",e,t,ol(),cl());break;case"recoverEmail":ao("emailChangeRevocation",e,t,ol());break;case"revertSecondFactorAddition":ao("revertSecondFactorAddition",e,t,ol());break;case"verifyEmail":ao("emailVerification",e,t,ol(),cl());break;case"verifyAndChangeEmail":ao("verifyAndChangeEmail",e,t,ol(),cl());break;case"signIn":ao("emailLinkSignInCallback",e,t,rr()),Dh();break;case"select":n&&(s=yh(e),Ys(Ks,n,s)),nl(e,t);break;default:throw Error("Unhandled widget operation.")}(t=za(t=Ah(e)).uiShown||null)&&t()}else t=ir(t,"Could not find the FirebaseUI widget element on the page."),(s=new Wu(un("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),ph(e,s);t=e.g&&"blank"==e.g.Ga&&Ba(Ah(e)),ea(yh(e))&&!t&&(Ch(e,(t=ea(yh(e))).a),$s(Hs,yh(e)))}function Th(e,t){if(e.A)return t(kh(e));if(Sh(e,(function(){e.A=!1})),ka(Ah(e))){var n=new xi((function(n){Sh(e,e.a.onAuthStateChanged((function(i){e.j=i,e.A||(e.A=!0,n(t(kh(e))))})))}));return Sh(e,n),n}return e.A=!0,t(null)}function kh(e){return Nh(e),ka(Ah(e))&&e.j&&e.j.isAnonymous?e.j:null}function Sh(e,t){if(Nh(e),t){e.s.push(t);var n=function(){!function(e,t){!function(e,t){for(var n=f(e)?e.split(""):e,i=e.length-1;0<=i;--i)i in n&&t.call(void 0,n[i],i,e)}(e,(function(n,i){t.call(void 0,n,i,e)&&K(e,i)}))}(e.s,(function(e){return e==t}))};"function"!=typeof t&&t.then(n,n)}}function _h(e){void 0!==e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function Ch(e,t){e.a.tenantId=t,e.h.tenantId=t}function Ah(e){return Nh(e),e.ca}function Nh(e){if(e.$)throw Error("AuthUI instance is deleted!")}function Dh(){var e=rr();if(wh(e)){for(var t in e=new je(e),He)He.hasOwnProperty(t)&&xe(e.a.a,He[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=h.document.title;h.history&&h.history.replaceState&&h.history.replaceState(t,n,e.toString())}}function Rh(e){return Nh(e),gh(e).signOut()}function Lh(e,t,n){if(Nh(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var i=Ga(Ah(e));return qi().then((function(){return i(new Ln("anonymous-upgrade-merge-conflict",null,n||t.credential))})).then((function(){throw e.g&&(e.g.m(),e.g=null),t}))}return Hi(t)}function Ph(e,t,n,i){Rc.call(this,bu,void 0,i,"providerMatchByEmail",{F:t,D:n}),this.i=e}function Oh(e,t,n,i,r){Rc.call(this,yu,{ec:t},r,"selectTenant",{F:n,D:i}),this.i=e}function xh(e){Rc.call(this,Bc,void 0,e,"spinner")}function Mh(e){for(var t in this.a=new ta,na(this.a,"authDomain"),na(this.a,"displayMode",Hh),na(this.a,"tenants"),na(this.a,"callbacks"),na(this.a,"tosUrl"),na(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{ia(this.a,t,e[t])}catch(e){Kr('Invalid config: "'+t+'"',void 0)}}function Uh(e){return e.a.get("callbacks")||{}}function Fh(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&$r("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){nr(t)}}return null}function jh(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&$r("Terms of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){nr(n)}}return null}function Vh(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty(Gh))throw Error("Invalid tenant configuration!")}function Bh(e,t,n){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var i=[];if(!(e=e[t]||e[Gh]))return Kr("Invalid tenant configuration: "+t+" is not configured!",void 0),i;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach((function(e){if("string"==typeof e)i.push(e);else if("string"==typeof e.provider){var t=e.hd;t&&n?(t instanceof RegExp?t:new RegExp("@"+t.replace(".","\\.")+"$")).test(n)&&i.push(e.provider):i.push(e.provider)}else Kr(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)})),i}(e=uh.prototype).nb=function(){return Nh(this),!!ea(yh(this))||wh(rr())},e.start=function(e,t){Ih(this,e,t)},e.Db=function(){Nh(this),this.Z=!0},e.reset=function(){Nh(this);var e=this;this.T&&this.T.removeAttribute("lang"),this.J&&function(e){var t=bi(e.N());gi[t]&&gi[t].length&&(function(e,t){e:{for(var n=e.length,i=f(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}0<=t&&K(e,t)}(gi[t],(function(t){return t==e})),gi[t].length||delete gi[t])}(this.J),_h(this),this.O=null,Dh(),$s(Hs,yh(this)),Nh(this),this.l.cancel(),this.i=qi({user:null,credential:null}),mh==this&&(mh=null),this.T=null;for(var t=0;t<this.s.length;t++)"function"==typeof this.s[t]?this.s[t]():this.s[t].cancel&&this.s[t].cancel();this.s=[],Qs(yh(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Rh(this).then((function(){e.C=null}),(function(){e.C=null})))},e.ib=function(e){Nh(this);var t,n=this.ca;for(t in e)try{ia(n.a,t,e[t])}catch(e){Kr('Invalid config: "'+t+'"',void 0)}it&&ia(n.a,"popupMode",!1),xa(n),!this.da&&Ha(Ah(this))&&($r("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){Nh(this);var e=Ah(this),t=ra(e.a,"widgetUrl");e=Ma(e);for(var n,i=t.search(ve),r=0,s=[];0<=(n=ge(t,r,e,i));)s.push(t.substring(r,n)),r=Math.min(t.indexOf("&",n)+1||i,i);s.push(t.substr(r)),t=s.join("").replace(be,"$1"),(e+=i="="+encodeURIComponent("select"))?(0>(i=t.indexOf("#"))&&(i=t.length),0>(r=t.indexOf("?"))||r>i?(r=i,n=""):n=t.substring(r+1,i),i=(t=[t.substr(0,r),n,t.substr(i)])[1],t[1]=e?i?i+"&"+e:e:i,i=t[0]+(t[1]?"?"+t[1]:"")+t[2]):i=t,Ah(this).a.get("popupMode")?(i=i||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||i.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=er(i,e))&&e.focus()):Mt(window.location,i)},e.Wa=function(){var e=this;return Nh(this),this.h.app.delete().then((function(){var t=dh(yh(e));delete hh[t],e.reset(),e.$=!0}))},e.Ib=function(e,t){Nh(this);var n=this,i=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Va(Ah(this)))return Hi(Error("Email link sign-in should be enabled to trigger email sending."));var r=function(e){if(Va(e)){var t={url:rr(),handleCodeInApp:!0};(e=_a(e,le.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof e.emailLinkSignIn&&oe(t,e.emailLinkSignIn()),e=t.url;var n=rr();n instanceof we||(n=ke(n)),e instanceof we||(e=ke(e));var i=n;n=new we(i);var r=!!e.j;r?Ie(n,e.j):r=!!e.A,r?n.A=e.A:r=!!e.h,r?n.h=e.h:r=null!=e.C;var s=e.g;if(r)Ee(n,e.C);else if(r=!!e.g)if("/"!=s.charAt(0)&&(i.h&&!i.g?s="/"+s:-1!=(i=n.g.lastIndexOf("/"))&&(s=n.g.substr(0,i+1)+s)),".."==s||"."==s)s="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){i=0==s.lastIndexOf("/",0),s=s.split("/");for(var a=[],o=0;o<s.length;){var c=s[o++];"."==c?i&&o==s.length&&a.push(""):".."==c?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==s.length&&a.push("")):(a.push(c),i=!0)}s=a.join("/")}return r?n.g=s:r=""!==e.a.toString(),r?Te(n,Ue(e.a)):r=!!e.s,r&&(n.s=e.s),t.url=n.toString(),t}return null}(Ah(this)),s=new je(r.url);return function(e,t){t?e.a.a.set(He.Sa,t):xe(e.a.a,He.Sa)}(s,i),t&&t.a&&(function(e,t,n){Ys(zs,ks(e,JSON.stringify(ts(t))),n)}(i,t,yh(this)),Be(s,t.a.providerId)),function(e,t){null!==t?e.a.a.set(He.Qa,t?"1":"0"):xe(e.a.a,He.Qa)}(s,function(e){return!(!(e=_a(e,le.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(Ah(this))),Th(this,(function(t){return t&&((t=t.uid)?s.a.a.set(He.Pa,t):xe(s.a.a,He.Pa)),r.url=s.toString(),gh(n).sendSignInLinkToEmail(e,r)})).then((function(){var t=yh(n),r={};r.email=e,Ys(Gs,ks(i,JSON.stringify(r)),t)}),(function(e){throw $s(zs,yh(n)),$s(Gs,yh(n)),e}))},e.bc=function(e,t){Nh(this);var n=this;return gh(this).signInWithEmailAndPassword(e,t).then((function(i){return Th(n,(function(r){return r?Rh(n).then((function(){return Lh(n,{code:"auth/email-already-in-use"},le.auth.EmailAuthProvider.credential(e,t))})):i}))}))},e.Yb=function(e,t){Nh(this);var n=this;return Th(this,(function(i){if(i){var r=le.auth.EmailAuthProvider.credential(e,t);return i.linkWithCredential(r)}return gh(n).createUserWithEmailAndPassword(e,t)}))},e.ac=function(e){Nh(this);var t=this;return Th(this,(function(n){return n?n.linkWithCredential(e).then((function(e){return e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Lh(t,n,e)})):gh(t).signInWithCredential(e)}))},e.dc=function(e){Nh(this);var t=this,n=this.i;return this.i=null,Th(this,(function(n){return n&&!Xs(yh(t))?n.linkWithRedirect(e):gh(t).signInWithRedirect(e)})).then((function(){}),(function(e){throw t.i=n,e}))},e.cc=function(e,t){Nh(this);var n=this;return Th(this,(function(i){return i?i.linkWithPhoneNumber(e,t).then((function(e){return new Sr(e,(function(e){if("auth/credential-already-in-use"==e.code)return Lh(n,e);throw e}))})):vh(n).signInWithPhoneNumber(e,t).then((function(e){return new Sr(e)}))}))},e.$b=function(){return Nh(this),vh(this).signInAnonymously()},e.Xb=function(e,t){return Nh(this),gh(this).signInWithEmailAndPassword(e,t)},o(Ph,Rc),Ph.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),_l(this.l(),(this.l().value||"").length),Rc.prototype.v.call(this)},Ph.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},N(Ph.prototype,{l:Nu,H:Du,u:Ru,B:Lu,j:Pu,M:wu,w:Eu}),o(Oh,Rc),Oh.prototype.v=function(){!function(e,t){function n(e){t(e)}for(var i=e.g?Vt("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],r=0;r<i.length;r++){var s=i[r];Qo(e,s,A(n,Wl(s,"tenantId")))}}(this,this.i),Rc.prototype.v.call(this)},Oh.prototype.o=function(){this.i=null,Rc.prototype.o.call(this)},o(xh,Rc);var qh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Hh="optionFirst",Kh={pc:Hh,oc:"identifierFirst"},Gh="*";function zh(e,t){var n=this;this.s=ir(e),this.a={},Object.keys(t).forEach((function(e){n.a[e]=new Mh(t[e])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function Wh(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=zh.prototype).Ub=function(e,t){var n=this;Wh(this);var i=e.apiKey;return new xi((function(e,r){if(n.a.hasOwnProperty(i)){var s=Uh(n.a[i]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),Kh)if(Kh[t]===e)return Kh[t];return Hh}(n.a[i])===Hh){var a=[];t.forEach((function(e){e=e||"_";var t=n.a[i].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[Gh])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(Kr("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)}));var o=function(t){t={tenantId:t,providerIds:Bh(n.a[i],t||"_")},e(t)};if(1===a.length)return void o(a[0].tenantId);n.g=new Oh((function(e){Wh(n),s&&s(),o(e)}),a,Fh(n.a[i]),jh(n.a[i]))}else n.g=new Ph((function(){var r=n.g.j();if(r){for(var a=0;a<t.length;a++){var o=Bh(n.a[i],t[a]||"_",r);if(0!==o.length)return r={tenantId:t[a],providerIds:o,email:r},Wh(n),s&&s(),void e(r)}n.g.a(Rn({code:"no-matching-tenant-for-email"}).toString())}}),Fh(n.a[i]),jh(n.a[i]));n.g.render(n.s),(r=Uh(n.a[i]).selectTenantUiShown||null)&&r()}else{var c=Error("Invalid project configuration: API key is invalid!");c.code="invalid-configuration",n.pb(c),r(c)}}))},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var n=t||void 0;Vh(this.a[e],t||"_");try{this.i=le.app(n).auth()}catch(r){var i=this.a[e].a.get("authDomain");if(!i)throw Error("Invalid project configuration: authDomain is required!");(e=le.initializeApp({apiKey:e,authDomain:i},n)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var n=this;return new xi((function(i,r){function s(t,i){n.j=new uh(e),Ih(n.j,n.s,t,i)}var a=e.app.options.apiKey;n.a.hasOwnProperty(a)||r(Error("Invalid project configuration: API key is invalid!"));var o=function(e,t,n){return e=function(e,t){var n=qh,i=void 0===i?{}:i;return Vh(e,t),function(e,t,n){return n=void 0===n?{}:n,Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),n)}((e=e.a.get("tenants"))[t]||e[Gh],n,i)}(e,t),(t=e.signInOptions)&&n&&(t=t.filter((function(e){return"string"==typeof e?n.includes(e):n.includes(e.provider)})),e.signInOptions=t),e}(n.a[a],e.tenantId||"_",t&&t.providerIds);Wh(n),r={signInSuccessWithAuthResult:function(e){return i(e),!1}};var c,u=Uh(n.a[a]).signInUiShown||null,l=!1;r.uiChanged=function(t,i){null===t&&"callback"===i?((t=Bt("firebaseui-id-page-callback",n.s))&&Zo(t),n.h=new xh,n.h.render(n.s)):l||null===t&&"spinner"===i||"blank"===i||(n.h&&(n.h.m(),n.h=null),l=!0,u&&u(e.tenantId))},o.callbacks=r,o.credentialHelper="none",t&&t.email&&(c={emailHint:t.email}),n.j?n.j.Wa().then((function(){s(o,c)})):s(o,c)}))},e.reset=function(){var e=this;return qi().then((function(){e.j&&e.j.Wa()})).then((function(){e.j=null,Wh(e)}))},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout((function(){Wh(e),e.h=new xh,e.g=e.h,e.h.render(e.s),e.A=null}),500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return Wh(this),this.g=new qu,this.g.render(this.s),qi()},e.pb=function(e){var t,n=this,i=Rn({code:e.code}).toString()||e.message;Wh(this),e.retry&&"function"==typeof e.retry&&(t=function(){n.reset(),e.retry()}),this.g=new zu(i,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return qi().then((function(){var n=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Vh(t.a[n],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(n=Uh(t.a[n]).beforeSignInSuccess||null)?n(e):e})).then((function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t}))},L("firebaseui.auth.FirebaseUiHandler",zh),L("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",zh.prototype.Ub),L("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",zh.prototype.Pb),L("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",zh.prototype.Zb),L("firebaseui.auth.FirebaseUiHandler.prototype.reset",zh.prototype.reset),L("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",zh.prototype.Vb),L("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",zh.prototype.mb),L("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",zh.prototype.Bb),L("firebaseui.auth.FirebaseUiHandler.prototype.handleError",zh.prototype.pb),L("firebaseui.auth.FirebaseUiHandler.prototype.processUser",zh.prototype.Rb),L("firebaseui.auth.AuthUI",uh),L("firebaseui.auth.AuthUI.getInstance",(function(e){return e=dh(e),hh[e]?hh[e]:null})),L("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",uh.prototype.Db),L("firebaseui.auth.AuthUI.prototype.start",uh.prototype.start),L("firebaseui.auth.AuthUI.prototype.setConfig",uh.prototype.ib),L("firebaseui.auth.AuthUI.prototype.signIn",uh.prototype.Wb),L("firebaseui.auth.AuthUI.prototype.reset",uh.prototype.reset),L("firebaseui.auth.AuthUI.prototype.delete",uh.prototype.Wa),L("firebaseui.auth.AuthUI.prototype.isPendingRedirect",uh.prototype.nb),L("firebaseui.auth.AuthUIError",Ln),L("firebaseui.auth.AuthUIError.prototype.toJSON",Ln.prototype.toJSON),L("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Xa),L("firebaseui.auth.CredentialHelper.NONE",Qa),L("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),xi.prototype.catch=xi.prototype.Ca,xi.prototype.finally=xi.prototype.fc}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window)}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=vr());var yr=firebaseui.auth;var br,wr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Ir={},Er=Er||{},Tr=wr||self;function kr(){}function Sr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _r(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cr="closure_uid_"+(1e9*Math.random()>>>0),Ar=0;function Nr(e,t,n){return e.call.apply(e.bind,arguments)}function Dr(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Rr(e,t,n){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nr:Dr).apply(null,arguments)}function Lr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Pr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function Or(){this.s=this.s,this.o=this.o}var xr={};Or.prototype.s=!1,Or.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Cr)&&e[Cr]||(e[Cr]=++Ar)}(this);delete xr[e]}},Or.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ur=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const i=e.length,r="string"==typeof e?e.split(""):e;for(let s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};function Fr(e){return Array.prototype.concat.apply([],arguments)}function jr(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Vr(e){return/^[\s\xa0]*$/.test(e)}var Br,qr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Hr(e,t){return-1!=e.indexOf(t)}function Kr(e,t){return e<t?-1:e>t?1:0}e:{var Gr=Tr.navigator;if(Gr){var zr=Gr.userAgent;if(zr){Br=zr;break e}}Br=""}function Wr(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function $r(e){const t={};for(const n in e)t[n]=e[n];return t}var Yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jr(e,t){let n,i;for(let t=1;t<arguments.length;t++){for(n in i=arguments[t],i)e[n]=i[n];for(let t=0;t<Yr.length;t++)n=Yr[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Xr(e){return Xr[" "](e),e}Xr[" "]=kr;var Qr,Zr,es=Hr(Br,"Opera"),ts=Hr(Br,"Trident")||Hr(Br,"MSIE"),ns=Hr(Br,"Edge"),is=ns||ts,rs=Hr(Br,"Gecko")&&!(Hr(Br.toLowerCase(),"webkit")&&!Hr(Br,"Edge"))&&!(Hr(Br,"Trident")||Hr(Br,"MSIE"))&&!Hr(Br,"Edge"),ss=Hr(Br.toLowerCase(),"webkit")&&!Hr(Br,"Edge");function as(){var e=Tr.document;return e?e.documentMode:void 0}e:{var os="",cs=(Zr=Br,rs?/rv:([^\);]+)(\)|;)/.exec(Zr):ns?/Edge\/([\d\.]+)/.exec(Zr):ts?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zr):ss?/WebKit\/(\S+)/.exec(Zr):es?/(?:Version)[ \/]?(\S+)/.exec(Zr):void 0);if(cs&&(os=cs?cs[1]:""),ts){var us=as();if(null!=us&&us>parseFloat(os)){Qr=String(us);break e}}Qr=os}var ls,hs={};function ds(){return e=hs,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=qr(String(Qr)).split("."),n=qr("9").split("."),i=Math.max(t.length,n.length);for(let a=0;0==e&&a<i;a++){var r=t[a]||"",s=n[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=Kr(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Kr(0==r[2].length,0==s[2].length)||Kr(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}();var e}Tr.document&&ts?ls=as()||parseInt(Qr,10)||void 0:ls=void 0;var fs=ls,ps=function(){if(!Tr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Tr.addEventListener("test",kr,t),Tr.removeEventListener("test",kr,t)}catch(e){}return e}();function ms(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function gs(e,t){if(ms.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rs){e:{try{Xr(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:vs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gs.Z.h.call(this)}}ms.prototype.h=function(){this.defaultPrevented=!0},Pr(gs,ms);var vs={2:"touch",3:"pen",4:"mouse"};gs.prototype.h=function(){gs.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ys="closure_listenable_"+(1e6*Math.random()|0),bs=0;function ws(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++bs,this.ca=this.fa=!1}function Is(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Es(e){this.src=e,this.g={},this.h=0}function Ts(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=Mr(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Is(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ks(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}Es.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=ks(e,t,i,r);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new ws(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var Ss="closure_lm_"+(1e6*Math.random()|0),_s={};function Cs(e,t,n,i,r){if(i&&i.once)return Ns(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Cs(e,t[s],n,i,r);return null}return n=Ms(n),e&&e[ys]?e.N(t,n,_r(i)?!!i.capture:!!i,r):As(e,t,n,!1,i,r)}function As(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var a=_r(r)?!!r.capture:!!r,o=Os(e);if(o||(e[Ss]=o=new Es(e)),(n=o.add(t,n,i,a,s)).proxy)return n;if(i=function(){var e=Ps;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)ps||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Ls(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Ns(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ns(e,t[s],n,i,r);return null}return n=Ms(n),e&&e[ys]?e.O(t,n,_r(i)?!!i.capture:!!i,r):As(e,t,n,!0,i,r)}function Ds(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ds(e,t[s],n,i,r);else i=_r(i)?!!i.capture:!!i,n=Ms(n),e&&e[ys]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=ks(s=e.g[t],n,i,r))&&(Is(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Os(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ks(t,n,i,r)),(n=-1<e?t[e]:null)&&Rs(n))}function Rs(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ys])Ts(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Ls(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Os(t))?(Ts(n,e),0==n.h&&(n.src=null,t[Ss]=null)):Is(e)}}}function Ls(e){return e in _s?_s[e]:_s[e]="on"+e}function Ps(e,t){if(e.ca)e=!0;else{t=new gs(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Rs(e),e=n.call(i,t)}return e}function Os(e){return(e=e[Ss])instanceof Es?e:null}var xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ms(e){return"function"==typeof e?e:(e[xs]||(e[xs]=function(t){return e.handleEvent(t)}),e[xs])}function Us(){Or.call(this),this.i=new Es(this),this.P=this,this.I=null}function Fs(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,"string"==typeof t)t=new ms(t,e);else if(t instanceof ms)t.target=t.target||e;else{var r=t;Jr(t=new ms(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];r=js(a,i,!0,t)&&r}if(r=js(a=t.g=e,i,!0,t)&&r,r=js(a,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=js(a=t.g=n[s],i,!1,t)&&r}function js(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var o=a.listener,c=a.ia||a.src;a.fa&&Ts(e.i,a),r=!1!==o.call(c,i)&&r}}return r&&!i.defaultPrevented}Pr(Us,Or),Us.prototype[ys]=!0,Us.prototype.removeEventListener=function(e,t,n,i){Ds(this,e,t,n,i)},Us.prototype.M=function(){if(Us.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Is(n[i]);delete t.g[e],t.h--}}this.I=null},Us.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},Us.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Vs=Tr.JSON.stringify;function Bs(){var e=$s;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qs,Hs=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ks),(e=>e.reset()));class Ks{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Gs(e){Tr.setTimeout((()=>{throw e}),0)}function zs(e,t){qs||function(){var e=Tr.Promise.resolve(void 0);qs=function(){e.then(Ys)}}(),Ws||(qs(),Ws=!0),$s.add(e,t)}var Ws=!1,$s=new class{constructor(){this.h=this.g=null}add(e,t){const n=Hs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Ys(){for(var e;e=Bs();){try{e.h.call(e.g)}catch(e){Gs(e)}var t=Hs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ws=!1}function Js(e,t){Us.call(this),this.h=e||1,this.g=t||Tr,this.j=Rr(this.kb,this),this.l=Date.now()}function Xs(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Qs(e,t,n){if("function"==typeof e)n&&(e=Rr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Rr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Tr.setTimeout(e,t||0)}function Zs(e){e.g=Qs((()=>{e.g=null,e.i&&(e.i=!1,Zs(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Pr(Js,Us),(br=Js.prototype).da=!1,br.S=null,br.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fs(this,"tick"),this.da&&(Xs(this),this.start()))}},br.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},br.M=function(){Js.Z.M.call(this),Xs(this),delete this.g};class ea extends Or{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zs(this)}M(){super.M(),this.g&&(Tr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(e){Or.call(this),this.h=e,this.g={}}Pr(ta,Or);var na=[];function ia(e,t,n,i){Array.isArray(n)||(n&&(na[0]=n.toString()),n=na);for(var r=0;r<n.length;r++){var s=Cs(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ra(e){Wr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rs(e)}),e),e.g={}}function sa(){this.g=!0}function aa(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return Vs(n)}catch(e){return t}}(e,n)+(i?" "+i:"")}))}ta.prototype.M=function(){ta.Z.M.call(this),ra(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sa.prototype.Aa=function(){this.g=!1},sa.prototype.info=function(){};var oa={},ca=null;function ua(){return ca=ca||new Us}function la(e){ms.call(this,oa.Ma,e)}function ha(e){const t=ua();Fs(t,new la(t,e))}function da(e,t){ms.call(this,oa.STAT_EVENT,e),this.stat=t}function fa(e){const t=ua();Fs(t,new da(t,e))}function pa(e,t){ms.call(this,oa.Na,e),this.size=t}function ma(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Tr.setTimeout((function(){e()}),t)}oa.Ma="serverreachability",Pr(la,ms),oa.STAT_EVENT="statevent",Pr(da,ms),oa.Na="timingevent",Pr(pa,ms);var ga={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},va={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ya(){}function ba(e){return e.h||(e.h=e.i())}function wa(){}ya.prototype.h=null;var Ia,Ea={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ta(){ms.call(this,"d")}function ka(){ms.call(this,"c")}function Sa(){}function _a(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new ta(this),this.P=Aa,e=is?125:void 0,this.W=new Js(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ca}function Ca(){this.i=null,this.g="",this.h=!1}Pr(Ta,ms),Pr(ka,ms),Pr(Sa,ya),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},Ia=new Sa;var Aa=45e3,Na={},Da={};function Ra(e,t,n){e.K=1,e.v=eo($a(t)),e.s=n,e.U=!0,La(e,null)}function La(e,t){e.F=Date.now(),Ma(e),e.A=$a(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),po(n.h,"t",i),e.C=0,n=e.l.H,e.h=new Ca,e.g=pc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ea(Rr(e.Ia,e,e.g),e.O)),ia(e.V,e.g,"readystatechange",e.gb),t=e.H?$r(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ha(1),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),c=0;c<o.length;c++){var u=o[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+u+"&":a+(l+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Pa(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Oa(e,t,n){let i,r=!0;for(;!e.I&&e.C<n.length;){if(i=xa(e,n),i==Da){4==t&&(e.o=4,fa(14),r=!1),aa(e.j,e.m,null,"[Incomplete Response]");break}if(i==Na){e.o=4,fa(15),aa(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}aa(e.j,e.m,i,null),Ba(e,i)}Pa(e)&&i!=Da&&i!=Na&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,fa(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ac(t),t.L=!0,fa(11))):(aa(e.j,e.m,n,"[Invalid Chunked Response]"),Va(e),ja(e))}function xa(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Da:(n=Number(t.substring(n,i)),isNaN(n)?Na:(i+=1)+n>t.length?Da:(t=t.substr(i,n),e.C=i+n,t))}function Ma(e){e.Y=Date.now()+e.P,Ua(e,e.P)}function Ua(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ma(Rr(e.eb,e),t)}function Fa(e){e.B&&(Tr.clearTimeout(e.B),e.B=null)}function ja(e){0==e.l.G||e.I||uc(e.l,e)}function Va(e){Fa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xs(e.W),ra(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ba(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||wo(n.i,e)))if(n.I=e.N,!e.J&&wo(n.i,e)&&3==n.G){try{var i=n.Ca.g.parse(t)}catch(e){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cc(n),Xo(n)}sc(n),fa(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=ma(Rr(n.ab,n),6e3));if(1>=bo(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else hc(n,11)}else if((e.J||n.g==e)&&cc(n),!Vr(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let u=r[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const r=u[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(i=1.5*l,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;!s.g&&(Hr(e,"spdy")||Hr(e,"quic")||Hr(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Io(s,s.h),s.h=null))}if(i.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.sa=e,Za(i.F,i.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var a=e;if((i=n).oa=fc(i,i.H?i.la:null,i.W),a.J){Eo(i.i,a);var o=a,c=i.K;c&&o.setTimeout(c),o.B&&(Fa(o),Ma(o)),i.g=a}else rc(i);0<n.l.length&&ec(n)}else"stop"!=u[0]&&"close"!=u[0]||hc(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?hc(n,7):Jo(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}ha(4)}catch(e){}}function qa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Sr(e)||"string"==typeof e)Ur(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Sr(e)||"string"==typeof e){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;i=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Sr(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function Ha(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Ha)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Ka(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Ga(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)Ga(r,i=e.g[t])||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function Ga(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(br=_a.prototype).setTimeout=function(e){this.P=e},br.gb=function(e){e=e.target;const t=this.L;t&&3==Go(e)?t.l():this.Ia(e)},br.Ia=function(e){try{if(e==this.g)e:{const l=Go(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||is||this.g&&(this.h.h||this.g.ga()||zo(this.g)))){this.I||4!=l||7==t||ha(8==t||0>=h?3:2),Fa(this);var n=this.g.ba();this.N=n;t:if(Pa(this)){var i=zo(this.g);e="";var r=i.length,s=4==Go(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Va(this),ja(this);var a="";break t}this.h.i=new Tr.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==n,function(e,t,n,i,r,s,a){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var o,c=this.g;if((o=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vr(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,fa(12),Va(this),ja(this);break e}aa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ba(this,n)}this.U?(Oa(this,l,a),is&&this.i&&3==l&&(ia(this.V,this.W,"tick",this.fb),this.W.start())):(aa(this.j,this.m,a,null),Ba(this,a)),4==l&&Va(this),this.i&&!this.I&&(4==l?uc(this.l,this):(this.i=!1,Ma(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,fa(12)):(this.o=0,fa(13)),Va(this),ja(this)}}}catch(e){}},br.fb=function(){if(this.g){var e=Go(this.g),t=this.g.ga();this.C<t.length&&(Fa(this),Oa(this,e,t),this.i&&4!=e&&Ma(this))}},br.cancel=function(){this.I=!0,Va(this)},br.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ha(3),fa(17)),Va(this),this.o=2,ja(this)):Ua(this,this.Y-e)},(br=Ha.prototype).R=function(){Ka(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},br.T=function(){return Ka(this),this.g.concat()},br.get=function(e,t){return Ga(this.h,e)?this.h[e]:t},br.set=function(e,t){Ga(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},br.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};var za=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wa){this.g=void 0!==t?t:e.g,Ya(this,e.j),this.s=e.s,Ja(this,e.i),Xa(this,e.m),this.l=e.l,t=e.h;var n=new uo;n.i=t.i,t.g&&(n.g=new Ha(t.g),n.h=t.h),Qa(this,n),this.o=e.o}else e&&(n=String(e).match(za))?(this.g=!!t,Ya(this,n[1]||"",!0),this.s=to(n[2]||""),Ja(this,n[3]||"",!0),Xa(this,n[4]),this.l=to(n[5]||"",!0),Qa(this,n[6]||"",!0),this.o=to(n[7]||"")):(this.g=!!t,this.h=new uo(null,this.g))}function $a(e){return new Wa(e)}function Ya(e,t,n){e.j=n?to(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ja(e,t,n){e.i=n?to(t,!0):t}function Xa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qa(e,t,n){t instanceof uo?(e.h=t,function(e,t){t&&!e.j&&(lo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ho(this,t),po(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=no(t,oo)),e.h=new uo(t,e.g))}function Za(e,t,n){e.h.set(t,n)}function eo(e){return Za(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function to(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function no(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,io),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function io(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(no(t,ro,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(no(t,ro,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(no(n,"/"==n.charAt(0)?ao:so,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",no(n,co)),e.join("")};var ro=/[#\/\?@]/g,so=/[#\?:]/g,ao=/[#\?]/g,oo=/[#\?@]/g,co=/#/g;function uo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function lo(e){e.g||(e.g=new Ha,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ho(e,t){lo(e),t=mo(e,t),Ga(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ga((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ka(e)))}function fo(e,t){return lo(e),t=mo(e,t),Ga(e.g.h,t)}function po(e,t,n){ho(e,t),0<n.length&&(e.i=null,e.g.set(mo(e,t),jr(n)),e.h+=n.length)}function mo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function go(e){this.l=e||vo,e=Tr.PerformanceNavigationTiming?0<(e=Tr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Tr.g&&Tr.g.Ea&&Tr.g.Ea()&&Tr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(br=uo.prototype).add=function(e,t){lo(this),this.i=null,e=mo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},br.forEach=function(e,t){lo(this),this.g.forEach((function(n,i){Ur(n,(function(n){e.call(t,n,i,this)}),this)}),this)},br.T=function(){lo(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},br.R=function(e){lo(this);var t=[];if("string"==typeof e)fo(this,e)&&(t=Fr(t,this.g.get(mo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Fr(t,e[n])}return t},br.set=function(e,t){return lo(this),this.i=null,fo(this,e=mo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},br.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},br.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=r;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};var vo=10;function yo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function bo(e){return e.h?1:e.g?e.g.size:0}function wo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Io(e,t){e.g?e.g.add(t):e.h=t}function Eo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function To(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return jr(e.i)}function ko(){}function So(){this.g=new ko}function _o(e,t,n){const i=n||"";try{qa(e,(function(e,n){let r=e;_r(e)&&(r=Vs(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(e){throw t.push(i+"type="+encodeURIComponent("_badmap")),e}}function Co(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(e){}}function Ao(e){this.l=e.$b||null,this.j=e.ib||!1}function No(e,t){Us.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Do,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}go.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},ko.prototype.stringify=function(e){return Tr.JSON.stringify(e,void 0)},ko.prototype.parse=function(e){return Tr.JSON.parse(e,void 0)},Pr(Ao,ya),Ao.prototype.g=function(){return new No(this.l,this.j)},Ao.prototype.i=function(e){return function(){return e}}({}),Pr(No,Us);var Do=0;function Ro(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Lo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Po(e)}function Po(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(br=No.prototype).open=function(e,t){if(this.readyState!=Do)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Po(this)},br.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Tr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},br.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lo(this)),this.readyState=Do},br.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ro(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},br.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lo(this):Po(this),3==this.readyState&&Ro(this)}},br.Ua=function(e){this.g&&(this.response=this.responseText=e,Lo(this))},br.Ta=function(e){this.g&&(this.response=e,Lo(this))},br.ha=function(){this.g&&Lo(this)},br.setRequestHeader=function(e,t){this.v.append(e,t)},br.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},br.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(No.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Oo=Tr.JSON.parse;function xo(e){Us.call(this),this.headers=new Ha,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mo,this.K=this.L=!1}Pr(xo,Us);var Mo="",Uo=/^https?$/i,Fo=["POST","PUT"];function jo(e){return"content-type"==e.toLowerCase()}function Vo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Bo(e),Ho(e)}function Bo(e){e.D||(e.D=!0,Fs(e,"complete"),Fs(e,"error"))}function qo(e){if(e.h&&void 0!==Er&&(!e.C[1]||4!=Go(e)||2!=e.ba()))if(e.v&&4==Go(e))Qs(e.Fa,0,e);else if(Fs(e,"readystatechange"),4==Go(e)){e.h=!1;try{const o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===o){var r=String(e.H).match(za)[1]||null;if(!r&&Tr.self&&Tr.self.location){var s=Tr.self.location.protocol;r=s.substr(0,s.length-1)}i=!Uo.test(r?r.toLowerCase():"")}n=i}if(n)Fs(e,"complete"),Fs(e,"success");else{e.m=6;try{var a=2<Go(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",Bo(e)}}finally{Ho(e)}}}function Ho(e,t){if(e.g){Ko(e);const n=e.g,i=e.C[0]?kr:null;e.g=null,e.C=null,t||Fs(e,"ready");try{n.onreadystatechange=i}catch(e){}}}function Ko(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Tr.clearTimeout(e.A),e.A=null)}function Go(e){return e.g?e.g.readyState:0}function zo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Mo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wo(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=function(e){let t="";return Wr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Za(e,t,n))}function $o(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yo(e){this.za=0,this.l=[],this.h=new sa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$o("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$o("baseRetryDelayMs",5e3,e),this.$a=$o("retryDelaySeedMs",1e4,e),this.Ya=$o("forwardChannelMaxRetries",2,e),this.ra=$o("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new go(e&&e.concurrentRequestLimit),this.Ca=new So,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Jo(e){if(Qo(e),3==e.G){var t=e.V++,n=$a(e.F);Za(n,"SID",e.J),Za(n,"RID",t),Za(n,"TYPE","terminate"),nc(e,n),(t=new _a(e,e.h,t,void 0)).K=2,t.v=eo($a(n)),n=!1,Tr.navigator&&Tr.navigator.sendBeacon&&(n=Tr.navigator.sendBeacon(t.v.toString(),"")),!n&&Tr.Image&&((new Image).src=t.v,n=!0),n||(t.g=pc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ma(t)}dc(e)}function Xo(e){e.g&&(ac(e),e.g.cancel(),e.g=null)}function Qo(e){Xo(e),e.u&&(Tr.clearTimeout(e.u),e.u=null),cc(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Tr.clearTimeout(e.m),e.m=null)}function Zo(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&ec(e)}function ec(e){yo(e.i)||e.m||(e.m=!0,zs(e.Ha,e),e.C=0)}function tc(e,t){var n;n=t?t.m:e.V++;const i=$a(e.F);Za(i,"SID",e.J),Za(i,"RID",n),Za(i,"AID",e.U),nc(e,i),e.o&&e.s&&Wo(i,e.o,e.s),n=new _a(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ic(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Io(e.i,n),Ra(n,i,t)}function nc(e,t){e.j&&qa({},(function(e,n){Za(t,n,e)}))}function ic(e,t,n){n=Math.min(e.l.length,n);var i=e.j?Rr(e.j.Oa,e.j,e):null;e:{var r=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=r[a].h;const o=r[a].g;if(n-=t,0>n)t=Math.max(0,r[a].h-100),s=!1;else try{_o(o,e,"req"+n+"_")}catch(e){i&&i(o)}}if(s){i=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,i}function rc(e){e.g||e.u||(e.Y=1,zs(e.Ga,e),e.A=0)}function sc(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=ma(Rr(e.Ga,e),lc(e,e.A)),e.A++,0))}function ac(e){null!=e.B&&(Tr.clearTimeout(e.B),e.B=null)}function oc(e){e.g=new _a(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=$a(e.oa);Za(t,"RID","rpc"),Za(t,"SID",e.J),Za(t,"CI",e.N?"0":"1"),Za(t,"AID",e.U),nc(e,t),Za(t,"TYPE","xmlhttp"),e.o&&e.s&&Wo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=eo($a(t)),n.s=null,n.U=!0,La(n,e)}function cc(e){null!=e.v&&(Tr.clearTimeout(e.v),e.v=null)}function uc(e,t){var n=null;if(e.g==t){cc(e),ac(e),e.g=null;var i=2}else{if(!wo(e.i,t))return;n=t.D,Eo(e.i,t),i=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;Fs(i=ua(),new pa(i,n,t,r)),ec(e)}else rc(e);else if(3==(r=t.o)||0==r&&0<e.I||!(1==i&&function(e,t){return!(bo(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=ma(Rr(e.Ha,e,t),lc(e,e.C)),e.C++,0)))}(e,t)||2==i&&sc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:hc(e,5);break;case 4:hc(e,10);break;case 3:hc(e,6);break;default:hc(e,2)}}function lc(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function hc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var i=Rr(e.jb,e);n||(n=new Wa("//www.google.com/images/cleardot.gif"),Tr.location&&"http"==Tr.location.protocol||Ya(n,"https"),eo(n)),function(e,t){const n=new sa;if(Tr.Image){const i=new Image;i.onload=Lr(Co,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Lr(Co,n,i,"TestLoadImage: error",!1,t),i.onabort=Lr(Co,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Lr(Co,n,i,"TestLoadImage: timeout",!1,t),Tr.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else fa(2);e.G=0,e.j&&e.j.va(t),dc(e),Qo(e)}function dc(e){e.G=0,e.I=-1,e.j&&(0==To(e.i).length&&0==e.l.length||(e.i.i.length=0,jr(e.l),e.l.length=0),e.j.ua())}function fc(e,t,n){let i=function(e){return e instanceof Wa?$a(e):new Wa(e,void 0)}(n);if(""!=i.i)t&&Ja(i,t+"."+i.i),Xa(i,i.m);else{const e=Tr.location;i=function(e,t,n,i){var r=new Wa(null,void 0);return e&&Ya(r,e),t&&Ja(r,t),n&&Xa(r,n),i&&(r.l=i),r}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Wr(e.aa,(function(e,t){Za(i,t,e)})),t=e.D,n=e.sa,t&&n&&Za(i,t,n),Za(i,"VER",e.ma),nc(e,i),i}function pc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new xo(new Ao({ib:!0})):new xo(e.qa)).L=e.H,t}function mc(){}function gc(){if(ts&&!(10<=Number(fs)))throw Error("Environmental error: no available transport.")}function vc(e,t){Us.call(this),this.g=new Yo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Vr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new wc(this)}function yc(e){Ta.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bc(){ka.call(this),this.status=1}function wc(e){this.g=e}(br=xo.prototype).ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ia.g(),this.C=this.u?ba(this.u):ba(Ia),this.g.onreadystatechange=Rr(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Vo(this,e)}e=n||"";const r=new Ha(this.headers);i&&qa(i,(function(e,t){r.set(t,e)})),i=function(e){e:{var t=jo;const n=e.length,i="string"==typeof e?e.split(""):e;for(let r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(r.T()),n=Tr.FormData&&e instanceof Tr.FormData,!(0<=Mr(Fo,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ko(this),0<this.B&&((this.K=function(e){return ts&&ds()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.pa,this)):this.A=Qs(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Vo(this,e)}},br.pa=function(){void 0!==Er&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fs(this,"timeout"),this.abort(8))},br.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fs(this,"complete"),Fs(this,"abort"),Ho(this))},br.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ho(this,!0)),xo.Z.M.call(this)},br.Fa=function(){this.s||(this.F||this.v||this.l?qo(this):this.cb())},br.cb=function(){qo(this)},br.ba=function(){try{return 2<Go(this)?this.g.status:-1}catch(e){return-1}},br.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},br.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Oo(t)}},br.Da=function(){return this.m},br.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(br=Yo.prototype).ma=8,br.G=1,br.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},br.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new _a(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=$r(s),Jr(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var i=this.l[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ic(this,r,t),Za(n=$a(this.F),"RID",e),Za(n,"CVER",22),this.D&&Za(n,"X-HTTP-Session-Id",this.D),nc(this,n),this.o&&s&&Wo(n,this.o,s),Io(this.i,r),this.Ra&&Za(n,"TYPE","init"),this.ja?(Za(n,"$req",t),Za(n,"SID","null"),r.$=!0,Ra(r,n,null)):Ra(r,n,t),this.G=2}}else 3==this.G&&(e?tc(this,e):0==this.l.length||yo(this.i)||tc(this))},br.Ga=function(){if(this.u=null,oc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ma(Rr(this.bb,this),e)}},br.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fa(10),Xo(this),oc(this))},br.ab=function(){null!=this.v&&(this.v=null,Xo(this),sc(this),fa(19))},br.jb=function(e){e?(this.h.info("Successfully pinged google.com"),fa(2)):(this.h.info("Failed to ping google.com"),fa(1))},(br=mc.prototype).xa=function(){},br.wa=function(){},br.va=function(){},br.ua=function(){},br.Oa=function(){},gc.prototype.g=function(e,t){return new vc(e,t)},Pr(vc,Us),vc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),zs(Rr(e.hb,e,t))),fa(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=fc(e,null,e.W),ec(e)},vc.prototype.close=function(){Jo(this.g)},vc.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Zo(this.g,t)}else this.v?((t={}).__data__=Vs(e),Zo(this.g,t)):Zo(this.g,e)},vc.prototype.M=function(){this.g.j=null,delete this.j,Jo(this.g),delete this.g,vc.Z.M.call(this)},Pr(yc,Ta),Pr(bc,ka),Pr(wc,mc),wc.prototype.xa=function(){Fs(this.g,"a")},wc.prototype.wa=function(e){Fs(this.g,new yc(e))},wc.prototype.va=function(e){Fs(this.g,new bc(e))},wc.prototype.ua=function(){Fs(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,vc.prototype.send=vc.prototype.u,vc.prototype.open=vc.prototype.m,vc.prototype.close=vc.prototype.close,ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,va.COMPLETE="complete",wa.EventType=Ea,Ea.OPEN="a",Ea.CLOSE="b",Ea.ERROR="c",Ea.MESSAGE="d",Us.prototype.listen=Us.prototype.N,xo.prototype.listenOnce=xo.prototype.O,xo.prototype.getLastError=xo.prototype.La,xo.prototype.getLastErrorCode=xo.prototype.Da,xo.prototype.getStatus=xo.prototype.ba,xo.prototype.getResponseJson=xo.prototype.Qa,xo.prototype.getResponseText=xo.prototype.ga,xo.prototype.send=xo.prototype.ea;var Ic=Ir.createWebChannelTransport=function(){return new gc},Ec=Ir.getStatEventTarget=function(){return ua()},Tc=Ir.ErrorCode=ga,kc=Ir.EventType=va,Sc=Ir.Event=oa,_c=Ir.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Cc=Ir.FetchXmlHttpFactory=Ao,Ac=Ir.WebChannel=wa,Nc=Ir.XhrIo=xo;const Dc="@firebase/firestore";class Rc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rc.UNAUTHENTICATED=new Rc(null),Rc.GOOGLE_CREDENTIALS=new Rc("google-credentials-uid"),Rc.FIRST_PARTY=new Rc("first-party-uid"),Rc.MOCK_USER=new Rc("mock-user");let Lc="9.6.1";const Pc=new x("@firebase/firestore");function Oc(){return Pc.logLevel}function xc(e,...t){if(Pc.logLevel<=D.DEBUG){const n=t.map(Fc);Pc.debug(`Firestore (${Lc}): ${e}`,...n)}}function Mc(e,...t){if(Pc.logLevel<=D.ERROR){const n=t.map(Fc);Pc.error(`Firestore (${Lc}): ${e}`,...n)}}function Uc(e,...t){if(Pc.logLevel<=D.WARN){const n=t.map(Fc);Pc.warn(`Firestore (${Lc}): ${e}`,...n)}}function Fc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function jc(e="Unexpected state"){const t=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+e;throw Mc(t),new Error(t)}function Vc(e,t){e||jc()}function Bc(e,t){return e}const qc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hc extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Gc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rc.UNAUTHENTICATED)))}shutdown(){}}class Wc{constructor(e){this.t=e,this.currentUser=Rc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Kc;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Kc,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},a=e=>{xc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(xc("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Kc)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(xc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Vc("string"==typeof t.accessToken),new Gc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vc(null===e||"string"==typeof e),new Rc(e)}}class $c{constructor(e,t,n){this.type="FirstParty",this.user=Rc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Yc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new $c(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Rc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xc{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&xc("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{xc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):xc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Vc("string"==typeof e.token),new Jc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Qc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Zc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}Qc.I=-1;class eu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Zc(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%e.length))}return n}}function tu(e,t){return e<t?-1:e>t?1:0}function nu(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}function iu(e){return e+"\0"}class ru{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Hc(qc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Hc(qc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hc(qc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Hc(qc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ru.fromMillis(Date.now())}static fromDate(e){return ru.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ru(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tu(this.nanoseconds,e.nanoseconds):tu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class su{constructor(e){this.timestamp=e}static fromTimestamp(e){return new su(e)}static min(){return new su(new ru(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function au(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ou(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class uu{constructor(e,t,n){void 0===t?t=0:t>e.length&&jc(),void 0===n?n=e.length-t:n>e.length-t&&jc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===uu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class lu extends uu{construct(e,t,n){return new lu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Hc(qc.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new lu(t)}static emptyPath(){return new lu([])}}const hu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class du extends uu{construct(e,t,n){return new du(e,t,n)}static isValidIdentifier(e){return hu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),du.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new du(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Hc(qc.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new Hc(qc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Hc(qc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new Hc(qc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new du(t)}static emptyPath(){return new du([])}}class fu{constructor(e){this.fields=e,e.sort(du.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class pu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new pu(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pu.EMPTY_BYTE_STRING=new pu("");const mu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gu(e){if(Vc(!!e),"string"==typeof e){let t=0;const n=mu.exec(e);if(Vc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:vu(e.seconds),nanos:vu(e.nanos)}}function vu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yu(e){return"string"==typeof e?pu.fromBase64String(e):pu.fromUint8Array(e)}function bu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wu(e){const t=e.mapValue.fields.__previous_value__;return bu(t)?wu(t):t}function Iu(e){const t=gu(e.mapValue.fields.__local_write_time__.timestampValue);return new ru(t.seconds,t.nanos)}function Eu(e){return null==e}function Tu(e){return 0===e&&1/e==-1/0}class ku{constructor(e){this.path=e}static fromPath(e){return new ku(lu.fromString(e))}static fromName(e){return new ku(lu.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===lu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return lu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ku(new lu(e.slice()))}}function Su(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bu(e)?4:10:jc()}function _u(e,t){const n=Su(e);if(n!==Su(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Iu(e).isEqual(Iu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gu(e.timestampValue),i=gu(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yu(e.bytesValue).isEqual(yu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vu(e.geoPointValue.latitude)===vu(t.geoPointValue.latitude)&&vu(e.geoPointValue.longitude)===vu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vu(e.integerValue)===vu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vu(e.doubleValue),i=vu(t.doubleValue);return n===i?Tu(n)===Tu(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return nu(e.arrayValue.values||[],t.arrayValue.values||[],_u);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(au(n)!==au(i))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===i[e]||!_u(n[e],i[e])))return!1;return!0}(e,t);default:return jc()}}function Cu(e,t){return void 0!==(e.values||[]).find((e=>_u(e,t)))}function Au(e,t){const n=Su(e),i=Su(t);if(n!==i)return tu(n,i);switch(n){case 0:return 0;case 1:return tu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vu(e.integerValue||e.doubleValue),i=vu(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Nu(e.timestampValue,t.timestampValue);case 4:return Nu(Iu(e),Iu(t));case 5:return tu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yu(e),i=yu(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let e=0;e<n.length&&e<i.length;e++){const t=tu(n[e],i[e]);if(0!==t)return t}return tu(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=tu(vu(e.latitude),vu(t.latitude));return 0!==n?n:tu(vu(e.longitude),vu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let e=0;e<n.length&&e<i.length;++e){const t=Au(n[e],i[e]);if(t)return t}return tu(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let e=0;e<i.length&&e<s.length;++e){const t=tu(i[e],s[e]);if(0!==t)return t;const a=Au(n[i[e]],r[s[e]]);if(0!==a)return a}return tu(i.length,s.length)}(e.mapValue,t.mapValue);default:throw jc()}}function Nu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tu(e,t);const n=gu(e),i=gu(t),r=tu(n.seconds,i.seconds);return 0!==r?r:tu(n.nanos,i.nanos)}function Du(e){return Ru(e)}function Ru(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gu(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?yu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ku.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=Ru(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${Ru(e.fields[r])}`;return n+"}"}(e.mapValue):jc();var t,n}function Lu(e){return!!e&&"integerValue"in e}function Pu(e){return!!e&&"arrayValue"in e}function Ou(e){return!!e&&"nullValue"in e}function xu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mu(e){return!!e&&"mapValue"in e}function Uu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ou(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Uu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Uu(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Fu{constructor(e){this.value=e}static empty(){return new Fu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=du.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=Uu(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());Mu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _u(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Mu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){ou(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Fu(Uu(this.value))}}function ju(e){const t=[];return ou(e.fields,((e,n)=>{const i=new du([e]);if(Mu(n)){const e=ju(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new fu(t)}class Vu{constructor(e,t,n,i,r){this.key=e,this.documentType=t,this.version=n,this.data=i,this.documentState=r}static newInvalidDocument(e){return new Vu(e,0,su.min(),Fu.empty(),0)}static newFoundDocument(e,t,n){return new Vu(e,1,t,n,0)}static newNoDocument(e,t){return new Vu(e,2,t,Fu.empty(),0)}static newUnknownDocument(e,t){return new Vu(e,3,t,Fu.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Vu(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bu{constructor(e,t=null,n=[],i=[],r=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=a,this.R=null}}function qu(e,t=null,n=[],i=[],r=null,s=null,a=null){return new Bu(e,t,n,i,r,s,a)}function Hu(e){const t=Bc(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Du(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Eu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=nl(t.startAt)),t.endAt&&(e+="|ub:",e+=nl(t.endAt)),t.R=e}return t.R}function Ku(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(n=e.filters[r],i=t.filters[r],n.op!==i.op||!n.field.isEqual(i.field)||!_u(n.value,i.value))return!1;var n,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!al(e.startAt,t.startAt)&&al(e.endAt,t.endAt)}function Gu(e){return ku.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class zu extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Wu(e,t,n):"array-contains"===t?new Xu(e,n):"in"===t?new Qu(e,n):"not-in"===t?new Zu(e,n):"array-contains-any"===t?new el(e,n):new zu(e,t,n)}static P(e,t,n){return"in"===t?new $u(e,n):new Yu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Au(t,this.value)):null!==t&&Su(this.value)===Su(t)&&this.v(Au(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jc()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wu extends zu{constructor(e,t,n){super(e,t,n),this.key=ku.fromName(n.referenceValue)}matches(e){const t=ku.comparator(e.key,this.key);return this.v(t)}}class $u extends zu{constructor(e,t){super(e,"in",t),this.keys=Ju(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Yu extends zu{constructor(e,t){super(e,"not-in",t),this.keys=Ju(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ju(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ku.fromName(e.referenceValue)))}class Xu extends zu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pu(t)&&Cu(t.arrayValue,this.value)}}class Qu extends zu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cu(this.value.arrayValue,t)}}class Zu extends zu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cu(this.value.arrayValue,t)}}class el extends zu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cu(this.value.arrayValue,e)))}}class tl{constructor(e,t){this.position=e,this.before=t}}function nl(e){return`${e.before?"b":"a"}:${e.position.map((e=>Du(e))).join(",")}`}class il{constructor(e,t="asc"){this.field=e,this.dir=t}}function rl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function sl(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(i=s.field.isKeyField()?ku.comparator(ku.fromName(a.referenceValue),n.key):Au(a,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return e.before?i<=0:i<0}function al(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_u(e.position[n],t.position[n]))return!1;return!0}class ol{constructor(e,t=null,n=[],i=[],r=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=a,this.endAt=o,this.S=null,this.D=null,this.startAt,this.endAt}}function cl(e){return new ol(e)}function ul(e){return!Eu(e.limit)&&"F"===e.limitType}function ll(e){return!Eu(e.limit)&&"L"===e.limitType}function hl(e){const t=Bc(e);if(null===t.S){t.S=[];const e=function(e){for(const t of e.filters)if(t.V())return t.field;return null}(t),n=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new il(e)),t.S.push(new il(du.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new il(du.keyField(),e))}}}return t.S}function dl(e){const t=Bc(e);if(!t.D)if("F"===t.limitType)t.D=qu(t.path,t.collectionGroup,hl(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of hl(t)){const t="desc"===n.dir?"asc":"desc";e.push(new il(n.field,t))}const n=t.endAt?new tl(t.endAt.position,!t.endAt.before):null,i=t.startAt?new tl(t.startAt.position,!t.startAt.before):null;t.D=qu(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t.D}function fl(e,t){return Ku(dl(e),dl(t))&&e.limitType===t.limitType}function pl(e){return`${Hu(dl(e))}|lt:${e.limitType}`}function ml(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Du(t.value)}`;var t})).join(", ")}]`),Eu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+nl(e.startAt)),e.endAt&&(t+=", endAt: "+nl(e.endAt)),`Target(${t})`}(dl(e))}; limitType=${e.limitType})`}function gl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ku.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!sl(e.startAt,hl(e),t)||e.endAt&&sl(e.endAt,hl(e),t))}(e,t)}function vl(e){return(t,n)=>{let i=!1;for(const r of hl(e)){const e=yl(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function yl(e,t,n){const i=e.field.isKeyField()?ku.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?Au(i,r):jc()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return jc()}}function bl(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(t)?"-0":t}}function wl(e){return{integerValue:""+e}}function Il(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Tu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?wl(t):bl(e,t)}class El{constructor(){this._=void 0}}function Tl(e,t,n){return e instanceof _l?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cl?Al(e,t):e instanceof Nl?Dl(e,t):function(e,t){const n=Sl(e,t),i=Ll(n)+Ll(e.N);return Lu(n)&&Lu(e.N)?wl(i):bl(e.k,i)}(e,t)}function kl(e,t,n){return e instanceof Cl?Al(e,t):e instanceof Nl?Dl(e,t):n}function Sl(e,t){return e instanceof Rl?Lu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class _l extends El{}class Cl extends El{constructor(e){super(),this.elements=e}}function Al(e,t){const n=Pl(t);for(const t of e.elements)n.some((e=>_u(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Nl extends El{constructor(e){super(),this.elements=e}}function Dl(e,t){let n=Pl(t);for(const t of e.elements)n=n.filter((e=>!_u(e,t)));return{arrayValue:{values:n}}}class Rl extends El{constructor(e,t){super(),this.k=e,this.N=t}}function Ll(e){return vu(e.integerValue||e.doubleValue)}function Pl(e){return Pu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ol{constructor(e,t){this.field=e,this.transform=t}}class xl{constructor(e,t){this.version=e,this.transformResults=t}}class Ml{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ml}static exists(e){return new Ml(void 0,e)}static updateTime(e){return new Ml(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ul(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Fl{}function jl(e,t,n){e instanceof Kl?function(e,t,n){const i=e.value.clone(),r=Wl(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Gl?function(e,t,n){if(!Ul(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Wl(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(zl(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vl(e,t,n){e instanceof Kl?function(e,t,n){if(!Ul(e.precondition,t))return;const i=e.value.clone(),r=$l(e.fieldTransforms,n,t);i.setAll(r),t.convertToFoundDocument(Hl(t),i).setHasLocalMutations()}(e,t,n):e instanceof Gl?function(e,t,n){if(!Ul(e.precondition,t))return;const i=$l(e.fieldTransforms,n,t),r=t.data;r.setAll(zl(e)),r.setAll(i),t.convertToFoundDocument(Hl(t),r).setHasLocalMutations()}(e,t,n):function(e,t){Ul(e.precondition,t)&&t.convertToNoDocument(su.min())}(e,t)}function Bl(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=Sl(i.transform,e||null);null!=r&&(null==n&&(n=Fu.empty()),n.set(i.field,r))}return n||null}function ql(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cl&&t instanceof Cl||e instanceof Nl&&t instanceof Nl?nu(e.elements,t.elements,_u):e instanceof Rl&&t instanceof Rl?_u(e.N,t.N):e instanceof _l&&t instanceof _l}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Hl(e){return e.isFoundDocument()?e.version:su.min()}class Kl extends Fl{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}}class Gl extends Fl{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}}function zl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Wl(e,t,n){const i=new Map;Vc(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,o=t.data.field(s.field);i.set(s.field,kl(a,o,n[r]))}return i}function $l(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,Tl(e,s,t))}return i}class Yl extends Fl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Jl extends Fl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Xl{constructor(e){this.count=e}}var Ql,Zl;function eh(e){if(void 0===e)return Mc("GRPC error has no .code"),qc.UNKNOWN;switch(e){case Ql.OK:return qc.OK;case Ql.CANCELLED:return qc.CANCELLED;case Ql.UNKNOWN:return qc.UNKNOWN;case Ql.DEADLINE_EXCEEDED:return qc.DEADLINE_EXCEEDED;case Ql.RESOURCE_EXHAUSTED:return qc.RESOURCE_EXHAUSTED;case Ql.INTERNAL:return qc.INTERNAL;case Ql.UNAVAILABLE:return qc.UNAVAILABLE;case Ql.UNAUTHENTICATED:return qc.UNAUTHENTICATED;case Ql.INVALID_ARGUMENT:return qc.INVALID_ARGUMENT;case Ql.NOT_FOUND:return qc.NOT_FOUND;case Ql.ALREADY_EXISTS:return qc.ALREADY_EXISTS;case Ql.PERMISSION_DENIED:return qc.PERMISSION_DENIED;case Ql.FAILED_PRECONDITION:return qc.FAILED_PRECONDITION;case Ql.ABORTED:return qc.ABORTED;case Ql.OUT_OF_RANGE:return qc.OUT_OF_RANGE;case Ql.UNIMPLEMENTED:return qc.UNIMPLEMENTED;case Ql.DATA_LOSS:return qc.DATA_LOSS;default:return jc()}}(Zl=Ql||(Ql={}))[Zl.OK=0]="OK",Zl[Zl.CANCELLED=1]="CANCELLED",Zl[Zl.UNKNOWN=2]="UNKNOWN",Zl[Zl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zl[Zl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zl[Zl.NOT_FOUND=5]="NOT_FOUND",Zl[Zl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zl[Zl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zl[Zl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zl[Zl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zl[Zl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zl[Zl.ABORTED=10]="ABORTED",Zl[Zl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zl[Zl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zl[Zl.INTERNAL=13]="INTERNAL",Zl[Zl.UNAVAILABLE=14]="UNAVAILABLE",Zl[Zl.DATA_LOSS=15]="DATA_LOSS";class th{constructor(e,t){this.comparator=e,this.root=t||ih.EMPTY}insert(e,t){return new th(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ih.BLACK,null,null))}remove(e){return new th(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ih.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ih{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:ih.RED,this.left=null!=i?i:ih.EMPTY,this.right=null!=r?r:ih.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new ih(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ih.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ih.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ih.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ih.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jc();if(this.right.isRed())throw jc();const e=this.left.check();if(e!==this.right.check())throw jc();return e+(this.isRed()?0:1)}}ih.EMPTY=null,ih.RED=!0,ih.BLACK=!1,ih.EMPTY=new class{constructor(){this.size=0}get key(){throw jc()}get value(){throw jc()}get color(){throw jc()}get left(){throw jc()}get right(){throw jc()}copy(e,t,n,i,r){return this}insert(e,t,n){return new ih(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rh{constructor(e){this.comparator=e,this.data=new th(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sh(this.data.getIterator())}getIteratorFrom(e){return new sh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof rh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new rh(this.comparator);return t.data=e,t}}class sh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ah=new th(ku.comparator);function oh(){return ah}const ch=new th(ku.comparator);function uh(){return ch}const lh=new th(ku.comparator);const hh=new rh(ku.comparator);function dh(...e){let t=hh;for(const n of e)t=t.add(n);return t}const fh=new rh(tu);function ph(){return fh}class mh{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,t)),new mh(su.min(),n,ph(),oh(),dh())}}class gh{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t){return new gh(pu.EMPTY_BYTE_STRING,t,dh(),dh(),dh())}}class vh{constructor(e,t,n,i){this.$=e,this.removedTargetIds=t,this.key=n,this.F=i}}class yh{constructor(e,t){this.targetId=e,this.O=t}}class bh{constructor(e,t,n=pu.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class wh{constructor(){this.M=0,this.L=Th(),this.B=pu.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=dh(),t=dh(),n=dh();return this.L.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:jc()}})),new gh(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=Th()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Ih{constructor(e){this.et=e,this.nt=new Map,this.st=oh(),this.it=Eh(),this.rt=new rh(tu)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:jc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.O.count,i=this.wt(t);if(i){const e=i.target;if(Gu(e))if(0===n){const n=new ku(e.path);this.ct(t,n,Vu.newNoDocument(n,su.min()))}else Vc(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,i)=>{const r=this.wt(i);if(r){if(n.current&&Gu(r.target)){const t=new ku(r.target.path);null!==this.st.get(t)||this.yt(i,t)||this.ct(i,t,Vu.newNoDocument(t,e))}n.j&&(t.set(i,n.G()),n.H())}}));let n=dh();this.it.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))}));const i=new mh(e,t,this.rt,this.st,n);return this.st=oh(),this.it=Eh(),this.rt=new rh(tu),i}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new wh,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new rh(tu),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||xc("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new wh),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Eh(){return new th(ku.comparator)}function Th(){return new th(ku.comparator)}const kh={asc:"ASCENDING",desc:"DESCENDING"},Sh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _h{constructor(e,t){this.databaseId=e,this.C=t}}function Ch(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ah(e,t){return e.C?t.toBase64():t.toUint8Array()}function Nh(e,t){return Ch(e,t.toTimestamp())}function Dh(e){return Vc(!!e),su.fromTimestamp(function(e){const t=gu(e);return new ru(t.seconds,t.nanos)}(e))}function Rh(e,t){return function(e){return new lu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Lh(e){const t=lu.fromString(e);return Vc(td(t)),t}function Ph(e,t){return Rh(e.databaseId,t.path)}function Oh(e,t){const n=Lh(t);if(n.get(1)!==e.databaseId.projectId)throw new Hc(qc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hc(qc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ku(Fh(n))}function xh(e,t){return Rh(e.databaseId,t)}function Mh(e){const t=Lh(e);return 4===t.length?lu.emptyPath():Fh(t)}function Uh(e){return new lu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fh(e){return Vc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jh(e,t,n){return{name:Ph(e,t),fields:n.value.mapValue.fields}}function Vh(e,t){let n;if(t instanceof Kl)n={update:jh(e,t.key,t.value)};else if(t instanceof Yl)n={delete:Ph(e,t.key)};else if(t instanceof Gl)n={update:jh(e,t.key,t.data),updateMask:ed(t.fieldMask)};else{if(!(t instanceof Jl))return jc();n={verify:Ph(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof _l)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rl)return{fieldPath:t.field.canonicalString(),increment:n.N};throw jc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jc()}(e,t.precondition)),n}function Bh(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ml.updateTime(Dh(e.updateTime)):void 0!==e.exists?Ml.exists(e.exists):Ml.none()}(t.currentDocument):Ml.none(),i=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Vc("REQUEST_TIME"===t.setToServerValue),n=new _l;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Cl(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Nl(e)}else"increment"in t?n=new Rl(e,t.increment):jc();const i=du.fromServerFormat(t.fieldPath);return new Ol(i,n)}(e,t))):[];if(t.update){t.update.name;const r=Oh(e,t.update.name),s=new Fu({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new fu(t.map((e=>du.fromServerFormat(e))))}(t.updateMask);return new Gl(r,s,e,n,i)}return new Kl(r,s,n,i)}if(t.delete){const i=Oh(e,t.delete);return new Yl(i,n)}if(t.verify){const i=Oh(e,t.verify);return new Jl(i,n)}return jc()}function qh(e,t){return{documents:[xh(e,t.path)]}}function Hh(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=xh(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xh(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(xu(e.value))return{unaryFilter:{field:Jh(e.field),op:"IS_NAN"}};if(Ou(e.value))return{unaryFilter:{field:Jh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xu(e.value))return{unaryFilter:{field:Jh(e.field),op:"IS_NOT_NAN"}};if(Ou(e.value))return{unaryFilter:{field:Jh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jh(e.field),op:Yh(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Jh(e.field),direction:$h(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(e,t){return e.C||Eu(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=zh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=zh(t.endAt)),n}function Kh(e){let t=Mh(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Vc(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Gh(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new il(Xh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Eu(t)?null:t}(n.limit));let c=null;n.startAt&&(c=Wh(n.startAt));let u=null;return n.endAt&&(u=Wh(n.endAt)),function(e,t,n,i,r,s,a,o){return new ol(e,t,n,i,r,s,a,o)}(t,r,a,s,o,"F",c,u)}function Gh(e){return e?void 0!==e.unaryFilter?[Zh(e)]:void 0!==e.fieldFilter?[Qh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Gh(e))).reduce(((e,t)=>e.concat(t))):jc():[]}function zh(e){return{before:e.before,values:e.position}}function Wh(e){const t=!!e.before,n=e.values||[];return new tl(n,t)}function $h(e){return kh[e]}function Yh(e){return Sh[e]}function Jh(e){return{fieldPath:e.canonicalString()}}function Xh(e){return du.fromServerFormat(e.fieldPath)}function Qh(e){return zu.create(Xh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jc()}}(e.fieldFilter.op),e.fieldFilter.value)}function Zh(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xh(e.unaryFilter.field);return zu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xh(e.unaryFilter.field);return zu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xh(e.unaryFilter.field);return zu.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Xh(e.unaryFilter.field);return zu.create(r,"!=",{nullValue:"NULL_VALUE"});default:return jc()}}function ed(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function td(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function nd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rd(t)),t=id(e.get(n),t);return rd(t)}function id(e,t){let n=t;const i=e.length;for(let t=0;t<i;t++){const i=e.charAt(t);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function rd(e){return e+""}function sd(e){const t=e.length;if(Vc(t>=2),2===t)return Vc(""===e.charAt(0)&&""===e.charAt(1)),lu.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&jc(),e.charAt(t+1)){case"":const n=e.substring(s,t);let a;0===r.length?a=n:(r+=n,a=r,r=""),i.push(a);break;case"":r+=e.substring(s,t),r+="\0";break;case"":r+=e.substring(s,t+1);break;default:jc()}s=t+2}return new lu(i)}class ad{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class od{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}od.store="owner",od.key="owner";class cd{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}cd.store="mutationQueues",cd.keyPath="userId";class ud{constructor(e,t,n,i,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}}ud.store="mutations",ud.keyPath="batchId",ud.userMutationsIndex="userMutationsIndex",ud.userMutationsKeyPath=["userId","batchId"];class ld{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,nd(t)]}static key(e,t,n){return[e,nd(t),n]}}ld.store="documentMutations",ld.PLACEHOLDER=new ld;class hd{constructor(e,t){this.path=e,this.readTime=t}}class dd{constructor(e,t){this.path=e,this.version=t}}class fd{constructor(e,t,n,i,r,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s}}fd.store="remoteDocuments",fd.readTimeIndex="readTimeIndex",fd.readTimeIndexPath="readTime",fd.collectionReadTimeIndex="collectionReadTimeIndex",fd.collectionReadTimeIndexPath=["parentPath","readTime"];class pd{constructor(e){this.byteSize=e}}pd.store="remoteDocumentGlobal",pd.key="remoteDocumentGlobalKey";class md{constructor(e,t,n,i,r,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=a}}md.store="targets",md.keyPath="targetId",md.queryTargetsIndexName="queryTargetsIndex",md.queryTargetsKeyPath=["canonicalId","targetId"];class gd{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}gd.store="targetDocuments",gd.keyPath=["targetId","path"],gd.documentTargetsIndex="documentTargetsIndex",gd.documentTargetsKeyPath=["path","targetId"];class vd{constructor(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i}}vd.key="targetGlobalKey",vd.store="targetGlobal";class yd{constructor(e,t){this.collectionId=e,this.parent=t}}yd.store="collectionParents",yd.keyPath=["collectionId","parent"];class bd{constructor(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i}}bd.store="clientMetadata",bd.keyPath="clientId";class wd{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}wd.store="bundles",wd.keyPath="bundleId";class Id{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Id.store="namedQueries",Id.keyPath="name";const Ed=[cd.store,ud.store,ld.store,fd.store,md.store,od.store,vd.store,gd.store,bd.store,pd.store,yd.store,wd.store,Id.store],Td="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Sd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Sd(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Sd?t:Sd.resolve(t)}catch(e){return Sd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Sd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Sd.reject(t)}static resolve(e){return new Sd(((t,n)=>{t(e)}))}static reject(e){return new Sd(((t,n)=>{n(e)}))}static waitFor(e){return new Sd(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=Sd.resolve(!1);for(const n of e)t=t.next((e=>e?Sd.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}}class _d{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Kc,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Nd(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=Od(t.target.error);this.It.reject(new Nd(e,n))}}static open(e,t,n,i){try{return new _d(t,e.transaction(i,n))}catch(e){throw new Nd(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(xc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Rd(t)}}class Cd{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===Cd.Pt(s())&&Mc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xc("SimpleDb","Removing database:",e),Ld(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!h())return!1;if(Cd.vt())return!0;const e=s(),t=Cd.Pt(e),n=0<t&&t<10,i=Cd.Vt(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(xc("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new Nd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new Hc(qc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new Hc(qc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new Nd(e,i))},i.onupgradeneeded=e=>{xc("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,i.transaction,e.oldVersion,this.version).next((()=>{xc("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Ct(e);const t=_d.open(this.db,e,r?"readonly":"readwrite",n),s=i(t).catch((e=>(t.abort(e),Sd.reject(e)))).toPromise();return s.catch((()=>{})),await t.At,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(xc("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ad{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Ld(this.$t.delete())}}class Nd extends Hc{constructor(e,t){super(qc.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dd(e){return"IndexedDbTransactionError"===e.name}class Rd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(xc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(xc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ld(n)}add(e){return xc("SimpleDb","ADD",this.store.name,e,e),Ld(this.store.add(e))}get(e){return Ld(this.store.get(e)).next((t=>(void 0===t&&(t=null),xc("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return xc("SimpleDb","DELETE",this.store.name,e),Ld(this.store.delete(e))}count(){return xc("SimpleDb","COUNT",this.store.name),Ld(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),i=[];return this.Ut(n,((e,t)=>{i.push(t)})).next((()=>i))}qt(e,t){xc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const i=this.cursor(n);return this.Ut(i,((e,t,n)=>n.delete()))}jt(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new Sd(((n,i)=>{t.onerror=e=>{const t=Od(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next((e=>{e?i.continue():n()})):n()}}))}Ut(e,t){const n=[];return new Sd(((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const s=new Ad(r),a=t(r.primaryKey,r.value,s);if(a instanceof Sd){const e=a.catch((e=>(s.done(),Sd.reject(e))));n.push(e)}s.isDone?i():null===s.Mt?r.continue():r.continue(s.Mt)}})).next((()=>Sd.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ld(e){return new Sd(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Od(e.target.error);n(t)}}))}let Pd=!1;function Od(e){const t=Cd.Pt(s());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Hc("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Pd||(Pd=!0,setTimeout((()=>{throw e}),0)),e}}return e}class xd extends kd{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Md(e,t){const n=Bc(e);return Cd.Dt(n.Wt,t)}class Ud{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const i=this.mutations[t];i.key.isEqual(e.key)&&jl(i,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Vl(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Vl(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(su.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),dh())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,((e,t)=>ql(e,t)))&&nu(this.baseMutations,e.baseMutations,((e,t)=>ql(e,t)))}}class Fd{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Vc(e.mutations.length===n.length);let i=lh;const r=e.mutations;for(let e=0;e<r.length;e++)i=i.insert(r[e].key,n[e].version);return new Fd(e,t,n,i)}}class jd{constructor(e,t,n,i,r=su.min(),s=su.min(),a=pu.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new jd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new jd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Vd{constructor(e){this.Gt=e}}function Bd(e,t){if(t.document)return function(e,t,n){const i=Oh(e,t.name),r=Dh(t.updateTime),s=new Fu({mapValue:{fields:t.fields}}),a=Vu.newFoundDocument(i,r,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=ku.fromSegments(t.noDocument.path),n=Gd(t.noDocument.readTime),i=Vu.newNoDocument(e,n);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){const e=ku.fromSegments(t.unknownDocument.path),n=Gd(t.unknownDocument.version);return Vu.newUnknownDocument(e,n)}return jc()}function qd(e,t,n){const i=Hd(n),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Ph(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ch(e,t.version.toTimestamp())}}(e.Gt,t),s=t.hasCommittedMutations;return new fd(null,null,n,s,i,r)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Kd(t.version),s=t.hasCommittedMutations;return new fd(null,new hd(e,n),null,s,i,r)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Kd(t.version);return new fd(new dd(e,n),null,null,!0,i,r)}return jc()}function Hd(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Kd(e){const t=e.toTimestamp();return new ad(t.seconds,t.nanoseconds)}function Gd(e){const t=new ru(e.seconds,e.nanoseconds);return su.fromTimestamp(t)}function zd(e,t){const n=(t.baseMutations||[]).map((t=>Bh(e.Gt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const i=t.mutations[e+1];n.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const i=t.mutations.map((t=>Bh(e.Gt,t))),r=ru.fromMillis(t.localWriteTimeMs);return new Ud(t.batchId,r,n,i)}function Wd(e){const t=Gd(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Gd(e.lastLimboFreeSnapshotVersion):su.min();let i;var r;return void 0!==e.query.documents?(Vc(1===(r=e.query).documents.length),i=dl(cl(Mh(r.documents[0])))):i=function(e){return dl(Kh(e))}(e.query),new jd(i,e.targetId,0,e.lastListenSequenceNumber,t,n,pu.fromBase64String(e.resumeToken))}function $d(e,t){const n=Kd(t.snapshotVersion),i=Kd(t.lastLimboFreeSnapshotVersion);let r;r=Gu(t.target)?qh(e.Gt,t.target):Hh(e.Gt,t.target);const s=t.resumeToken.toBase64();return new md(t.targetId,Hu(t.target),n,s,t.sequenceNumber,i,r)}function Yd(e){const t=Kh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new ol(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(t,t.limit,"L"):t}class Jd{getBundleMetadata(e,t){return Xd(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Gd(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Xd(e).put({bundleId:(n=t).id,createTime:Kd(Dh(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Qd(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Yd(t.bundledQuery),readTime:Gd(t.readTime)};var t}))}saveNamedQuery(e,t){return Qd(e).put(function(e){return{name:e.name,readTime:Kd(Dh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Xd(e){return Md(e,wd.store)}function Qd(e){return Md(e,Id.store)}class Zd{constructor(){this.zt=new ef}addToCollectionParentIndex(e,t){return this.zt.add(t),Sd.resolve()}getCollectionParents(e,t){return Sd.resolve(this.zt.getEntries(t))}}class ef{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new rh(lu.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new rh(lu.comparator)).toArray()}}class tf{constructor(){this.Ht=new ef}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.Ht.add(t)}));const r={collectionId:n,parent:nd(i)};return nf(e).put(r)}return Sd.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[iu(t),""],!1,!0);return nf(e).Bt(i).next((e=>{for(const i of e){if(i.collectionId!==t)break;n.push(sd(i.parent))}return n}))}}function nf(e){return Md(e,yd.store)}const rf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new sf(e,sf.DEFAULT_COLLECTION_PERCENTILE,sf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function af(e,t,n){const i=e.store(ud.store),r=e.store(ld.store),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const c=i.jt({range:a},((e,t,n)=>(o++,n.delete())));s.push(c.next((()=>{Vc(1===o)})));const u=[];for(const e of n.mutations){const i=ld.key(t,e.key.path,n.batchId);s.push(r.delete(i)),u.push(e.key)}return Sd.waitFor(s).next((()=>u))}function of(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw jc();t=e.noDocument}return JSON.stringify(t).length}sf.DEFAULT_COLLECTION_PERCENTILE=10,sf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sf.DEFAULT=new sf(41943040,sf.DEFAULT_COLLECTION_PERCENTILE,sf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sf.DISABLED=new sf(-1,0,0);class cf{constructor(e,t,n,i){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,n,i){Vc(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new cf(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lf(e).jt({index:ud.userMutationsIndex,range:n},((e,n,i)=>{t=!1,i.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const r=hf(e),s=lf(e);return s.add({}).next((a=>{Vc("number"==typeof a);const o=new Ud(a,t,n,i),c=function(e,t,n){const i=n.baseMutations.map((t=>Vh(e.Gt,t))),r=n.mutations.map((t=>Vh(e.Gt,t)));return new ud(t,n.batchId,n.localWriteTime.toMillis(),i,r)}(this.k,this.userId,o),u=[];let l=new rh(((e,t)=>tu(e.canonicalString(),t.canonicalString())));for(const e of i){const t=ld.key(this.userId,e.key.path,a);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(r.put(t,ld.PLACEHOLDER))}return l.forEach((t=>{u.push(this.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Yt[a]=o.keys()})),Sd.waitFor(u).next((()=>o))}))}lookupMutationBatch(e,t){return lf(e).get(t).next((e=>e?(Vc(e.userId===this.userId),zd(this.k,e)):null))}Zt(e,t){return this.Yt[t]?Sd.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return lf(e).jt({index:ud.userMutationsIndex,range:i},((e,t,i)=>{t.userId===this.userId&&(Vc(t.batchId>=n),r=zd(this.k,t)),i.done()})).next((()=>r))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return lf(e).jt({index:ud.userMutationsIndex,range:t,reverse:!0},((e,t,i)=>{n=t.batchId,i.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lf(e).Bt(ud.userMutationsIndex,t).next((e=>e.map((e=>zd(this.k,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ld.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return hf(e).jt({range:i},((n,i,s)=>{const[a,o,c]=n,u=sd(o);if(a===this.userId&&t.path.isEqual(u))return lf(e).get(c).next((e=>{if(!e)throw jc();Vc(e.userId===this.userId),r.push(zd(this.k,e))}));s.done()})).next((()=>r))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new rh(tu);const i=[];return t.forEach((t=>{const r=ld.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(r),a=hf(e).jt({range:s},((e,i,r)=>{const[s,a,o]=e,c=sd(a);s===this.userId&&t.path.isEqual(c)?n=n.add(o):r.done()}));i.push(a)})),Sd.waitFor(i).next((()=>this.te(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=ld.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(r);let a=new rh(tu);return hf(e).jt({range:s},((e,t,r)=>{const[s,o,c]=e,u=sd(o);s===this.userId&&n.isPrefixOf(u)?u.length===i&&(a=a.add(c)):r.done()})).next((()=>this.te(e,a)))}te(e,t){const n=[],i=[];return t.forEach((t=>{i.push(lf(e).get(t).next((e=>{if(null===e)throw jc();Vc(e.userId===this.userId),n.push(zd(this.k,e))})))})),Sd.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return af(e.Wt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ee(t.batchId)})),Sd.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Sd.resolve();const n=IDBKeyRange.lowerBound(ld.prefixForUser(this.userId)),i=[];return hf(e).jt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=sd(e[1]);i.push(t)}else n.done()})).next((()=>{Vc(0===i.length)}))}))}containsKey(e,t){return uf(e,this.userId,t)}ne(e){return df(e).get(this.userId).next((e=>e||new cd(this.userId,-1,"")))}}function uf(e,t,n){const i=ld.prefixForPath(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return hf(e).jt({range:s,Kt:!0},((e,n,i)=>{const[s,o,c]=e;s===t&&o===r&&(a=!0),i.done()})).next((()=>a))}function lf(e){return Md(e,ud.store)}function hf(e){return Md(e,ld.store)}function df(e){return Md(e,cd.store)}class ff{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ff(0)}static re(){return new ff(-1)}}class pf{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next((t=>{const n=new ff(t.highestTargetId);return t.highestTargetId=n.next(),this.ae(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.oe(e).next((e=>su.fromTimestamp(new ru(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.oe(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.oe(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ae(e,i))))}addTargetData(e,t){return this.ce(e,t).next((()=>this.oe(e).next((n=>(n.targetCount+=1,this.ue(t,n),this.ae(e,n))))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>mf(e).delete(t.targetId))).next((()=>this.oe(e))).next((t=>(Vc(t.targetCount>0),t.targetCount-=1,this.ae(e,t))))}removeTargets(e,t,n){let i=0;const r=[];return mf(e).jt(((s,a)=>{const o=Wd(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(i++,r.push(this.removeTargetData(e,o)))})).next((()=>Sd.waitFor(r))).next((()=>i))}forEachTarget(e,t){return mf(e).jt(((e,n)=>{const i=Wd(n);t(i)}))}oe(e){return gf(e).get(vd.key).next((e=>(Vc(null!==e),e)))}ae(e,t){return gf(e).put(vd.key,t)}ce(e,t){return mf(e).put($d(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Hu(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return mf(e).jt({range:i,index:md.queryTargetsIndexName},((e,n,i)=>{const s=Wd(n);Ku(t,s.target)&&(r=s,i.done())})).next((()=>r))}addMatchingKeys(e,t,n){const i=[],r=vf(e);return t.forEach((t=>{const s=nd(t.path);i.push(r.put(new gd(n,s))),i.push(this.referenceDelegate.addReference(e,n,t))})),Sd.waitFor(i)}removeMatchingKeys(e,t,n){const i=vf(e);return Sd.forEach(t,(t=>{const r=nd(t.path);return Sd.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=vf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=vf(e);let r=dh();return i.jt({range:n,Kt:!0},((e,t,n)=>{const i=sd(e[1]),s=new ku(i);r=r.add(s)})).next((()=>r))}containsKey(e,t){const n=nd(t.path),i=IDBKeyRange.bound([n],[iu(n)],!1,!0);let r=0;return vf(e).jt({index:gd.documentTargetsIndex,Kt:!0,range:i},(([e,t],n,i)=>{0!==e&&(r++,i.done())})).next((()=>r>0))}Et(e,t){return mf(e).get(t).next((e=>e?Wd(e):null))}}function mf(e){return Md(e,md.store)}function gf(e){return Md(e,vd.store)}function vf(e){return Md(e,gd.store)}async function yf(e){if(e.code!==qc.FAILED_PRECONDITION||e.message!==Td)throw e;xc("LocalStore","Unexpectedly lost primary lease")}function bf([e,t],[n,i]){const r=tu(e,n);return 0===r?tu(t,i):r}class wf{constructor(e){this.he=e,this.buffer=new rh(bf),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();bf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class If{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;xc("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Dd(e)?xc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await yf(e)}await this.me(e)}))}}class Ef{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Sd.resolve(Qc.I);const n=new wf(t);return this.ge.forEachTarget(e,(e=>n.de(e.sequenceNumber))).next((()=>this.ge.pe(e,(e=>n.de(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(xc("LruGarbageCollector","Garbage collection skipped; disabled"),Sd.resolve(rf)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(xc("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rf):this.Te(e,t)))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,i,r,s,a,o,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(xc("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Oc()<=D.DEBUG&&xc("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${i} in `+(a-s)+"ms\n"+`\tRemoved ${r} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-o)+"ms\n"+`Total Duration: ${c-u}ms`),Sd.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}class Tf{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ef(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.pe(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,((e,n)=>t(n)))}addReference(e,t,n){return kf(e,n)}removeReference(e,t,n){return kf(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return kf(e,t)}Ae(e,t){return function(e,t){let n=!1;return df(e).Qt((i=>uf(e,i,t).next((e=>(e&&(n=!0),Sd.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Ie(e,((s,a)=>{if(a<=t){const t=this.Ae(e,s).next((t=>{if(!t)return r++,n.getEntry(e,s).next((()=>(n.removeEntry(s),vf(e).delete([0,nd(s.path)]))))}));i.push(t)}})).next((()=>Sd.waitFor(i))).next((()=>n.apply(e))).next((()=>r))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return kf(e,t)}Ie(e,t){const n=vf(e);let i,r=Qc.I;return n.jt({index:gd.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:a})=>{0===e?(r!==Qc.I&&t(new ku(sd(i)),r),r=a,i=s):r=Qc.I})).next((()=>{r!==Qc.I&&t(new ku(sd(i)),r)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kf(e,t){return vf(e).put(function(e,t){return new gd(0,nd(e.path),t)}(t,e.currentSequenceNumber))}class Sf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,i]of n)if(this.equalsFn(t,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i){for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return void(i[n]=[e,t]);i.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),!0;return!1}forEach(e){ou(this.inner,((t,n)=>{for(const[t,i]of n)e(t,i)}))}isEmpty(){return cu(this.inner)}}class _f{constructor(){this.changes=new Sf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:su.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Vu.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Sd.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cf{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return Df(e).put(Rf(t),n)}removeEntry(e,t){const n=Df(e),i=Rf(t);return n.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Re(e,n))))}getEntry(e,t){return Df(e).get(Rf(t)).next((e=>this.Pe(t,e)))}be(e,t){return Df(e).get(Rf(t)).next((e=>({document:this.Pe(t,e),size:of(e)})))}getEntries(e,t){let n=oh();return this.ve(e,t,((e,t)=>{const i=this.Pe(e,t);n=n.insert(e,i)})).next((()=>n))}Ve(e,t){let n=oh(),i=new th(ku.comparator);return this.ve(e,t,((e,t)=>{const r=this.Pe(e,t);n=n.insert(e,r),i=i.insert(e,of(t))})).next((()=>({documents:n,Se:i})))}ve(e,t,n){if(t.isEmpty())return Sd.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),r=t.getIterator();let s=r.getNext();return Df(e).jt({range:i},((e,t,i)=>{const a=ku.fromSegments(e);for(;s&&ku.comparator(s,a)<0;)n(s,null),s=r.getNext();s&&s.isEqual(a)&&(n(s,t),s=r.hasNext()?r.getNext():null),s?i.Lt(s.path.toArray()):i.done()})).next((()=>{for(;s;)n(s,null),s=r.hasNext()?r.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let i=oh();const r=t.path.length+1,s={};if(n.isEqual(su.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),i=Hd(n);s.range=IDBKeyRange.lowerBound([e,i],!0),s.index=fd.collectionReadTimeIndex}return Df(e).jt(s,((e,n,s)=>{if(e.length!==r)return;const a=Bd(this.k,n);t.path.isPrefixOf(a.key.path)?gl(t,a)&&(i=i.insert(a.key,a)):s.done()})).next((()=>i))}newChangeBuffer(e){return new Af(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Nf(e).get(pd.key).next((e=>(Vc(!!e),e)))}Re(e,t){return Nf(e).put(pd.key,t)}Pe(e,t){if(t){const e=Bd(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(su.min()))return e}return Vu.newInvalidDocument(e)}}class Af extends _f{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Sf((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,i=new rh(((e,t)=>tu(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((r,s)=>{const a=this.Ce.get(r);if(s.document.isValidDocument()){const o=qd(this.De.k,s.document,this.getReadTime(r));i=i.add(r.path.popLast());const c=of(o);n+=c-a,t.push(this.De.addEntry(e,r,o))}else if(n-=a,this.trackRemovals){const n=qd(this.De.k,Vu.newNoDocument(r,su.min()),this.getReadTime(r));t.push(this.De.addEntry(e,r,n))}else t.push(this.De.removeEntry(e,r))})),i.forEach((n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))})),t.push(this.De.updateMetadata(e,n)),Sd.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next((e=>(this.Ce.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.De.Ve(e,t).next((({documents:e,Se:t})=>(t.forEach(((e,t)=>{this.Ce.set(e,t)})),e)))}}function Nf(e){return Md(e,pd.store)}function Df(e){return Md(e,fd.store)}function Rf(e){return e.path.toArray()}class Lf{constructor(e){this.k=e}Nt(e,t,n,i){Vc(n<i&&n>=0&&i<=11);const r=new _d("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore(od.store)}(e),function(e){e.createObjectStore(cd.store,{keyPath:cd.keyPath}),e.createObjectStore(ud.store,{keyPath:ud.keyPath,autoIncrement:!0}).createIndex(ud.userMutationsIndex,ud.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ld.store)}(e),Pf(e),function(e){e.createObjectStore(fd.store)}(e));let s=Sd.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore(gd.store),e.deleteObjectStore(md.store),e.deleteObjectStore(vd.store)}(e),Pf(e)),s=s.next((()=>function(e){const t=e.store(vd.store),n=new vd(0,0,su.min().toTimestamp(),0);return t.put(vd.key,n)}(r)))),n<4&&i>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(ud.store).Bt().next((n=>{e.deleteObjectStore(ud.store),e.createObjectStore(ud.store,{keyPath:ud.keyPath,autoIncrement:!0}).createIndex(ud.userMutationsIndex,ud.userMutationsKeyPath,{unique:!0});const i=t.store(ud.store),r=n.map((e=>i.put(e)));return Sd.waitFor(r)}))}(e,r)))),s=s.next((()=>{!function(e){e.createObjectStore(bd.store,{keyPath:bd.keyPath})}(e)}))),n<5&&i>=5&&(s=s.next((()=>this.Ne(r)))),n<6&&i>=6&&(s=s.next((()=>(function(e){e.createObjectStore(pd.store)}(e),this.ke(r))))),n<7&&i>=7&&(s=s.next((()=>this.xe(r)))),n<8&&i>=8&&(s=s.next((()=>this.$e(e,r)))),n<9&&i>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(fd.store);t.createIndex(fd.readTimeIndex,fd.readTimeIndexPath,{unique:!1}),t.createIndex(fd.collectionReadTimeIndex,fd.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&i>=10&&(s=s.next((()=>this.Fe(r)))),n<11&&i>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(wd.store,{keyPath:wd.keyPath})}(e),function(e){e.createObjectStore(Id.store,{keyPath:Id.keyPath})}(e)}))),s}ke(e){let t=0;return e.store(fd.store).jt(((e,n)=>{t+=of(n)})).next((()=>{const n=new pd(t);return e.store(pd.store).put(pd.key,n)}))}Ne(e){const t=e.store(cd.store),n=e.store(ud.store);return t.Bt().next((t=>Sd.forEach(t,(t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(ud.userMutationsIndex,i).next((n=>Sd.forEach(n,(n=>{Vc(n.userId===t.userId);const i=zd(this.k,n);return af(e,t.userId,i).next((()=>{}))}))))}))))}xe(e){const t=e.store(gd.store),n=e.store(fd.store);return e.store(vd.store).get(vd.key).next((e=>{const i=[];return n.jt(((n,r)=>{const s=new lu(n),a=function(e){return[0,nd(e)]}(s);i.push(t.get(a).next((n=>n?Sd.resolve():(n=>t.put(new gd(0,nd(n),e.highestListenSequenceNumber)))(s))))})).next((()=>Sd.waitFor(i)))}))}$e(e,t){e.createObjectStore(yd.store,{keyPath:yd.keyPath});const n=t.store(yd.store),i=new ef,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:nd(i)})}};return t.store(fd.store).jt({Kt:!0},((e,t)=>{const n=new lu(e);return r(n.popLast())})).next((()=>t.store(ld.store).jt({Kt:!0},(([e,t,n],i)=>{const s=sd(t);return r(s.popLast())}))))}Fe(e){const t=e.store(md.store);return t.jt(((e,n)=>{const i=Wd(n),r=$d(this.k,i);return t.put(r)}))}}function Pf(e){e.createObjectStore(gd.store,{keyPath:gd.keyPath}).createIndex(gd.documentTargetsIndex,gd.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(md.store,{keyPath:md.keyPath}).createIndex(md.queryTargetsIndexName,md.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(vd.store)}const Of="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xf{constructor(e,t,n,i,r,s,a,o,c,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=r,this.window=s,this.document=a,this.Me=c,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!xf.bt())throw new Hc(qc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tf(this,i),this.Ge=t+"main",this.k=new Vd(o),this.ze=new Cd(this.Ge,11,new Lf(this.k)),this.He=new pf(this.referenceDelegate,this.k),this.Jt=new tf,this.Je=function(e,t){return new Cf(e,t)}(this.k,this.Jt),this.Ye=new Jd,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&Mc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Hc(qc.FAILED_PRECONDITION,Of);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.He.getHighestSequenceNumber(e)))})).then((e=>{this.Be=new Qc(e,this.Me)})).then((()=>{this.Ue=!0})).catch((e=>(this.ze&&this.ze.close(),Promise.reject(e))))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Ze()})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Uf(e).put(new bd(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.rn(e).next((e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.We(!1))))}))})).next((()=>this.on(e))).next((t=>this.isPrimary&&!t?this.an(e).next((()=>!1)):!!t&&this.cn(e).next((()=>!0)))))).catch((e=>{if(Dd(e))return xc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable((()=>this.We(e))),this.isPrimary=e}))}rn(e){return Mf(e).get(od.key).next((e=>Sd.resolve(this.un(e))))}hn(e){return Uf(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Md(e,bd.store);return t.Bt().next((e=>{const n=this.dn(e,18e5),i=e.filter((e=>-1===n.indexOf(e)));return Sd.forEach(i,(e=>t.delete(e.clientId))).next((()=>i))}))})).catch((()=>[]));if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ze().then((()=>this.ln())).then((()=>this.nn()))))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Sd.resolve(!0):Mf(e).get(od.key).next((t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Hc(qc.FAILED_PRECONDITION,Of);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uf(e).Bt().next((e=>void 0===this.dn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&xc("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[od.store,bd.store],(e=>{const t=new xd(e,Qc.I);return this.an(t).next((()=>this.hn(t)))})),this.ze.close(),this.pn()}dn(e,t){return e.filter((e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId)))}Tn(){return this.runTransaction("getActiveClients","readonly",(e=>Uf(e).Bt().next((e=>this.dn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ue}getMutationQueue(e){return cf.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){xc("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite";let r;return this.ze.runTransaction(e,i,Ed,(i=>(r=new xd(i,this.Be?this.Be.next():Qc.I),"readwrite-primary"===t?this.rn(r).next((e=>!!e||this.on(r))).next((t=>{if(!t)throw Mc(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.We(!1))),new Hc(qc.FAILED_PRECONDITION,Td);return n(r)})).next((e=>this.cn(r).next((()=>e)))):this.En(r).next((()=>n(r)))))).then((e=>(r.raiseOnCommittedEvent(),e)))}En(e){return Mf(e).get(od.key).next((e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Hc(qc.FAILED_PRECONDITION,Of)}))}cn(e){const t=new od(this.clientId,this.allowTabSynchronization,Date.now());return Mf(e).put(od.key,t)}static bt(){return Cd.bt()}an(e){const t=Mf(e);return t.get(od.key).next((e=>this.un(e)?(xc("IndexedDbPersistence","Releasing primary lease."),t.delete(od.key)):Sd.resolve()))}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(Mc(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze())))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!o()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return xc("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Mc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Mc("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mf(e){return Md(e,od.store)}function Uf(e){return Md(e,bd.store)}class Ff{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Pn(e,t,n)))}Pn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return ku.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new ku(t)).next((e=>{let t=uh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const i=t.collectionGroup;let r=uh();return this.Jt.getCollectionParents(e,i).next((s=>Sd.forEach(s,(s=>{const a=function(e,t){return new ol(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.Cn(e,a,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}Cn(e,t,n){let i,r;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(i=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(r=t,this.Nn(e,r,i).next((e=>{i=e;for(const e of r)for(const t of e.mutations){const n=t.key;let r=i.get(n);null==r&&(r=Vu.newInvalidDocument(n),i=i.insert(n,r)),Vl(t,r,e.localWriteTime),r.isFoundDocument()||(i=i.remove(n))}}))))).next((()=>(i.forEach(((e,n)=>{gl(t,n)||(i=i.remove(e))})),i)))}Nn(e,t,n){let i=dh();for(const e of t)for(const t of e.mutations)t instanceof Gl&&null===n.get(t.key)&&(i=i.add(t.key));let r=n;return this.Je.getEntries(e,i).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(r=r.insert(e,t))})),r)))}}class jf{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=i}static $n(e,t){let n=dh(),i=dh();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new jf(e,t.fromCache,n,i)}}class Vf{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,i){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(su.min())?this.Mn(e,t):this.On.vn(e,i).next((r=>{const s=this.Ln(t,r);return(ul(t)||ll(t))&&this.Bn(t.limitType,s,i,n)?this.Mn(e,t):(Oc()<=D.DEBUG&&xc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ml(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new rh(vl(e));return t.forEach(((t,i)=>{gl(e,i)&&(n=n.add(i))})),n}Bn(e,t,n,i){if(n.size!==t.size)return!0;const r="F"===e?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Mn(e,t){return Oc()<=D.DEBUG&&xc("QueryEngine","Using full collection scan to execute query:",ml(t)),this.On.getDocumentsMatchingQuery(e,t,su.min())}}class Bf{constructor(e,t,n,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new th(tu),this.Kn=new Sf((e=>Hu(e)),Ku),this.jn=su.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Ff(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function qf(e,t,n,i){return new Bf(e,t,n,i)}async function Hf(e,t){const n=Bc(e);let i=n.An,r=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.An.getAllMutationBatches(e).next((a=>(s=a,i=n.persistence.getMutationQueue(t),r=new Ff(n.Qn,i,n.persistence.getIndexManager()),i.getAllMutationBatches(e)))).next((t=>{const n=[],i=[];let a=dh();for(const e of s){n.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return r.vn(e,a).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:i})))}))}));return n.An=i,n.Wn=r,n.Un.Fn(n.Wn),s}function Kf(e){const t=Bc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function Gf(e,t){const n=Bc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}async function zf(e,t,n){const i=Bc(e),r=i.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!Dd(e))throw e;xc("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}i.qn=i.qn.remove(t),i.Kn.delete(r.target)}function Wf(e,t,n){const i=Bc(e);let r=su.min(),s=dh();return i.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const i=Bc(e),r=i.Kn.get(n);return void 0!==r?Sd.resolve(i.qn.get(r)):i.He.getTargetData(t,n)}(i,e,dl(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.Un.getDocumentsMatchingQuery(e,t,n?r:su.min(),n?s:dh()))).next((e=>({documents:e,zn:s})))))}class $f{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Sd.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Dh(n.createTime)}),Sd.resolve()}getNamedQuery(e,t){return Sd.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Yd(e.bundledQuery),readTime:Dh(e.readTime)}}(t)),Sd.resolve()}}class Yf{constructor(){this.ts=new rh(Jf.es),this.ns=new rh(Jf.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new Jf(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new Jf(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new ku(new lu([])),n=new Jf(t,e),i=new Jf(t,e+1),r=[];return this.ns.forEachInRange([n,i],(e=>{this.os(e),r.push(e.key)})),r}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new ku(new lu([])),n=new Jf(t,e),i=new Jf(t,e+1);let r=dh();return this.ns.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new Jf(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Jf{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return ku.comparator(e.key,t.key)||tu(e.fs,t.fs)}static ss(e,t){return tu(e.fs,t.fs)||ku.comparator(e.key,t.key)}}class Xf{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new rh(Jf.es)}checkEmpty(e){return Sd.resolve(0===this.An.length)}addMutationBatch(e,t,n,i){const r=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const s=new Ud(r,t,n,i);this.An.push(s);for(const t of i)this.ws=this.ws.add(new Jf(t.key,r)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return Sd.resolve(s)}lookupMutationBatch(e,t){return Sd.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.gs(n),r=i<0?0:i;return Sd.resolve(this.An.length>r?this.An[r]:null)}getHighestUnacknowledgedBatchId(){return Sd.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Sd.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Jf(t,0),i=new Jf(t,Number.POSITIVE_INFINITY),r=[];return this.ws.forEachInRange([n,i],(e=>{const t=this._s(e.fs);r.push(t)})),Sd.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new rh(tu);return t.forEach((e=>{const t=new Jf(e,0),i=new Jf(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,i],(e=>{n=n.add(e.fs)}))})),Sd.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;ku.isDocumentKey(r)||(r=r.child(""));const s=new Jf(new ku(r),0);let a=new rh(tu);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(a=a.add(e.fs)),!0)}),s),Sd.resolve(this.ys(a))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Vc(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return Sd.forEach(t.mutations,(i=>{const r=new Jf(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new Jf(t,0),i=this.ws.firstAfterOrEqual(n);return Sd.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.An.length,Sd.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class Qf{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new th(ku.comparator),this.size=0}addEntry(e,t,n){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:a,readTime:n}),this.size+=a-s,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Sd.resolve(n?n.document.clone():Vu.newInvalidDocument(t))}getEntries(e,t){let n=oh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Vu.newInvalidDocument(e))})),Sd.resolve(n)}getDocumentsMatchingQuery(e,t,n){let i=oh();const r=new ku(t.path.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:e,value:{document:r,readTime:a}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;a.compareTo(n)<=0||gl(t,r)&&(i=i.insert(r.key,r.clone()))}return Sd.resolve(i)}Es(e,t){return Sd.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Zf(this)}getSize(e){return Sd.resolve(this.size)}}class Zf extends _f{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(n))):this.De.removeEntry(n)})),Sd.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class ep{constructor(e){this.persistence=e,this.Is=new Sf((e=>Hu(e)),Ku),this.lastRemoteSnapshotVersion=su.min(),this.highestTargetId=0,this.As=0,this.Rs=new Yf,this.targetCount=0,this.Ps=ff.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),Sd.resolve()}getLastRemoteSnapshotVersion(e){return Sd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Sd.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Sd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Sd.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new ff(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Sd.resolve()}updateTargetData(e,t){return this.ce(t),Sd.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Sd.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Is.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Is.delete(s),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),Sd.waitFor(r).next((()=>i))}getTargetCount(e){return Sd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return Sd.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),Sd.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),Sd.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Sd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return Sd.resolve(n)}containsKey(e,t){return Sd.resolve(this.Rs.containsKey(t))}}class tp{constructor(e,t){this.bs={},this.Be=new Qc(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new ep(this),this.Jt=new Zd,this.Je=function(e,t){return new Qf(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Vd(t),this.Ye=new $f(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Xf(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){xc("MemoryPersistence","Starting transaction:",e);const i=new np(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((e=>this.referenceDelegate.Ss(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Ds(e,t){return Sd.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class np extends kd{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Cs=new Yf,this.Ns=null}static ks(e){return new ip(e)}get xs(){if(this.Ns)return this.Ns;throw jc()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Sd.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Sd.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Sd.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sd.forEach(this.xs,(n=>{const i=ku.fromPath(n);return this.$s(e,i).next((e=>{e||t.removeEntry(i)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return Sd.or([()=>Sd.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}class rp{constructor(){this.activeTargetIds=ph()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sp{constructor(){this.pi=new rp,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new rp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class ap{Ei(e){}shutdown(){}}class op{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){xc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){xc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class up{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class lp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,i,r){const s=this.Ui(e,t);xc("RestConnection","Sending: ",s,n);const a={};return this.qi(a,i,r),this.Ki(e,s,a,n).then((e=>(xc("RestConnection","Received: ",e),e)),(t=>{throw Uc("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}ji(e,t,n,i,r){return this.Bi(e,t,n,i,r)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=cp[e];return`${this.Mi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,i){return new Promise(((r,s)=>{const a=new Nc;a.listenOnce(kc.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Tc.NO_ERROR:const t=a.getResponseJson();xc("Connection","XHR received:",JSON.stringify(t)),r(t);break;case Tc.TIMEOUT:xc("Connection",'RPC "'+e+'" timed out'),s(new Hc(qc.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const n=a.getStatus();if(xc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){const e=a.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(qc).indexOf(t)>=0?t:qc.UNKNOWN}(e.status);s(new Hc(t,e.message))}else s(new Hc(qc.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Hc(qc.UNAVAILABLE,"Connection failed."));break;default:jc()}}finally{xc("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(i);a.send(t,"POST",o,n,15)}))}Qi(e,t,n){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ic(),o=Ec(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Cc({})),this.qi(h.initMessageHeaders,t,n),a()||u()||s().indexOf("Electron/")>=0||l()||s().indexOf("MSAppHost/")>=0||c()||(h.httpHeadersOverwriteParam="$httpHeaders");const d=i.join("");xc("Connection","Creating WebChannel: "+d,h);const f=r.createWebChannel(d,h);let p=!1,m=!1;const g=new up({Vi:e=>{m?xc("Connection","Not sending because WebChannel is closed:",e):(p||(xc("Connection","Opening WebChannel transport."),f.open(),p=!0),xc("Connection","WebChannel sending:",e),f.send(e))},Si:()=>f.close()}),v=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return v(f,Ac.EventType.OPEN,(()=>{m||xc("Connection","WebChannel transport opened.")})),v(f,Ac.EventType.CLOSE,(()=>{m||(m=!0,xc("Connection","WebChannel transport closed"),g.Fi())})),v(f,Ac.EventType.ERROR,(e=>{m||(m=!0,Uc("Connection","WebChannel transport errored:",e),g.Fi(new Hc(qc.UNAVAILABLE,"The operation could not be completed")))})),v(f,Ac.EventType.MESSAGE,(e=>{var t;if(!m){const n=e.data[0];Vc(!!n);const i=n,r=i.error||(null===(t=i[0])||void 0===t?void 0:t.error);if(r){xc("Connection","WebChannel received error:",r);const e=r.status;let t=function(e){const t=Ql[e];if(void 0!==t)return eh(t)}(e),n=r.message;void 0===t&&(t=qc.INTERNAL,n="Unknown error status: "+e+" with message "+r.message),m=!0,g.Fi(new Hc(t,n)),f.close()}else xc("Connection","WebChannel received:",n),g.Oi(n)}})),v(o,Sc.STAT_EVENT,(e=>{e.stat===_c.PROXY?xc("Connection","Detected buffering proxy"):e.stat===_c.NOPROXY&&xc("Connection","Detected no buffering proxy")})),setTimeout((()=>{g.$i()}),0),g}}function hp(){return"undefined"!=typeof document?document:null}function dp(e){return new _h(e,!0)}class fp{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=i,this.zi=r,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-n);i>0&&xc("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class pp{constructor(e,t,n,i,r,s,a,o){this.Oe=e,this.nr=n,this.sr=i,this.ir=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new fp(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===qc.RESOURCE_EXHAUSTED?(Mc(t.toString()),Mc("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===qc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Hc(qc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return xc("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget((()=>this.rr===e?t():(xc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mp extends pp{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.k=r}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jc()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.C?(Vc(void 0===t||"string"==typeof t),pu.fromBase64String(t||"")):(Vc(void 0===t||t instanceof Uint8Array),pu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?qc.UNKNOWN:eh(e.code);return new Hc(t,e.message||"")}(a);n=new bh(i,r,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Oh(e,i.document.name),s=Dh(i.document.updateTime),a=new Fu({mapValue:{fields:i.document.fields}}),o=Vu.newFoundDocument(r,s,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new vh(c,u,o.key,o)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Oh(e,i.document),s=i.readTime?Dh(i.readTime):su.min(),a=Vu.newNoDocument(r,s),o=i.removedTargetIds||[];n=new vh([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Oh(e,i.document),s=i.removedTargetIds||[];n=new vh([],s,r,null)}else{if(!("filter"in t))return jc();{t.filter;const e=t.filter;e.targetId;const i=e.count||0,r=new Xl(i),s=e.targetId;n=new yh(s,r)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return su.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?su.min():t.readTime?Dh(t.readTime):su.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=Uh(this.k),t.addTarget=function(e,t){let n;const i=t.target;return n=Gu(i)?{documents:qh(e,i)}:{query:Hh(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ah(e,t.resumeToken):t.snapshotVersion.compareTo(su.min())>0&&(n.readTime=Ch(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Uh(this.k),t.removeTarget=e,this.gr(t)}}class gp extends pp{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.k=r,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Vc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(Vc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Dh(e.updateTime):Dh(t);return n.isEqual(su.min())&&(n=Dh(t)),new xl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Dh(e.commitTime);return this.listener.Cr(n,t)}return Vc(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Uh(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Vh(this.k,e)))};this.gr(t)}}class vp extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new Hc(qc.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.ir.Bi(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===qc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hc(qc.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.ir.ji(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===qc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Hc(qc.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class yp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Mc(t),this.Lr=!1):xc("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class bp{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=r,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{Ap(this)&&(xc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Bc(e);t.Gr.add(4),await Ip(t),t.Jr.set("Unknown"),t.Gr.delete(4),await wp(t)}(this))}))})),this.Jr=new yp(n,i)}}async function wp(e){if(Ap(e))for(const t of e.zr)await t(!0)}async function Ip(e){for(const t of e.zr)await t(!1)}function Ep(e,t){const n=Bc(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Cp(n)?_p(n):Kp(n).lr()&&kp(n,t))}function Tp(e,t){const n=Bc(e),i=Kp(n);n.Wr.delete(t),i.lr()&&Sp(n,t),0===n.Wr.size&&(i.lr()?i._r():Ap(n)&&n.Jr.set("Unknown"))}function kp(e,t){e.Yr.X(t.targetId),Kp(e).br(t)}function Sp(e,t){e.Yr.X(t),Kp(e).vr(t)}function _p(e){e.Yr=new Ih({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),Kp(e).start(),e.Jr.Br()}function Cp(e){return Ap(e)&&!Kp(e).hr()&&e.Wr.size>0}function Ap(e){return 0===Bc(e).Gr.size}function Np(e){e.Yr=void 0}async function Dp(e){e.Wr.forEach(((t,n)=>{kp(e,t)}))}async function Rp(e,t){Np(e),Cp(e)?(e.Jr.Kr(t),_p(e)):e.Jr.set("Unknown")}async function Lp(e,t,n){if(e.Jr.set("Online"),t instanceof bh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Wr.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Wr.delete(i),e.Yr.removeTarget(i))}(e,t)}catch(n){xc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Pp(e,n)}else if(t instanceof vh?e.Yr.ot(t):t instanceof yh?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(su.min()))try{const t=await Kf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Wr.get(i);r&&e.Wr.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(pu.EMPTY_BYTE_STRING,n.snapshotVersion)),Sp(e,t);const i=new jd(n.target,t,1,n.sequenceNumber);kp(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){xc("RemoteStore","Failed to raise snapshot:",t),await Pp(e,t)}}async function Pp(e,t,n){if(!Dd(t))throw t;e.Gr.add(1),await Ip(e),e.Jr.set("Offline"),n||(n=()=>Kf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{xc("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await wp(e)}))}function Op(e,t){return t().catch((n=>Pp(e,n,t)))}async function xp(e){const t=Bc(e),n=Gp(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Mp(t);)try{const e=await Gf(t.localStore,i);if(null===e){0===t.Qr.length&&n._r();break}i=e.batchId,Up(t,e)}catch(e){await Pp(t,e)}Fp(t)&&jp(t)}function Mp(e){return Ap(e)&&e.Qr.length<10}function Up(e,t){e.Qr.push(t);const n=Gp(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Fp(e){return Ap(e)&&!Gp(e).hr()&&e.Qr.length>0}function jp(e){Gp(e).start()}async function Vp(e){Gp(e).kr()}async function Bp(e){const t=Gp(e);for(const n of e.Qr)t.Dr(n.mutations)}async function qp(e,t,n){const i=e.Qr.shift(),r=Fd.from(i,t,n);await Op(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await xp(e)}async function Hp(e,t){t&&Gp(e).Sr&&await async function(e,t){if(function(e){switch(e){default:return jc();case qc.CANCELLED:case qc.UNKNOWN:case qc.DEADLINE_EXCEEDED:case qc.RESOURCE_EXHAUSTED:case qc.INTERNAL:case qc.UNAVAILABLE:case qc.UNAUTHENTICATED:return!1;case qc.INVALID_ARGUMENT:case qc.NOT_FOUND:case qc.ALREADY_EXISTS:case qc.PERMISSION_DENIED:case qc.FAILED_PRECONDITION:case qc.ABORTED:case qc.OUT_OF_RANGE:case qc.UNIMPLEMENTED:case qc.DATA_LOSS:return!0}}(n=t.code)&&n!==qc.ABORTED){const n=e.Qr.shift();Gp(e).wr(),await Op(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await xp(e)}var n}(e,t),Fp(e)&&jp(e)}function Kp(e){return e.Xr||(e.Xr=function(e,t,n){const i=Bc(e);return i.Fr(),new mp(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,n)}(e.datastore,e.asyncQueue,{Di:Dp.bind(null,e),Ni:Rp.bind(null,e),Pr:Lp.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),Cp(e)?_p(e):e.Jr.set("Unknown")):(await e.Xr.stop(),Np(e))}))),e.Xr}function Gp(e){return e.Zr||(e.Zr=function(e,t,n){const i=Bc(e);return i.Fr(),new gp(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,n)}(e.datastore,e.asyncQueue,{Di:Vp.bind(null,e),Ni:Hp.bind(null,e),Nr:Bp.bind(null,e),Cr:qp.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await xp(e)):(await e.Zr.stop(),e.Qr.length>0&&(xc("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class zp{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Kc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,a=new zp(e,t,s,i,r);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hc(qc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(e,t){if(Mc("AsyncQueue",`${t}: ${e}`),Dd(e))return new Hc(qc.UNAVAILABLE,`${t}: ${e}`);throw e}class $p{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ku.comparator(t.key,n.key):(e,t)=>ku.comparator(e.key,t.key),this.keyedMap=uh(),this.sortedSet=new th(this.comparator)}static emptySet(e){return new $p(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $p))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new $p;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Yp{constructor(){this.eo=new th(ku.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):jc():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Jp{constructor(e,t,n,i,r,s,a,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,i){const r=[];return t.forEach((e=>{r.push({type:0,doc:e})})),new Jp(e,t,$p.emptySet(t),r,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Xp{constructor(){this.so=void 0,this.listeners=[]}}class Qp{constructor(){this.queries=new Sf((e=>pl(e)),fl),this.onlineState="Unknown",this.io=new Set}}function Zp(e,t){const n=Bc(e);let i=!1;for(const e of t){const t=e.query,r=n.queries.get(t);if(r){for(const t of r.listeners)t.oo(e)&&(i=!0);r.so=e}}i&&tm(n)}function em(e,t,n){const i=Bc(e),r=i.queries.get(t);if(r)for(const e of r.listeners)e.onError(n);i.queries.delete(t)}function tm(e){e.io.forEach((e=>{e.next()}))}class nm{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Jp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=Jp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class im{constructor(e){this.key=e}}class rm{constructor(e){this.key=e}}class sm{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=dh(),this.mutatedKeys=dh(),this.Ao=vl(e),this.Ro=new $p(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new Yp,i=t?t.Ro:this.Ro;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const o=ul(this.query)&&i.size===this.query.limit?i.last():null,c=ll(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const u=i.get(e),l=gl(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Vo(u,l)||(n.track({type:2,doc:l}),f=!0,(o&&this.Ao(l,o)>0||c&&this.Ao(l,c)<0)&&(a=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(o||c)&&(a=!0)),f&&(l?(s=s.add(l),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),ul(this.query)||ll(this.query))for(;s.size>this.query.limit;){const e=ul(this.query)?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:a,mutatedKeys:r}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const r=e.vo.no();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jc()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const s=t?this.Do():[],a=0===this.Io.size&&this.current?1:0,o=a!==this.Eo;return this.Eo=a,0!==r.length||o?{snapshot:new Jp(this.query,e.Ro,i,r,e.mutatedKeys,0===a,o,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Yp,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=dh(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new rm(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new im(n))})),t}ko(e){this.To=e.zn,this.Io=dh();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Jp.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class am{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class om{constructor(e){this.key=e,this.$o=!1}}class cm{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new Sf((e=>pl(e)),fl),this.Mo=new Map,this.Lo=new Set,this.Bo=new th(ku.comparator),this.Uo=new Map,this.qo=new Yf,this.Ko={},this.jo=new Map,this.Qo=ff.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function um(e,t){const n=function(e){const t=Bc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fm.bind(null,t),t.Fo.Pr=Zp.bind(null,t.eventManager),t.Fo.zo=em.bind(null,t.eventManager),t}(e);let i,r;const s=n.Oo.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.xo();else{const e=await function(e,t){const n=Bc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.He.getTargetData(e,t).next((r=>r?(i=r,Sd.resolve(i)):n.He.allocateTargetId(e).next((r=>(i=new jd(t,r,0,e.currentSequenceNumber),n.He.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.qn.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}(n.localStore,dl(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await async function(e,t,n,i){e.Go=(t,n,i)=>async function(e,t,n,i){let r=t.view.bo(n);r.Bn&&(r=await Wf(e.localStore,t.query,!1).then((({documents:e})=>t.view.bo(e,r))));const s=i&&i.targetChanges.get(t.targetId),a=t.view.applyChanges(r,e.isPrimaryClient,s);return wm(e,t.targetId,a.Co),a.snapshot}(e,t,n,i);const r=await Wf(e.localStore,t,!0),s=new sm(t,r.zn),a=s.bo(r.documents),o=gh.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),c=s.applyChanges(a,e.isPrimaryClient,o);wm(e,n,c.Co);const u=new am(t,n,s);return e.Oo.set(t,u),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),c.snapshot}(n,t,i,"current"===s),n.isPrimaryClient&&Ep(n.remoteStore,e)}return r}async function lm(e,t){const n=Bc(e),i=n.Oo.get(t),r=n.Mo.get(i.targetId);if(r.length>1)return n.Mo.set(i.targetId,r.filter((e=>!fl(e,t)))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await zf(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),Tp(n.remoteStore,i.targetId),ym(n,i.targetId)})).catch(yf)):(ym(n,i.targetId),await zf(n.localStore,i.targetId,!0))}async function hm(e,t){const n=Bc(e);try{const e=await function(e,t){const n=Bc(e),i=t.snapshotVersion;let r=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});r=n.qn;const a=[];t.targetChanges.forEach(((t,s)=>{const o=r.get(s);if(!o)return;a.push(n.He.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.He.addMatchingKeys(e,t.addedDocuments,s))));const c=t.resumeToken;if(c.approximateByteSize()>0){const u=o.withResumeToken(c,i).withSequenceNumber(e.currentSequenceNumber);r=r.insert(s,u),function(e,t,n){return Vc(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(o,u,t)&&a.push(n.He.updateTargetData(e,u))}}));let o=oh();if(t.documentUpdates.forEach(((i,r)=>{t.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),a.push(function(e,t,n,i,r){let s=dh();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=oh();return n.forEach(((n,a)=>{const o=e.get(n),c=(null==r?void 0:r.get(n))||i;a.isNoDocument()&&a.version.isEqual(su.min())?(t.removeEntry(n,c),s=s.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a,c),s=s.insert(n,a)):xc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),s}))}(e,s,t.documentUpdates,i,void 0).next((e=>{o=e}))),!i.isEqual(su.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,i)));a.push(t)}return Sd.waitFor(a).next((()=>s.apply(e))).next((()=>n.Wn.Vn(e,o))).next((()=>o))})).then((e=>(n.qn=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.Uo.get(t);i&&(Vc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.$o=!0:e.modifiedDocuments.size>0?Vc(i.$o):e.removedDocuments.size>0&&(Vc(i.$o),i.$o=!1))})),await Tm(n,e,t)}catch(e){await yf(e)}}function dm(e,t,n){const i=Bc(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.Oo.forEach(((n,i)=>{const r=i.view.ro(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Bc(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(i=!0)})),i&&tm(n)}(i.eventManager,t),e.length&&i.Fo.Pr(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function fm(e,t,n){const i=Bc(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Uo.get(t),s=r&&r.key;if(s){let e=new th(ku.comparator);e=e.insert(s,Vu.newNoDocument(s,su.min()));const n=dh().add(s),r=new mh(su.min(),new Map,new rh(tu),e,n);await hm(i,r),i.Bo=i.Bo.remove(s),i.Uo.delete(t),Em(i)}else await zf(i.localStore,t,!1).then((()=>ym(i,t,n))).catch(yf)}async function pm(e,t){const n=Bc(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Bc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let a=Sd.resolve();return s.forEach((e=>{a=a.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Vc(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&i.addEntry(t,n.commitVersion))}))})),a.next((()=>e.An.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,i)))}))}(n.localStore,t);vm(n,i,null),gm(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Tm(n,e)}catch(e){await yf(e)}}async function mm(e,t,n){const i=Bc(e);try{const e=await function(e,t){const n=Bc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.An.lookupMutationBatch(e,t).next((t=>(Vc(null!==t),i=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,i)))}))}(i.localStore,t);vm(i,t,n),gm(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Tm(i,e)}catch(n){await yf(n)}}function gm(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function vm(e,t,n){const i=Bc(e);let r=i.Ko[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Ko[i.currentUser.toKey()]=r}}function ym(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Mo.get(t))e.Oo.delete(i),n&&e.Fo.zo(i,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||bm(e,t)}))}function bm(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(Tp(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Em(e))}function wm(e,t,n){for(const i of n)i instanceof im?(e.qo.addReference(i.key,t),Im(e,i)):i instanceof rm?(xc("SyncEngine","Document no longer in limbo: "+i.key),e.qo.removeReference(i.key,t),e.qo.containsKey(i.key)||bm(e,i.key)):jc()}function Im(e,t){const n=t.key,i=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(i)||(xc("SyncEngine","New document in limbo: "+n),e.Lo.add(i),Em(e))}function Em(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new ku(lu.fromString(t)),i=e.Qo.next();e.Uo.set(i,new om(n)),e.Bo=e.Bo.insert(n,i),Ep(e.remoteStore,new jd(dl(cl(n.path)),i,2,Qc.I))}}async function Tm(e,t,n){const i=Bc(e),r=[],s=[],a=[];i.Oo.isEmpty()||(i.Oo.forEach(((e,o)=>{a.push(i.Go(o,t,n).then((e=>{if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(o.targetId,e.fromCache?"not-current":"current"),r.push(e);const t=jf.$n(o.targetId,e);s.push(t)}})))})),await Promise.all(a),i.Fo.Pr(r),await async function(e,t){const n=Bc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Sd.forEach(t,(t=>Sd.forEach(t.kn,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>Sd.forEach(t.xn,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!Dd(e))throw e;xc("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.qn=n.qn.insert(t,r)}}}(i.localStore,s))}async function km(e,t){const n=Bc(e);if(!n.currentUser.isEqual(t)){xc("SyncEngine","User change. New user:",t.toKey());const e=await Hf(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Hc(qc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Tm(n,e.Gn)}}function Sm(e,t){const n=Bc(e),i=n.Uo.get(t);if(i&&i.$o)return dh().add(i.key);{let e=dh();const i=n.Mo.get(t);if(!i)return e;for(const t of i){const i=n.Oo.get(t);e=e.unionWith(i.view.Po)}return e}}function _m(e){const t=Bc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mm.bind(null,t),t}class Cm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=dp(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return qf(this.persistence,new Vf,e.initialUser,this.k)}Yo(e){return new tp(ip.ks,this.k)}Jo(e){return new sp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Am extends Cm{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Bc(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=Df(e);let n=su.min();return t.jt({index:fd.readTimeIndex,reverse:!0},((e,t,i)=>{t.readTime&&(n=function(e){const t=new ru(e[0],e[1]);return su.fromTimestamp(t)}(t.readTime)),i.done()})).next((()=>n))}(e))).then((e=>{t.jn=e}))}(this.localStore),await this.ta.initialize(this,e),await _m(this.ta.syncEngine),await xp(this.ta.remoteStore),await this.persistence.sn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Zo(e){return qf(this.persistence,new Vf,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new If(t,e.asyncQueue)}Yo(e){const t=function(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sf.withCacheSize(this.cacheSizeBytes):sf.DEFAULT;return new xf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,"undefined"!=typeof window?window:null,hp(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new sp}}class Nm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>dm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=km.bind(null,this.syncEngine),await async function(e,t){const n=Bc(e);t?(n.Gr.delete(2),await wp(n)):t||(n.Gr.add(2),await Ip(n),n.Jr.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qp}createDatastore(e){const t=dp(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new lp(i));var i;return function(e,t,n,i){return new vp(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>dm(this.syncEngine,e,0),s=op.bt()?new op:new ap,new bp(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,a){const o=new cm(e,t,n,i,r,s);return a&&(o.Wo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Bc(e);xc("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Ip(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}class Dm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Rm{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Rc.UNAUTHENTICATED,this.clientId=eu.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{xc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Hc(qc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Wp(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Lm(e,t){e.asyncQueue.verifyOperationInProgress(),xc("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await Hf(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Pm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(xc("FirestoreClient","Using default OfflineComponentProvider"),await Lm(e,new Cm)),e.offlineComponents}(e);xc("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>async function(e,t){const n=Bc(e);n.asyncQueue.verifyOperationInProgress(),xc("RemoteStore","RemoteStore received new credentials");const i=Ap(n);n.Gr.add(3),await Ip(n),i&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await wp(n)}(t.remoteStore,e))),e.onlineComponents=t}async function Om(e){return e.onlineComponents||(xc("FirestoreClient","Using default OnlineComponentProvider"),await Pm(e,new Nm)),e.onlineComponents}async function xm(e){const t=await Om(e),n=t.eventManager;return n.onListen=um.bind(null,t.syncEngine),n.onUnlisten=lm.bind(null,t.syncEngine),n}function Mm(e,t,n={}){const i=new Kc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new Dm({next:s=>{t.enqueueAndForget((()=>async function(e,t){const n=Bc(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}(e,a)));const o=s.docs.has(n);!o&&s.fromCache?r.reject(new Hc(qc.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&i&&"server"===i.source?r.reject(new Hc(qc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),a=new nm(cl(n.path),s,{includeMetadataChanges:!0,wo:!0});return async function(e,t){const n=Bc(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new Xp),r)try{s.so=await n.onListen(i)}catch(e){const n=Wp(e,`Initialization of query '${ml(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&tm(n)}(e,a)}(await xm(e),e.asyncQueue,t,n,i))),i.promise}class Um{constructor(e,t,n,i,r,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class Fm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fm&&e.projectId===this.projectId&&e.database===this.database}}const jm=new Map;function Vm(e,t,n){if(!n)throw new Hc(qc.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Bm(e){if(!ku.isDocumentKey(e))throw new Hc(qc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":jc()}function Hm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hc(qc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qm(e);throw new Hc(qc.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Km{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Hc(qc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Hc(qc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,i){if(!0===t&&!0===i)throw new Hc(qc.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gm{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,e instanceof Fm?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hc(qc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fm(e.options.projectId)}(e))}get app(){if(!this._app)throw new Hc(qc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Hc(qc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zc;switch(e.type){case"gapi":const t=e.client;return Vc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Yc(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Hc(qc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jm.get(e);t&&(xc("ComponentProvider","Removing Datastore"),jm.delete(e),t.terminate())}(this),Promise.resolve()}}class zm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $m(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zm(this.firestore,e,this._key)}}class Wm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Wm(this.firestore,e,this._query)}}class $m extends Wm{constructor(e,t,n){super(e,t,cl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zm(this.firestore,null,new ku(e))}withConverter(e){return new $m(this.firestore,e,this._path)}}function Ym(e,t,...n){if(e=k(e),1===arguments.length&&(t=eu.A()),Vm("doc","path",t),e instanceof Gm){const i=lu.fromString(t,...n);return Bm(i),new zm(e,null,new ku(i))}{if(!(e instanceof zm||e instanceof $m))throw new Hc(qc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(lu.fromString(t,...n));return Bm(i),new zm(e.firestore,e instanceof $m?e.converter:null,new ku(i))}}class Jm{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new fp(this,"async_queue_retry"),this.Ra=()=>{const e=hp();e&&xc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=hp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=hp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise((()=>{}));const t=new Kc;return this.ba((()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ga.push(e),this.va())))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!Dd(e))throw e;xc("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi((()=>this.va()))}}ba(e){const t=this.ma.then((()=>(this.Ea=!0,e().catch((e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Mc("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ea=!1,e))))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const i=zp.createAndSchedule(this,e,t,n,(e=>this.Va(e)));return this.pa.push(i),i}Pa(){this.Ta&&jc()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then((()=>{this.pa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()}))}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}class Xm extends Gm{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Jm,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Zm(this),this._firestoreClient.terminate()}}function Qm(e){return e._firestoreClient||Zm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zm(e){var t;const n=e._freezeSettings(),i=function(e,t,n,i){return new Um(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Rm(e._authCredentials,e._appCheckCredentials,e._queue,i)}class eg{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Hc(qc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new du(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tg(pu.fromBase64String(e))}catch(e){throw new Hc(qc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new tg(pu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ng{constructor(e){this._methodName=e}}class ig{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Hc(qc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Hc(qc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tu(this._lat,e._lat)||tu(this._long,e._long)}}const rg=/^__.*__$/;class sg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kl(e,this.data,t,this.fieldTransforms)}}function ag(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jc()}}class og{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=i,void 0===r&&this.ka(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:n,Oa:!1});return i.Ma(e),i}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:n,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return yg(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(ag(this.xa)&&rg.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class cg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||dp(e)}ja(e,t,n,i=!1){return new og({xa:e,methodName:t,Ka:n,path:du.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function ug(e){const t=e._freezeSettings(),n=dp(e._databaseId);return new cg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lg(e,t,n,i,r,s={}){const a=e.ja(s.merge||s.mergeFields?2:0,t,n,r);pg("Data must be an object, but it was:",a,i);const o=dg(i,a);let c,u;if(s.merge)c=new fu(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=mg(t,i,n);if(!a.contains(r))throw new Hc(qc.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);bg(e,r)||e.push(r)}c=new fu(e),u=a.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=a.fieldTransforms;return new sg(new Fu(o),c,u)}function hg(e,t){if(fg(e=k(e)))return pg("Unsupported field value:",t,e),dg(e,t);if(e instanceof ng)return function(e,t){if(!ag(t.xa))throw t.Ua(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ua(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=hg(r,t.Ba(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=k(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Il(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ru.fromDate(e);return{timestampValue:Ch(t.k,n)}}if(e instanceof ru){const n=new ru(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ch(t.k,n)}}if(e instanceof ig)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tg)return{bytesValue:Ah(t.k,e._byteString)};if(e instanceof zm){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.Ua(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Rh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua(`Unsupported field value: ${qm(e)}`)}(e,t)}function dg(e,t){const n={};return cu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ou(e,((e,i)=>{const r=hg(i,t.Fa(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function fg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ru||e instanceof ig||e instanceof tg||e instanceof zm||e instanceof ng)}function pg(e,t,n){if(!fg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=qm(n);throw"an object"===i?t.Ua(e+" a custom object"):t.Ua(e+" "+i)}}function mg(e,t,n){if((t=k(t))instanceof eg)return t._internalPath;if("string"==typeof t)return vg(e,t);throw yg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const gg=new RegExp("[~\\*/\\[\\]]");function vg(e,t,n){if(t.search(gg)>=0)throw yg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new eg(...t.split("."))._internalPath}catch(i){throw yg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function yg(e,t,n,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new Hc(qc.INVALID_ARGUMENT,o+e+c)}function bg(e,t){return e.some((e=>e.isEqual(t)))}class wg{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new zm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ig(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ig extends wg{data(){return super.data()}}function Eg(e,t){return"string"==typeof t?vg(e,t):t instanceof eg?t._internalPath:t._delegate._internalPath}class Tg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kg extends wg{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Sg extends kg{data(e={}){return super.data(e)}}class _g extends class{convertValue(e,t="none"){switch(Su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jc()}}convertObject(e,t){const n={};return ou(e.fields,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new ig(vu(e.latitude),vu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const t=gu(e);return new ru(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=lu.fromString(e);Vc(td(n));const i=new Fm(n.get(1),n.get(3)),r=new ku(n.popFirst(5));return i.isEqual(t)||Mc(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new tg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zm(this.firestore,null,t)}}function Cg(e,t){return function(e,t){const n=new Kc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=_m(e);try{const e=await function(e,t){const n=Bc(e),i=ru.now(),r=t.reduce(((e,t)=>e.add(t.key)),dh());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,r).next((r=>{s=r;const a=[];for(const e of t){const t=Bl(e,s.get(e.key));null!=t&&a.push(new Gl(e.key,t,ju(t.value.mapValue),Ml.exists(!0)))}return n.An.addMutationBatch(e,i,a,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Ko[e.currentUser.toKey()];i||(i=new th(tu)),i=i.insert(t,n),e.Ko[e.currentUser.toKey()]=i}(i,e.batchId,n),await Tm(i,e.changes),await xp(i.remoteStore)}catch(e){const t=Wp(e,"Failed to persist write");n.reject(t)}}(await function(e){return Om(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(Qm(e),t)}!function(e,t=!0){!function(e){Lc=e}(Q),z(new S("firestore",((e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=new Xm(i,new Wc(e.getProvider("auth-internal")),new Xc(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),r._setSettings(n),r}),"PUBLIC")),ie(Dc,"3.4.1",e),ie(Dc,"3.4.1","esm2017")}();const Ag=class{constructor(e,t){this.name=e,this.tasks={},this.id=t}},Ng=new class{constructor(){this.currentList=void 0,this.nextListId=0,this.lists={}}createNewTask(e,t,n="",i){return new class{constructor(e,t,n="",i){this.name=e,this.dueDate=t,this.details=n,this.taskId=i}}(e,t,n,i)}addTaskToCurrentList(e){this.currentList.tasks[e.taskId]=e,Mg(this.currentList,this.nextListId,this.lists)}modifyTask(e,t,n="",i){for(let r of Object.values(this.currentList.tasks))if(r.taskId==i){r.name=e,r.dueDate=t,r.details=n,Mg(this.currentList,this.nextListId,this.lists);break}}deleteTask(e){delete this.currentList.tasks[e],Mg(this.currentList,this.nextListId,this.lists)}createNewList(e){let t=new Ag(e,this.nextListId++);this.lists[e]=t,Mg(this.currentList,this.nextListId,this.lists)}modifyListName(e,t){this.lists[t]=this.lists[e],delete this.lists[e],this.lists[t].name=t,Mg(this.currentList,this.nextListId,this.lists)}setDefaultList(){if(0===Object.keys(this.lists).length){let e=new Ag("Chores",this.nextListId++);this.lists.Chores=e,this.makeCurrentList("Chores")}}makeCurrentList(e){this.currentList=this.lists[e],Mg(this.currentList,this.nextListId,this.lists)}updateData(e){this.currentList=e.currentList,this.lists=e.lists,this.nextListId=e.nextListId}setOneOfTheRemainingListsToBeCurrentList(){let e=Object.keys(this.lists)[0];this.makeCurrentList(e)}deleteList(e){delete this.lists[e],Mg(this.currentList,this.nextListId,this.lists)}},Dg=new class{constructor(){this.oldListName=null,this.listCurrentlyBeingEdited=!1,this.taskCurrentlyBeingEdited=!1}initializeEventListeners(e){document.addEventListener("click",this.handleClick.bind(this)),document.querySelectorAll('input[type="text"]').forEach((e=>{e.addEventListener("keydown",this.textInputKeydownHandler)})),document.querySelector(".log-out-btn").addEventListener("click",(()=>{!function(e){k(e).signOut()}(e)}))}textInputKeydownHandler(e){"Enter"===e.key&&e.preventDefault()}handleClick(e){const t=e.target.className,n=e.target;switch(t){case"due-date":case"date-and-btns":case"task":case"task-date-btns":case"details-hidden":case"task strikethru":case"due-date strikethru":case"details":this.toggleStrikethru(n);break;case"fas fa-edit task-edit-btn":case"edit-task-btn":e.preventDefault(),this.renderTaskEditor(n);break;case"new-task-btn":case"fas fa-plus new-task-plus":e.preventDefault(),this.addTaskBtnHandler(n);break;case"task-delete-btn":case"far fa-trash-alt edit-task-trashcan":e.preventDefault(),this.taskDeleteBtnHandler(n);break;case"cancel-new-task-btn":case"far fa-times-circle cancel-new-task-icon":e.preventDefault(),this.cancelCreateNewTaskBtnHandler(n);break;case"new-task-submit-btn":case"edit-task-submit-btn":case"far fa-check-circle new-task-checkmark":case"far fa-check-circle edit-task-checkmark":e.preventDefault(),this.taskSubmitBtnHandler(n);break;case"fas fa-grip-horizontal toggle-menu-btn-icon":case"toggle-menu-btn":e.preventDefault(),this.toggleMenuBtnHandler();break;case"fas fa-globe all-icon":case"menu-btn all":case"no-styling all":e.preventDefault(),this.viewAllBtnHandler();break;case"menu-btn today":case"fas fa-calendar-day day-icon":case"no-styling day":e.preventDefault(),this.viewOnlyToday();break;case"menu-btn week":case"fas fa-calendar-week week-icon":case"no-styling week":e.preventDefault(),this.viewOnlyWeek();break;case"list-menu-btn":case"list-name-text":case"fas fa-list-alt list-menu-icon":case"list-icon-and-text":case"no-styling menu-list":e.preventDefault(),this.listMenuBtnHandler(n);break;case"fas fa-edit edit-list-graphic":this.startToEditListNameBtnHandler(n);break;case"no-styling delete-list-trashcan":case"far fa-trash-alt remove-list-trashcan":e.preventDefault(),this.deleteList();break;case"no-styling cancel-edit-list-button":case"far fa-times-circle edit-list-cancel-btn":e.preventDefault(),this.cancelEditListNameBtnHandler();break;case"no-styling submit-edit-list-button":case"far fa-check-circle edit-list-submit-btn":e.preventDefault(),this.editListNameSubmitBtnHandler(n);break;case"no-styling list-add-btn":case"menu-btn add-list-btn":case"fas fa-plus add-list-plus-icon":e.preventDefault(),this.addListBtnHandler();break;case"far fa-times-circle new-list-cancel-btn":case"no-styling new-list-x-out-btn":e.preventDefault(),this.cancelNewListBtnHandler(n);break;case"far fa-check-circle new-list-submit-btn":case"no-styling new-list-checkmark-btn":e.preventDefault(),this.newListSubmitBtnHandler(n);break;case"show-task-details-btn":case"fas fa-book-open show-details-btn":e.preventDefault(),this.showDetailsBtnHandler(n)}}toggleStrikethru(e){const t=e.closest(".task-date-btns").firstElementChild,n=e.closest(".task-date-btns").children[1].firstElementChild;t.classList.toggle("strikethru"),n.classList.toggle("strikethru")}renderTaskEditor(e){const t=e.closest(".todo-item").children[1],n=e.closest(".todo-item").dataset.id;if(this.taskCurrentlyBeingEdited)return;this.taskCurrentlyBeingEdited=!0,t.classList.toggle("hidden");const i=t.firstElementChild.firstElementChild,r=t.firstElementChild.firstElementChild.nextElementSibling,s=t.firstElementChild.firstElementChild.nextElementSibling.nextElementSibling.firstElementChild;i.value=Ng.currentList.tasks[n].name,r.value=Ng.currentList.tasks[n].details,Ng.currentList.tasks[n].dueDate&&(s.valueAsNumber=Ng.currentList.tasks[n].dueDate)}addTaskBtnHandler(e){e.closest(".new-task-btn").previousElementSibling.classList.remove("hidden")}taskDeleteBtnHandler(e){this.taskCurrentlyBeingEdited=!1;const t=e.closest(".todo-item").dataset.id;Ng.deleteTask(t),this.renderTasks()}cancelCreateNewTaskBtnHandler(e){e.closest(".new-task-editor").classList.add("hidden")}toggleMenuBtnHandler(){const e=document.querySelector(".menu");"none"===window.getComputedStyle(e).display?e.style.display="block":e.style.display="none"}viewAllBtnHandler(){this.taskCurrentlyBeingEdited=!1,this.listCurrentlyBeingEdited=!1,this.renderTasks()}viewOnlyToday(){this.taskCurrentlyBeingEdited=!1,this.listCurrentlyBeingEdited=!1;let e=document.querySelector(".the-task-items");e.innerHTML="";const t=Object.values(Ng.currentList.tasks).filter((e=>{const t=new Date(e.dueDate),n=t.getUTCDate(),i=t.getUTCMonth(),r=t.getUTCFullYear(),s=(new Date).getUTCDate(),a=(new Date).getUTCMonth(),o=(new Date).getUTCFullYear();return n===s&&i===a&&r===o}));for(const n of t){const{taskId:t,name:i,dueDate:r,details:s}=n,a=this.createTaskHTML(t,i,r,s);e.innerHTML+=a}}viewOnlyWeek(){this.taskCurrentlyBeingEdited=!1,this.listCurrentlyBeingEdited=!1;let e=document.querySelector(".the-task-items");e.innerHTML="";const t=Object.values(Ng.currentList.tasks).filter((e=>{const t=new Date(e.dueDate);return Math.abs(Date.now()-t)<=6048e5}));for(const n of t){const{taskId:t,name:i,dueDate:r,details:s}=n,a=this.createTaskHTML(t,i,r,s);e.innerHTML+=a}}listMenuBtnHandler(e){const t=e.closest(".list-menu-btn");if(1===t.children.length){const e=t.children[0].children[0].children[1].textContent;this.switchList(e)}}startToEditListNameBtnHandler(e){if(this.listCurrentlyBeingEdited)return;const t=e.closest(".list-menu-btn"),n=e.previousElementSibling.children[1].textContent;this.listCurrentlyBeingEdited=!0,this.oldListName=n;const i=`<i class="fas fa-list-alt list-menu-icon"></i>\n        <input class="new-list-text-input" type="text" value="${n}">\n        <button class="no-styling delete-list-trashcan">\n            <i class="far fa-trash-alt remove-list-trashcan"></i>\n        </button>\n        <button class="no-styling cancel-edit-list-button">\n            <i class="far fa-times-circle edit-list-cancel-btn"></i>\n        </button>\n        <button class="no-styling submit-edit-list-button">\n            <i class="far fa-check-circle edit-list-submit-btn"></i>\n        </button>`;t.innerHTML=i}deleteList(){this.listCurrentlyBeingEdited=!1,this.taskCurrentlyBeingEdited=!1,confirm(`Are you sure that you want to delete the ${this.oldListName} list and all associated tasks?`)?Object.keys(Ng.lists).length>1?(Ng.deleteList(this.oldListName),Ng.setOneOfTheRemainingListsToBeCurrentList(),this.renderLists(),this.renderTasks(),this.updateColumnName()):(alert("Unable to delete your only list!"),this.renderLists()):this.renderLists()}cancelEditListNameBtnHandler(){this.listCurrentlyBeingEdited=!1,this.renderLists()}editListNameSubmitBtnHandler(e){const t=e.closest(".list-menu-btn").children[1],n=t.value;n!==this.oldListName&&""!==n?(this.listCurrentlyBeingEdited=!1,Ng.modifyListName(this.oldListName,n),this.renderLists(),this.switchList(n)):t.focus()}addListBtnHandler(){let e=document.querySelector(".ul-list-of-lists"),t=document.createElement("li");t.classList.add("list-menu-btn");let n=document.createElement("i");n.classList.add("fas","fa-list-alt","list-menu-icon"),t.append(n),t.insertAdjacentHTML("beforeend",'<input class="new-list-text-input" type="text">\n        <button class="no-styling new-list-x-out-btn">\n            <i class="far fa-times-circle new-list-cancel-btn"></i>\n        </button>\n        <button class="no-styling new-list-checkmark-btn">\n            <i class="far fa-check-circle new-list-submit-btn">\n            </i>\n        </button>'),e.append(t)}cancelNewListBtnHandler(e){e.closest(".list-menu-btn").remove()}showDetailsBtnHandler(e){e.closest(".task-date-btns").firstElementChild.firstElementChild.classList.toggle("hidden")}createTaskHTML(e,t,n,i){return`<li class="todo-item" data-id="${e}">\n            <div class="task-date-btns">\n                <div class="task">${t}\n                    <div class="hidden details">${i}</div>\n                </div> \n                <div class="date-and-btns">\n                    <span class="due-date">${this.createReadableDate(n)}</span>\n\n                    ${""!==i?'<button class="show-task-details-btn">\n                        <i class="fas fa-book-open show-details-btn"></i>\n                    </button>':""}\n\n                    <button class="edit-task-btn">\n                        <i class="fas fa-edit task-edit-btn"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="task-editor hidden">\n                <form action="" method="get" class="task-editor-form">\n                    <input class="task-field" name="task" type="text" placeholder="Task">\n                    <textarea class="description-field" name="description" placeholder="Details">\n                    </textarea>\n                    <div class="datepicker-addbutton">\n                        <input class="date-picker" name="due-date" type="date" required>\n                        <button class="task-delete-btn">\n                            <i class="far fa-trash-alt edit-task-trashcan"></i>\n                        </button>\n                        <button class="edit-task-submit-btn">\n                            <i class="far fa-check-circle edit-task-checkmark"></i>\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </li>`}updateColumnName(){document.querySelector(".list-column-name").textContent=Ng.currentList.name}switchList(e){this.taskCurrentlyBeingEdited=!1,this.listCurrentlyBeingEdited=!1,Ng.makeCurrentList(e),this.renderTasks(),this.updateColumnName()}newListSubmitBtnHandler(e){const t=e.closest(".list-menu-btn").children[1],n=t.value;""!==n?(Ng.createNewList(n),this.renderLists(),this.switchList(n)):t.focus()}renderLists(){let e=document.querySelector(".ul-list-of-lists"),t="";const n=Object.values(Ng.lists).sort(((e,t)=>e.id>t.id?1:e.id===t.id?0:e.id<t.id?-1:void 0));for(const e of n)t+=`<li class="list-menu-btn">\n                <button class="no-styling menu-list">\n                    <span class="list-icon-and-text">\n                        <i class="fas fa-list-alt list-menu-icon"></i>\n                        <span class="list-name-text">${e.name}</span>\n                    </span>\n                    <i class="fas fa-edit edit-list-graphic"></i>\n                    \x3c!-- This is not semantically perfect because this edit-list\n                    -graphic should be a button, but cannot nest a button inside\n                     a button. Todo: improve --\x3e\n                </button>\n            </li>`;e.innerHTML=t}taskSubmitBtnHandler(e){const t=e.closest(".task-editor-form"),n=t.children[0].value,i=t.children[1].value.trim(),r=t.children[2].firstElementChild.valueAsDate;if(this.dueDateIsValid(r))if(n){if(n.length>125)t.children[0].focus(),alert("The task must be 125 characters or less.");else if(n&&this.dueDateIsValid(r)){const s=t.parentElement,a="new-task-editor"===s.className,o=Date.now();if(a){const e=Ng.createNewTask(n,r,i,o);Ng.addTaskToCurrentList(e),this.renderTasks(),t.firstElementChild.value="",t.children[1].value="",t.children[2].firstElementChild.value="",s.classList.toggle("hidden")}else if(!a){const t=e.closest(".todo-item").dataset.id;Ng.modifyTask(n,r,i,t),this.renderTasks()}}}else t.children[0].focus();else t.children[2].firstElementChild.focus();this.taskCurrentlyBeingEdited=!1}dueDateIsValid(e){return!isNaN(e)}renderTasks(){let e=document.querySelector(".the-task-items");e.innerHTML="",null===Ng.currentList&&(e.innerHTML="");for(const t of Object.values(Ng.currentList.tasks)){const{taskId:n,name:i,dueDate:r,details:s}=t,a=this.createTaskHTML(n,i,r,s);e.innerHTML+=a}}createReadableDate(e){if(null===e)return"";const t=new Date(e);return`${t.getUTCMonth()+1}/${t.getUTCDate()}/${t.getUTCFullYear()}`}renderDataFromFirestore(){this.renderLists(),this.renderTasks(),this.updateColumnName()}hideFirebaseUI(){document.querySelector(".firebaseui-wrapper").classList.add("hidden")}showFirebaseUI(){document.querySelector(".firebaseui-wrapper").classList.remove("hidden")}hideToDoApp(){document.querySelector(".app-wrapper").classList.add("hidden")}showToDoApp(){document.querySelector(".app-wrapper").classList.remove("hidden")}showCurrentUsersNameOnLogOutBtn(e){document.querySelector(".log-out-btn-text").insertAdjacentHTML("beforeend",`<div class="user-display-name">${e}</div>`)}},Rg=(le.initializeApp({apiKey:"AIzaSyBYasCzpw0364viUN50gGLpaPSTSfIkq0g",authDomain:"todo-app-e225d.firebaseapp.com",projectId:"todo-app-e225d",storageBucket:"todo-app-e225d.appspot.com",messagingSenderId:"761498319334",appId:"1:761498319334:web:271614ab2f1a35ca287e27"}),function(e=ee()){const t=W(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=W(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(g(n.getOptions(),null!=t?t:{}))return e;ve(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Di,persistence:[On,vn,bn]})}());let Lg,Pg;!function(e,t,n,i){k(e).onAuthStateChanged((e=>{if(e){const{uid:t,displayName:n}=e;console.log(n),Lg=t,Pg=n,Dg.initializeEventListeners(Rg),async function(){try{const e=Ym(xg,"data",Lg),t=await function(e){e=Hm(e,zm);const t=Hm(e.firestore,Xm);return Mm(Qm(t),e._key).then((n=>function(e,t,n){const i=n.docs.get(t._key),r=new _g(e);return new kg(e,r,t._key,i,new Tg(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}(e);if(t.exists()){console.log("there's stuff in the Firestore");let{currentList:e,lists:n,nextListId:i}=t.data();e=JSON.parse(e),n=JSON.parse(n),i=JSON.parse(i),Ng.updateData({currentList:e,lists:n,nextListId:i}),Dg.renderDataFromFirestore()}else console.log("nothing in Firestore"),Ng.setDefaultList()}catch(e){console.error("Error loading data from Firestore",e)}}(),Dg.hideFirebaseUI(),Dg.showToDoApp(),Dg.showCurrentUsersNameOnLogOutBtn(n)}else Og.start("#firebaseui-auth-container",{callbacks:{signInSuccessWithAuthResult:function(){return!1},uiShown:function(){document.getElementById("loader").style.display="none"},signInFailure:function(e){console.error(e)}},signInOptions:[le.auth.EmailAuthProvider.PROVIDER_ID,le.auth.FacebookAuthProvider.PROVIDER_ID,{provider:le.auth.GoogleAuthProvider.PROVIDER_ID,customParameters:{prompt:"select_account"}}],tosUrl:"#",privacyPolicyUrl:function(){window.location.assign("#")}}),Dg.showFirebaseUI(),Dg.hideToDoApp()}),void 0,void 0)}(Rg);var Og=new yr.AuthUI(le.auth());Og.disableAutoSignIn();const xg=function(e=ee()){return W(e,"firestore").getImmediate()}();async function Mg(e,t,n){try{await function(e,t,n){e=Hm(e,zm);const i=Hm(e.firestore,Xm),r=function(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}(e.converter,t,n);return Cg(i,[lg(ug(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Ml.none())])}(Ym(xg,"data",Lg),{currentList:JSON.stringify(e),lists:JSON.stringify(n),nextListId:JSON.stringify(t)}),console.log("data saved to Firestore")}catch(e){console.error("Error updating data in Firestore: ",e)}}(function(e,t){!function(e){if(e._initialized||e._terminated)throw new Hc(qc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(e=Hm(e,Xm));const n=Qm(e),i=e._freezeSettings(),r=new Nm;return function(e,t,n){const i=new Kc;return e.asyncQueue.enqueue((async()=>{try{await Lm(e,n),await Pm(e,t),i.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===qc.FAILED_PRECONDITION||e.code===qc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),i.reject(e)}})).then((()=>i.promise))}(n,r,new Am(r,i.cacheSizeBytes,void 0))})(xg).catch((e=>{"failed-precondition"==e.code||e.code}))})()})();